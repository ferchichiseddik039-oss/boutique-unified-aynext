{"ast":null,"code":"import _objectSpread from\"C:/Users/houda/OneDrive/Bureau/boutique-vetements/boutique-unified/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Configuration pour Remove.bg API\n// Obtenez votre clé API gratuite sur: https://www.remove.bg/api\nexport const REMOVE_BG_CONFIG={// Remplacez par votre clé API Remove.bg\nAPI_KEY:\"4LoSYpzk2HgsrWwZPiXHFUQj\",// URL de l'API\nAPI_URL:\"https://api.remove.bg/v1.0/removebg\",// Options par défaut\nDEFAULT_OPTIONS:{size:\"auto\",// auto, preview, full\nformat:\"png\",// png, jpg\ntype:\"auto\"// auto, person, product, car\n}};// Fonction pour supprimer l'arrière-plan\nexport const removeBackground=async function(file){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const config=_objectSpread(_objectSpread({},REMOVE_BG_CONFIG.DEFAULT_OPTIONS),options);const formData=new FormData();formData.append(\"image_file\",file);formData.append(\"size\",config.size);formData.append(\"format\",config.format);formData.append(\"type\",config.type);try{const response=await fetch(REMOVE_BG_CONFIG.API_URL,{method:\"POST\",headers:{\"X-Api-Key\":REMOVE_BG_CONFIG.API_KEY},body:formData});if(!response.ok){var _errorData$errors,_errorData$errors$;const errorData=await response.json();throw new Error(((_errorData$errors=errorData.errors)===null||_errorData$errors===void 0?void 0:(_errorData$errors$=_errorData$errors[0])===null||_errorData$errors$===void 0?void 0:_errorData$errors$.title)||'Erreur lors de la suppression de l\\'arrière-plan');}const blob=await response.blob();// Convertir le blob en base64 pour éviter les problèmes de blob URL\nreturn new Promise((resolve,reject)=>{const reader=new FileReader();reader.onload=()=>resolve(reader.result);reader.onerror=reject;reader.readAsDataURL(blob);});}catch(error){console.error('Erreur Remove.bg:',error);throw error;}};// Fonction pour vérifier si la clé API est configurée\nexport const isApiKeyConfigured=()=>{return REMOVE_BG_CONFIG.API_KEY!==\"YOUR_REMOVE_BG_API_KEY\"&&REMOVE_BG_CONFIG.API_KEY.length>0;};","map":{"version":3,"names":["REMOVE_BG_CONFIG","API_KEY","API_URL","DEFAULT_OPTIONS","size","format","type","removeBackground","file","options","arguments","length","undefined","config","_objectSpread","formData","FormData","append","response","fetch","method","headers","body","ok","_errorData$errors","_errorData$errors$","errorData","json","Error","errors","title","blob","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","error","console","isApiKeyConfigured"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/boutique-unified/frontend/src/config/removeBg.js"],"sourcesContent":["// Configuration pour Remove.bg API\r\n// Obtenez votre clé API gratuite sur: https://www.remove.bg/api\r\n\r\nexport const REMOVE_BG_CONFIG = {\r\n  // Remplacez par votre clé API Remove.bg\r\n  API_KEY: \"4LoSYpzk2HgsrWwZPiXHFUQj\",\r\n  \r\n  // URL de l'API\r\n  API_URL: \"https://api.remove.bg/v1.0/removebg\",\r\n  \r\n  // Options par défaut\r\n  DEFAULT_OPTIONS: {\r\n    size: \"auto\", // auto, preview, full\r\n    format: \"png\", // png, jpg\r\n    type: \"auto\", // auto, person, product, car\r\n  }\r\n};\r\n\r\n// Fonction pour supprimer l'arrière-plan\r\nexport const removeBackground = async (file, options = {}) => {\r\n  const config = { ...REMOVE_BG_CONFIG.DEFAULT_OPTIONS, ...options };\r\n  \r\n  const formData = new FormData();\r\n  formData.append(\"image_file\", file);\r\n  formData.append(\"size\", config.size);\r\n  formData.append(\"format\", config.format);\r\n  formData.append(\"type\", config.type);\r\n  \r\n  try {\r\n    const response = await fetch(REMOVE_BG_CONFIG.API_URL, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"X-Api-Key\": REMOVE_BG_CONFIG.API_KEY,\r\n      },\r\n      body: formData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.errors?.[0]?.title || 'Erreur lors de la suppression de l\\'arrière-plan');\r\n    }\r\n\r\n    const blob = await response.blob();\r\n    \r\n    // Convertir le blob en base64 pour éviter les problèmes de blob URL\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = reject;\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  } catch (error) {\r\n    console.error('Erreur Remove.bg:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Fonction pour vérifier si la clé API est configurée\r\nexport const isApiKeyConfigured = () => {\r\n  return REMOVE_BG_CONFIG.API_KEY !== \"YOUR_REMOVE_BG_API_KEY\" && \r\n         REMOVE_BG_CONFIG.API_KEY.length > 0;\r\n};\r\n"],"mappings":"gKAAA;AACA;AAEA,MAAO,MAAM,CAAAA,gBAAgB,CAAG,CAC9B;AACAC,OAAO,CAAE,0BAA0B,CAEnC;AACAC,OAAO,CAAE,qCAAqC,CAE9C;AACAC,eAAe,CAAE,CACfC,IAAI,CAAE,MAAM,CAAE;AACdC,MAAM,CAAE,KAAK,CAAE;AACfC,IAAI,CAAE,MAAQ;AAChB,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,gBAAgB,CAAG,cAAAA,CAAOC,IAAI,CAAmB,IAAjB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACvD,KAAM,CAAAG,MAAM,CAAAC,aAAA,CAAAA,aAAA,IAAQd,gBAAgB,CAACG,eAAe,EAAKM,OAAO,CAAE,CAElE,KAAM,CAAAM,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,YAAY,CAAET,IAAI,CAAC,CACnCO,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEJ,MAAM,CAACT,IAAI,CAAC,CACpCW,QAAQ,CAACE,MAAM,CAAC,QAAQ,CAAEJ,MAAM,CAACR,MAAM,CAAC,CACxCU,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEJ,MAAM,CAACP,IAAI,CAAC,CAEpC,GAAI,CACF,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACnB,gBAAgB,CAACE,OAAO,CAAE,CACrDkB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,WAAW,CAAErB,gBAAgB,CAACC,OAChC,CAAC,CACDqB,IAAI,CAAEP,QACR,CAAC,CAAC,CAEF,GAAI,CAACG,QAAQ,CAACK,EAAE,CAAE,KAAAC,iBAAA,CAAAC,kBAAA,CAChB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CACvC,KAAM,IAAI,CAAAC,KAAK,CAAC,EAAAJ,iBAAA,CAAAE,SAAS,CAACG,MAAM,UAAAL,iBAAA,kBAAAC,kBAAA,CAAhBD,iBAAA,CAAmB,CAAC,CAAC,UAAAC,kBAAA,iBAArBA,kBAAA,CAAuBK,KAAK,GAAI,kDAAkD,CAAC,CACrG,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAb,QAAQ,CAACa,IAAI,CAAC,CAAC,CAElC;AACA,MAAO,IAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACtC,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAG,IAAMJ,OAAO,CAACE,MAAM,CAACG,MAAM,CAAC,CAC5CH,MAAM,CAACI,OAAO,CAAGL,MAAM,CACvBC,MAAM,CAACK,aAAa,CAACT,IAAI,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAE,MAAOU,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzC,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAE,kBAAkB,CAAGA,CAAA,GAAM,CACtC,MAAO,CAAA3C,gBAAgB,CAACC,OAAO,GAAK,wBAAwB,EACrDD,gBAAgB,CAACC,OAAO,CAACU,MAAM,CAAG,CAAC,CAC5C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}