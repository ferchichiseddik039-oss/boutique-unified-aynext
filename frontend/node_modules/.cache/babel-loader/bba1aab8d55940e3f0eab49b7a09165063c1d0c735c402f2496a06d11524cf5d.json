{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../config/api-simple';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TestAPI=()=>{const[products,setProducts]=useState([]);const[settings,setSettings]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{testAPI();},[]);const testAPI=async()=>{try{setLoading(true);setError(null);// Test 1: Health check\nconsole.log('🧪 Test 1: Health check');const health=await api.get('/health');console.log('✅ Health:',health);// Test 2: Settings\nconsole.log('🧪 Test 2: Settings');const settingsData=await api.get('/settings');console.log('✅ Settings:',settingsData);setSettings(settingsData.settings);// Test 3: Products\nconsole.log('🧪 Test 3: Products');const productsData=await api.get('/products');console.log('✅ Products:',productsData);setProducts(productsData.products);}catch(err){console.error('❌ Erreur API:',err);setError(err.message);}finally{setLoading(false);}};const testAdminLogin=async()=>{try{console.log('🧪 Test 4: Admin Login');const loginData=await api.post('/auth/connexion-admin',{email:'ayoubbenromdan8@gmail.com',motDePasse:'52141707'});console.log('✅ Admin Login:',loginData);if(loginData.success){localStorage.setItem('token',loginData.token);alert('Connexion admin réussie !');}}catch(err){console.error('❌ Erreur Admin Login:',err);alert('Erreur connexion admin: '+err.message);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83E\\uDDEA Test de l'API\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',maxWidth:'800px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83E\\uDDEA Test de l'API - Boutique AYNEXT\"}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#ffebee',color:'#c62828',padding:'10px',borderRadius:'4px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u274C Erreur:\"}),\" \",error]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:testAPI,style:{background:'#2196f3',color:'white',border:'none',padding:'10px 20px',borderRadius:'4px',marginRight:'10px',cursor:'pointer'},children:\"\\uD83D\\uDD04 Tester API\"}),/*#__PURE__*/_jsx(\"button\",{onClick:testAdminLogin,style:{background:'#4caf50',color:'white',border:'none',padding:'10px 20px',borderRadius:'4px',cursor:'pointer'},children:\"\\uD83D\\uDD11 Tester Connexion Admin\"})]}),settings&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f5f5f5',padding:'15px',borderRadius:'4px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2699\\uFE0F Param\\xE8tres Boutique\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nom:\"}),\" \",settings.informationsGenerales.nomBoutique]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",settings.informationsGenerales.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xE9l\\xE9phone:\"}),\" \",settings.informationsGenerales.telephone]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83D\\uDCE6 Produits (\",products.length,\")\"]}),products.map(product=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #ddd',padding:'15px',marginBottom:'10px',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:product.nom}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Prix:\"}),\" \",product.prix,\" TND\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",product.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Couleurs:\"}),\" \",product.couleurs.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tailles:\"}),\" \",product.tailles.join(', ')]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Images:\"}),product.images.map((image,index)=>/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'5px'},children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"\".concat(product.nom,\" \").concat(index+1),style:{width:'100px',height:'100px',objectFit:'cover',border:'1px solid #ddd',borderRadius:'4px',marginRight:'5px'},onError:e=>{e.target.style.display='none';}})},index))]})]},product._id))]})]});};export default TestAPI;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","TestAPI","products","setProducts","settings","setSettings","loading","setLoading","error","setError","testAPI","console","log","health","get","settingsData","productsData","err","message","testAdminLogin","loginData","post","email","motDePasse","success","localStorage","setItem","token","alert","style","padding","textAlign","children","maxWidth","margin","background","color","borderRadius","marginBottom","onClick","border","marginRight","cursor","informationsGenerales","nomBoutique","telephone","length","map","product","nom","prix","description","couleurs","join","tailles","images","image","index","marginTop","src","alt","concat","width","height","objectFit","onError","e","target","display","_id"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/frontend-vercel/src/pages/TestAPI.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../config/api-simple';\r\n\r\nconst TestAPI = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [settings, setSettings] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    testAPI();\r\n  }, []);\r\n\r\n  const testAPI = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Test 1: Health check\r\n      console.log('🧪 Test 1: Health check');\r\n      const health = await api.get('/health');\r\n      console.log('✅ Health:', health);\r\n\r\n      // Test 2: Settings\r\n      console.log('🧪 Test 2: Settings');\r\n      const settingsData = await api.get('/settings');\r\n      console.log('✅ Settings:', settingsData);\r\n      setSettings(settingsData.settings);\r\n\r\n      // Test 3: Products\r\n      console.log('🧪 Test 3: Products');\r\n      const productsData = await api.get('/products');\r\n      console.log('✅ Products:', productsData);\r\n      setProducts(productsData.products);\r\n\r\n    } catch (err) {\r\n      console.error('❌ Erreur API:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const testAdminLogin = async () => {\r\n    try {\r\n      console.log('🧪 Test 4: Admin Login');\r\n      const loginData = await api.post('/auth/connexion-admin', {\r\n        email: 'ayoubbenromdan8@gmail.com',\r\n        motDePasse: '52141707'\r\n      });\r\n      console.log('✅ Admin Login:', loginData);\r\n      \r\n      if (loginData.success) {\r\n        localStorage.setItem('token', loginData.token);\r\n        alert('Connexion admin réussie !');\r\n      }\r\n    } catch (err) {\r\n      console.error('❌ Erreur Admin Login:', err);\r\n      alert('Erreur connexion admin: ' + err.message);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ padding: '20px', textAlign: 'center' }}>\r\n        <h2>🧪 Test de l'API</h2>\r\n        <p>Chargement...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '20px', maxWidth: '800px', margin: '0 auto' }}>\r\n      <h2>🧪 Test de l'API - Boutique AYNEXT</h2>\r\n      \r\n      {error && (\r\n        <div style={{ \r\n          background: '#ffebee', \r\n          color: '#c62828', \r\n          padding: '10px', \r\n          borderRadius: '4px',\r\n          marginBottom: '20px'\r\n        }}>\r\n          <strong>❌ Erreur:</strong> {error}\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <button \r\n          onClick={testAPI}\r\n          style={{\r\n            background: '#2196f3',\r\n            color: 'white',\r\n            border: 'none',\r\n            padding: '10px 20px',\r\n            borderRadius: '4px',\r\n            marginRight: '10px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          🔄 Tester API\r\n        </button>\r\n        \r\n        <button \r\n          onClick={testAdminLogin}\r\n          style={{\r\n            background: '#4caf50',\r\n            color: 'white',\r\n            border: 'none',\r\n            padding: '10px 20px',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          🔑 Tester Connexion Admin\r\n        </button>\r\n      </div>\r\n\r\n      {settings && (\r\n        <div style={{ \r\n          background: '#f5f5f5', \r\n          padding: '15px', \r\n          borderRadius: '4px',\r\n          marginBottom: '20px'\r\n        }}>\r\n          <h3>⚙️ Paramètres Boutique</h3>\r\n          <p><strong>Nom:</strong> {settings.informationsGenerales.nomBoutique}</p>\r\n          <p><strong>Email:</strong> {settings.informationsGenerales.email}</p>\r\n          <p><strong>Téléphone:</strong> {settings.informationsGenerales.telephone}</p>\r\n        </div>\r\n      )}\r\n\r\n      <div>\r\n        <h3>📦 Produits ({products.length})</h3>\r\n        {products.map((product) => (\r\n          <div key={product._id} style={{ \r\n            border: '1px solid #ddd', \r\n            padding: '15px', \r\n            marginBottom: '10px',\r\n            borderRadius: '4px'\r\n          }}>\r\n            <h4>{product.nom}</h4>\r\n            <p><strong>Prix:</strong> {product.prix} TND</p>\r\n            <p><strong>Description:</strong> {product.description}</p>\r\n            <p><strong>Couleurs:</strong> {product.couleurs.join(', ')}</p>\r\n            <p><strong>Tailles:</strong> {product.tailles.join(', ')}</p>\r\n            <div>\r\n              <strong>Images:</strong>\r\n              {product.images.map((image, index) => (\r\n                <div key={index} style={{ marginTop: '5px' }}>\r\n                  <img \r\n                    src={image} \r\n                    alt={`${product.nom} ${index + 1}`}\r\n                    style={{ \r\n                      width: '100px', \r\n                      height: '100px', \r\n                      objectFit: 'cover',\r\n                      border: '1px solid #ddd',\r\n                      borderRadius: '4px',\r\n                      marginRight: '5px'\r\n                    }}\r\n                    onError={(e) => {\r\n                      e.target.style.display = 'none';\r\n                    }}\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TestAPI;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}