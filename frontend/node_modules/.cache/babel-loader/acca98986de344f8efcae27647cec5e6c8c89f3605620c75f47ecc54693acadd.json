{"ast":null,"code":"import _objectSpread from\"C:/Users/houda/OneDrive/Bureau/boutique-vetements/frontend-vercel/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{FaPlus,FaEdit,FaTrash,FaEye,FaUsers,FaBox,FaShoppingCart,FaChartLine,FaCog,FaSignOutAlt,FaTimes,FaHome,FaUser,FaMapMarkerAlt,FaCity,FaMailBulk,FaGlobe,FaChartBar,FaMoneyBillWave}from'react-icons/fa';import{toast}from'react-toastify';import{useAuth}from'../contexts/AuthContext';import{useSocket}from'../contexts/SocketContext';import{formatBrand}from'../utils/formatUtils';import SettingsTab from'../components/SettingsTab';import api from'../config/axios';import'../styles/Admin.css';import'../styles/ModernDashboard.css';import'../styles/Settings.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Admin=()=>{const[activeTab,setActiveTab]=useState('dashboard');const[loading,setLoading]=useState(true);const[stats,setStats]=useState({});const[products,setProducts]=useState([]);const[orders,setOrders]=useState([]);const[users,setUsers]=useState([]);const[usersPagination,setUsersPagination]=useState({page:1,limit:20,total:0,pages:0});const[usersSearch,setUsersSearch]=useState('');const[usersRoleFilter,setUsersRoleFilter]=useState('');const[showUserDetails,setShowUserDetails]=useState(false);const[selectedUser,setSelectedUser]=useState(null);const{user,logout}=useAuth();const{socket,isConnected,joinAdminRoom,leaveAdminRoom}=useSocket();const navigate=useNavigate();// Fonction pour mettre √† jour les statistiques bas√©es sur le nombre de produits\nconst updateStatsFromProducts=newProductCount=>{setStats(prevStats=>_objectSpread(_objectSpread({},prevStats),{},{totalProducts:newProductCount}));console.log('üìä Statistiques mises √† jour localement - Produits:',newProductCount);};// V√©rifier que le token admin est valide avant les requ√™tes importantes\nconst checkAdminToken=async()=>{const token=localStorage.getItem('token');if(!token){toast.error('Token d\\'authentification manquant');window.location.href='/admin-login';return false;}try{await api.get('/auth/check');return true;}catch(error){var _error$response;console.error('Token admin invalide:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');toast.error('Session expir√©e. Veuillez vous reconnecter.');window.location.href='/admin-login';}return false;}};useEffect(()=>{if(user&&user.role==='admin'){fetchDashboardData();// Rejoindre la room admin pour les mises √† jour en temps r√©el\njoinAdminRoom();}},[user]);// Retir√© joinAdminRoom des d√©pendances\n// Quitter la room admin quand le composant est d√©mont√©\nuseEffect(()=>{return()=>{leaveAdminRoom();};},[]);// Retir√© leaveAdminRoom des d√©pendances\n// √âcouter les √©v√©nements WebSocket\nuseEffect(()=>{if(!socket||!isConnected)return;// √âv√©nement quand un produit est supprim√©\nsocket.on('product-deleted',data=>{console.log('Produit supprim√© via WebSocket:',data);setProducts(prev=>{const newProducts=prev.filter(p=>p._id!==data.productId);// Mettre √† jour les statistiques avec le nouveau nombre\nupdateStatsFromProducts(newProducts.length);return newProducts;});toast.info(\"Produit \\\"\".concat(data.productName,\"\\\" supprim\\xE9 par \").concat(data.deletedBy));});// √âv√©nement quand un produit est ajout√©\nsocket.on('product-added',data=>{console.log('Produit ajout√© via WebSocket:',data);setProducts(prev=>{const newProducts=[data.product,...prev];// Mettre √† jour les statistiques avec le nouveau nombre\nupdateStatsFromProducts(newProducts.length);return newProducts;});toast.info(\"Nouveau produit \\\"\".concat(data.product.nom,\"\\\" ajout\\xE9 par \").concat(data.addedBy));});// √âv√©nement quand un produit est mis √† jour\nsocket.on('product-updated',data=>{console.log('Produit mis √† jour via WebSocket:',data);setProducts(prev=>prev.map(p=>p._id===data.product._id?data.product:p));// Pas besoin de mettre √† jour le nombre pour une mise √† jour\ntoast.info(\"Produit \\\"\".concat(data.product.nom,\"\\\" mis \\xE0 jour par \").concat(data.updatedBy));});// √âv√©nement pour les statistiques mises √† jour en temps r√©el\nsocket.on('stats-updated',data=>{console.log('üìä Statistiques re√ßues via WebSocket:',data);console.log('üì¶ Nombre de produits re√ßu:',data.totalProducts);console.log('üí∞ Chiffre d\\'affaires re√ßu:',data.chiffreAffaires);console.log('üë• Nombre d\\'utilisateurs re√ßu:',data.totalUsers);console.log('üõí Nombre de commandes re√ßu:',data.totalOrders);setStats(data);toast.info(\"Statistiques mises \\xE0 jour: \".concat(data.totalProducts,\" produits\"),{autoClose:2000});});// Cleanup\nreturn()=>{socket.off('product-deleted');socket.off('product-added');socket.off('product-updated');socket.off('stats-updated');};},[socket,isConnected]);const handleLogout=()=>{if(window.confirm('√ätes-vous s√ªr de vouloir vous d√©connecter ?')){// Quitter la room admin avant de se d√©connecter\nleaveAdminRoom();logout();navigate('/');toast.success('D√©connexion r√©ussie');}};// Charger les utilisateurs quand on clique sur l'onglet Utilisateurs\nuseEffect(()=>{if(activeTab==='users'&&user&&user.role==='admin'){fetchUsers(1,20,'','');}},[activeTab,user]);// Charger toutes les commandes quand on clique sur l'onglet Commandes\nuseEffect(()=>{if(activeTab==='orders'&&user&&user.role==='admin'){fetchAllOrders();}},[activeTab,user]);const fetchDashboardData=async()=>{try{setLoading(true);// Charger les statistiques\nconst statsResponse=await fetch('/api/admin/stats',{headers:{'x-auth-token':localStorage.getItem('token')}});if(statsResponse.ok){const statsData=await statsResponse.json();console.log('üìä Statistiques initiales charg√©es:',statsData);console.log('üì¶ Nombre de produits initial:',statsData.totalProducts);setStats(statsData);}// Charger les produits\nconsole.log('Chargement des produits...');try{const productsResponse=await api.get('/products?limit=100');// Charger plus de produits pour avoir le vrai total\nconsole.log('Donn√©es produits re√ßues:',productsResponse.data);const loadedProducts=productsResponse.data.produits||productsResponse.data.products||[];console.log('Nombre de produits charg√©s:',loadedProducts.length);setProducts(loadedProducts);// Synchroniser les statistiques avec le nombre r√©el de produits\nif(loadedProducts.length>0){setStats(prevStats=>_objectSpread(_objectSpread({},prevStats),{},{totalProducts:loadedProducts.length}));console.log('üìä Statistiques synchronis√©es - Produits:',loadedProducts.length);}}catch(error){console.error('Erreur lors du chargement des produits:',error);}// Charger les commandes r√©centes (toutes les commandes pour l'admin)\ntry{const ordersResponse=await api.get('/orders/admin/toutes?limit=10');setOrders(ordersResponse.data.commandes||ordersResponse.data.orders||[]);}catch(error){console.error('Erreur lors du chargement des commandes:',error);}// Charger les utilisateurs r√©cents pour le dashboard\nawait fetchUsers(1,10);}catch(error){toast.error('Erreur lors du chargement des donn√©es');}finally{setLoading(false);}};const fetchUsers=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;let search=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let role=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';try{const params=new URLSearchParams({page:page.toString(),limit:limit.toString()});if(search)params.append('recherche',search);if(role)params.append('role',role);const response=await fetch(\"/api/users/admin/tous?\".concat(params),{headers:{'x-auth-token':localStorage.getItem('token')}});if(response.ok){const data=await response.json();setUsers(data.utilisateurs);setUsersPagination(data.pagination);}else{toast.error('Erreur lors du chargement des utilisateurs');}}catch(error){toast.error('Erreur lors du chargement des utilisateurs');}};const fetchAllOrders=async()=>{try{setLoading(true);const response=await api.get('/orders/admin/toutes');setOrders(response.data.commandes||response.data.orders||[]);}catch(error){console.error('Erreur lors du chargement des commandes:',error);toast.error('Erreur lors du chargement des commandes');}finally{setLoading(false);}};// Fonction pour voir les d√©tails d'un utilisateur\nconst handleViewUser=user=>{setSelectedUser(user);setShowUserDetails(true);};if(!user||user.role!=='admin'){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"admin-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"access-denied\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Acc\\xE8s refus\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Vous n'avez pas les permissions n\\xE9cessaires pour acc\\xE9der \\xE0 cette page.\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn-primary\",children:\"Retour \\xE0 l'accueil\"})]})})});}if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement du tableau de bord...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Administration\"}),/*#__PURE__*/_jsx(\"p\",{children:\"AYNEXT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"connection-status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-indicator \".concat(isConnected?'connected':'disconnected'),children:isConnected?'üü¢ Temps r√©el':'üî¥ Hors ligne'})})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"sidebar-nav\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='dashboard'?'active':''),onClick:()=>setActiveTab('dashboard'),children:[/*#__PURE__*/_jsx(FaChartLine,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Tableau de bord\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='products'?'active':''),onClick:()=>setActiveTab('products'),children:[/*#__PURE__*/_jsx(FaBox,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Produits\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='orders'?'active':''),onClick:()=>setActiveTab('orders'),children:[/*#__PURE__*/_jsx(FaShoppingCart,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Commandes\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='users'?'active':''),onClick:()=>setActiveTab('users'),children:[/*#__PURE__*/_jsx(FaUsers,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Utilisateurs\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='settings'?'active':''),onClick:()=>setActiveTab('settings'),children:[/*#__PURE__*/_jsx(FaCog,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Param\\xE8tres\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-home\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"sidebar-item home-btn\",target:\"_blank\",rel:\"noopener noreferrer\",children:[/*#__PURE__*/_jsx(FaHome,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Voir la boutique\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-footer\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item logout-btn\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(FaSignOutAlt,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"D\\xE9connexion\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[activeTab==='dashboard'&&/*#__PURE__*/_jsx(DashboardTab,{stats:stats,onRefresh:fetchDashboardData}),activeTab==='products'&&/*#__PURE__*/_jsx(ProductsTab,{products:products,onProductAdded:newProduct=>{setProducts(prev=>[...(prev||[]),newProduct]);}}),activeTab==='orders'&&/*#__PURE__*/_jsx(OrdersTab,{orders:orders,onOrdersUpdate:setOrders}),activeTab==='users'&&/*#__PURE__*/_jsx(UsersTab,{users:users,pagination:usersPagination,onViewUser:handleViewUser}),activeTab==='settings'&&/*#__PURE__*/_jsx(SettingsTab,{})]})})]}),showUserDetails&&selectedUser&&/*#__PURE__*/_jsx(UserDetailsModal,{user:selectedUser,onClose:()=>{setShowUserDetails(false);setSelectedUser(null);}})]});};// Onglet Tableau de bord moderne\nconst DashboardTab=_ref=>{let{stats,onRefresh}=_ref;console.log('üéØ DashboardTab - Stats re√ßues:',stats);// Fonction pour calculer la tendance\nconst getTrend=(value,type)=>{if(type==='revenue'&&value>200)return'up';if(type==='users'&&value>2)return'up';if(type==='products'&&value>1)return'up';if(type==='orders'&&value>4)return'up';return'stable';};// Fonction pour obtenir l'ic√¥ne de tendance\nconst getTrendIcon=trend=>{switch(trend){case'up':return'üìà';case'down':return'üìâ';default:return'‚û°Ô∏è';}};// Fonction pour obtenir la description\nconst getDescription=(type,value)=>{switch(type){case'users':return value>5?'Croissance excellente':value>2?'Croissance stable':'En d√©veloppement';case'products':return value>10?'Catalogue complet':value>5?'Catalogue en expansion':'Catalogue en construction';case'orders':return value>20?'Activit√© √©lev√©e':value>10?'Activit√© mod√©r√©e':'Activit√© en croissance';case'revenue':return value>1000?'Performances excellentes':value>500?'Performances bonnes':'Performances en d√©veloppement';default:return'Donn√©es mises √† jour';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-tab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stats-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modern-header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modern-header-title\",children:\"Statistiques de la boutique\"}),/*#__PURE__*/_jsx(\"p\",{className:\"modern-header-subtitle\",children:\"Vue d'ensemble en temps r\\xE9el de votre activit\\xE9 commerciale\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stats-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modern-realtime-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-pulse-dot\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mise \\xE0 jour en temps r\\xE9el\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"modern-refresh-btn\",onClick:onRefresh,title:\"Rafra\\xEEchir les statistiques\",children:/*#__PURE__*/_jsx(FaChartLine,{})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-card users\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-icon\",children:/*#__PURE__*/_jsx(FaUsers,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-trend \".concat(getTrend(stats.totalUsers,'users')),children:[/*#__PURE__*/_jsx(\"span\",{children:getTrendIcon(getTrend(stats.totalUsers,'users'))}),/*#__PURE__*/_jsx(\"span\",{children:\"Tendance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-value\",children:stats.totalUsers||0}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-label\",children:\"Utilisateurs inscrits\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-description\",children:getDescription('users',stats.totalUsers)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-card products\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-icon\",children:/*#__PURE__*/_jsx(FaBox,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-trend \".concat(getTrend(stats.totalProducts,'products')),children:[/*#__PURE__*/_jsx(\"span\",{children:getTrendIcon(getTrend(stats.totalProducts,'products'))}),/*#__PURE__*/_jsx(\"span\",{children:\"Stock\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-value\",children:stats.totalProducts||0}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-label\",children:\"Produits disponibles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-description\",children:getDescription('products',stats.totalProducts)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-card orders\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-icon\",children:/*#__PURE__*/_jsx(FaShoppingCart,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-trend \".concat(getTrend(stats.totalOrders,'orders')),children:[/*#__PURE__*/_jsx(\"span\",{children:getTrendIcon(getTrend(stats.totalOrders,'orders'))}),/*#__PURE__*/_jsx(\"span\",{children:\"Activit\\xE9\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-value\",children:stats.totalOrders||0}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-label\",children:\"Commandes totales\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-description\",children:getDescription('orders',stats.totalOrders)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-card revenue\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-icon\",children:/*#__PURE__*/_jsx(FaChartLine,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-trend \".concat(getTrend(stats.chiffreAffaires,'revenue')),children:[/*#__PURE__*/_jsx(\"span\",{children:getTrendIcon(getTrend(stats.chiffreAffaires,'revenue'))}),/*#__PURE__*/_jsx(\"span\",{children:\"Performance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-value\",children:stats.chiffreAffaires||0}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-label\",children:\"Chiffre d'affaires (TND)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-stat-description\",children:getDescription('revenue',stats.chiffreAffaires)})]})]})]}),stats.recentOrders&&stats.recentOrders.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"modern-recent-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"modern-section-title\",children:[/*#__PURE__*/_jsx(FaShoppingCart,{}),\"Commandes r\\xE9centes\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"modern-recent-orders\",children:stats.recentOrders.slice(0,5).map((order,index)=>{var _order$utilisateur,_order$utilisateur$pr,_order$_id,_order$utilisateur2,_order$utilisateur3;return/*#__PURE__*/_jsxs(\"div\",{className:\"modern-order-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modern-order-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-order-avatar\",children:((_order$utilisateur=order.utilisateur)===null||_order$utilisateur===void 0?void 0:(_order$utilisateur$pr=_order$utilisateur.prenom)===null||_order$utilisateur$pr===void 0?void 0:_order$utilisateur$pr.charAt(0))||'U'}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-order-details\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Commande #\",(_order$_id=order._id)===null||_order$_id===void 0?void 0:_order$_id.slice(-8)]}),/*#__PURE__*/_jsxs(\"p\",{children:[(_order$utilisateur2=order.utilisateur)===null||_order$utilisateur2===void 0?void 0:_order$utilisateur2.prenom,\" \",(_order$utilisateur3=order.utilisateur)===null||_order$utilisateur3===void 0?void 0:_order$utilisateur3.nom]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-order-amount\",children:[order.total,\" TND\"]})]},order._id||index);})})]})]});};// Onglet Produits\nconst ProductsTab=_ref2=>{let{products,onProductAdded}=_ref2;const[showAddForm,setShowAddForm]=useState(false);const[loading,setLoading]=useState(false);const[selectedProduct,setSelectedProduct]=useState(null);const[showProductDetails,setShowProductDetails]=useState(false);const[showEditForm,setShowEditForm]=useState(false);const[productsList,setProductsList]=useState(products||[]);const{user}=useAuth();// Log pour d√©bogage\nconsole.log('ProductsTab - Produits re√ßus:',products);console.log('ProductsTab - Nombre de produits:',(products===null||products===void 0?void 0:products.length)||0);// Mettre √† jour la liste des produits quand les props changent\nuseEffect(()=>{setProductsList(products||[]);},[products]);// Fonction pour supprimer un produit\nconst handleDeleteProduct=async(productId,productName)=>{if(!window.confirm(\"\\xCAtes-vous s\\xFBr de vouloir supprimer le produit \\\"\".concat(productName,\"\\\" ?\"))){return;}try{setLoading(true);console.log('Tentative de suppression du produit:',productId);console.log('Utilisateur actuel:',user);console.log('Token:',localStorage.getItem('token'));await api.delete(\"/api/products/\".concat(productId));// La mise √† jour sera g√©r√©e par WebSocket\ntoast.success('Produit supprim√© avec succ√®s');}catch(error){var _error$response2,_error$response3,_error$response4,_error$response4$data;console.error('Erreur lors de la suppression:',error);console.error('Status:',(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status);console.error('Data:',(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data);const errorMessage=((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Erreur lors de la suppression du produit';toast.error(errorMessage);}finally{setLoading(false);}};// Fonction pour voir les d√©tails d'un produit\nconst handleViewProduct=product=>{setSelectedProduct(product);setShowProductDetails(true);};// Fonction pour modifier un produit\nconst handleEditProduct=product=>{setSelectedProduct(product);setShowEditForm(true);setShowProductDetails(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"products-tab\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gestion des produits\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",(productsList===null||productsList===void 0?void 0:productsList.length)||0,\" produits\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary\",onClick:()=>setShowAddForm(true),children:[/*#__PURE__*/_jsx(FaPlus,{}),\"Ajouter un produit\"]})]})]}),showAddForm&&/*#__PURE__*/_jsx(AddProductForm,{onClose:()=>setShowAddForm(false),onProductAdded:async newProduct=>{// La mise √† jour sera g√©r√©e par WebSocket\nsetShowAddForm(false);toast.success('Produit ajout√© avec succ√®s');}}),showEditForm&&selectedProduct&&/*#__PURE__*/_jsx(EditProductForm,{product:selectedProduct,onClose:()=>{setShowEditForm(false);setSelectedProduct(null);},onProductUpdated:async updatedProduct=>{// La mise √† jour sera g√©r√©e par WebSocket\nsetShowEditForm(false);setSelectedProduct(null);toast.success('Produit modifi√© avec succ√®s');}}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:(productsList||[]).map(product=>{const totalStock=product.tailles?product.tailles.reduce((total,taille)=>total+(taille.stock||0),0):0;const mainImage=product.images&&product.images.length>0?product.images[0].url:null;return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image\",children:[mainImage?/*#__PURE__*/_jsx(\"img\",{src:mainImage,alt:product.images[0].alt||product.nom,onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"no-image\",style:{display:mainImage?'none':'flex'},children:[/*#__PURE__*/_jsx(FaBox,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Aucune image\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-badges\",children:[product.estNouveau&&/*#__PURE__*/_jsx(\"span\",{className:\"badge new\",children:\"Nouveau\"}),product.estEnPromotion&&/*#__PURE__*/_jsx(\"span\",{className:\"badge promo\",children:\"Promo\"}),product.estPopulaire&&/*#__PURE__*/_jsx(\"span\",{className:\"badge popular\",children:\"Populaire\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-name\",children:product.nom}),/*#__PURE__*/_jsx(\"p\",{className:\"product-brand\",children:formatBrand(product.marque)}),/*#__PURE__*/_jsx(\"p\",{className:\"product-category\",children:product.categorie}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-pricing\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"current-price\",children:[product.prix,\" TND\"]}),product.prixReduit&&product.prixReduit<product.prix&&/*#__PURE__*/_jsxs(\"span\",{className:\"original-price\",children:[product.prixReduit,\" TND\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-stock\",children:/*#__PURE__*/_jsx(\"span\",{className:\"stock-indicator \".concat(totalStock>0?'in-stock':'out-of-stock'),children:totalStock>0?\"\".concat(totalStock,\" en stock\"):'Rupture de stock'})}),product.tailles&&product.tailles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-sizes\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sizes-label\",children:\"Tailles disponibles:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sizes-list\",children:product.tailles.filter(taille=>taille.stock>0).map(taille=>/*#__PURE__*/_jsxs(\"span\",{className:\"size-tag\",children:[taille.nom,\" (\",taille.stock,\")\"]},taille.nom))})]}),product.couleurs&&product.couleurs.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-colors\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"colors-label\",children:\"Couleurs:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"colors-list\",children:[product.couleurs.slice(0,5).map((couleur,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"color-dot\",style:{backgroundColor:couleur.code},title:couleur.nom},index)),product.couleurs.length>5&&/*#__PURE__*/_jsxs(\"span\",{className:\"more-colors\",children:[\"+\",product.couleurs.length-5]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon edit\",title:\"Modifier le produit\",onClick:()=>handleEditProduct(product),disabled:loading,children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon view\",title:\"Voir les d\\xE9tails\",onClick:()=>handleViewProduct(product),children:/*#__PURE__*/_jsx(FaEye,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon delete\",title:\"Supprimer le produit\",onClick:()=>handleDeleteProduct(product._id,product.nom),disabled:loading,children:/*#__PURE__*/_jsx(FaTrash,{})})]})]},product._id);})}),showProductDetails&&selectedProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowProductDetails(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"D\\xE9tails du produit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setShowProductDetails(false),children:/*#__PURE__*/_jsx(FaTimes,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image-section\",children:selectedProduct.images&&selectedProduct.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:selectedProduct.images[0].url,alt:selectedProduct.nom,className:\"product-detail-image\"}):/*#__PURE__*/_jsx(\"div\",{className:\"no-image\",children:\"Aucune image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:selectedProduct.nom}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Marque:\"}),\" \",selectedProduct.marque||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cat\\xE9gorie:\"}),\" \",selectedProduct.categorie||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Genre:\"}),\" \",selectedProduct.genre||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Prix:\"}),\" \",selectedProduct.prix,\" TND\"]}),selectedProduct.prixReduit&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Prix r\\xE9duit:\"}),\" \",selectedProduct.prixReduit,\" TND\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",selectedProduct.description||'Aucune description']}),selectedProduct.tailles&&selectedProduct.tailles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sizes-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Tailles disponibles:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sizes-list\",children:selectedProduct.tailles.map((taille,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"size-item\",children:[taille.taille,\": \",taille.stock||0,\" en stock\"]},index))})]}),selectedProduct.couleurs&&selectedProduct.couleurs.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"colors-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Couleurs disponibles:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"colors-list\",children:selectedProduct.couleurs.map((couleur,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"color-item\",children:couleur.nom},index))})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setShowProductDetails(false),children:\"Fermer\"})})]})})]});};// Onglet Commandes\nconst OrdersTab=_ref3=>{let{orders,onOrdersUpdate}=_ref3;const[selectedOrder,setSelectedOrder]=useState(null);const[showOrderDetails,setShowOrderDetails]=useState(false);const[filterStatus,setFilterStatus]=useState('all');const[searchTerm,setSearchTerm]=useState('');const handleViewOrder=order=>{setSelectedOrder(order);setShowOrderDetails(true);};const getOrderTypeIcon=order=>{var _order$articles;const hasCustomHoodie=(_order$articles=order.articles)===null||_order$articles===void 0?void 0:_order$articles.some(article=>article.type==='custom_hoodie');return hasCustomHoodie?'üé®':'üì¶';};const getOrderTypeLabel=order=>{var _order$articles2;const hasCustomHoodie=(_order$articles2=order.articles)===null||_order$articles2===void 0?void 0:_order$articles2.some(article=>article.type==='custom_hoodie');return hasCustomHoodie?'Hoodie personnalis√©':'Commande standard';};const getStatusInfo=status=>{const statusConfig={'en_attente':{label:'En attente',color:'#ffc107',bgColor:'#fff3cd',icon:'‚è≥'},'confirmee':{label:'Confirm√©e',color:'#17a2b8',bgColor:'#d1ecf1',icon:'‚úÖ'},'en_preparation':{label:'En pr√©paration',color:'#fd7e14',bgColor:'#ffeaa7',icon:'üîß'},'expediee':{label:'Exp√©di√©e',color:'#6f42c1',bgColor:'#e2e3f1',icon:'üöö'},'livree':{label:'Livr√©e',color:'#28a745',bgColor:'#d4edda',icon:'üì¶'},'annulee':{label:'Annul√©e',color:'#dc3545',bgColor:'#f8d7da',icon:'‚ùå'}};return statusConfig[status]||{label:status,color:'#6c757d',bgColor:'#f8f9fa',icon:'‚ùì'};};const formatDate=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);return date.toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});};const filteredOrders=(orders||[]).filter(order=>{var _order$_id2,_order$utilisateur4,_order$utilisateur5;const matchesStatus=filterStatus==='all'||order.statut===filterStatus;const matchesSearch=!searchTerm||((_order$_id2=order._id)===null||_order$_id2===void 0?void 0:_order$_id2.toLowerCase().includes(searchTerm.toLowerCase()))||\"\".concat((_order$utilisateur4=order.utilisateur)===null||_order$utilisateur4===void 0?void 0:_order$utilisateur4.nom,\" \").concat((_order$utilisateur5=order.utilisateur)===null||_order$utilisateur5===void 0?void 0:_order$utilisateur5.prenom).toLowerCase().includes(searchTerm.toLowerCase());return matchesStatus&&matchesSearch;});const statusCounts=(orders||[]).reduce((acc,order)=>{acc[order.statut]=(acc[order.statut]||0)+1;return acc;},{});return/*#__PURE__*/_jsxs(\"div\",{className:\"orders-tab-modern\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orders-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"orders-header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orders-title-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"orders-title\",children:\"Gestion des Commandes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"orders-subtitle\",children:\"Suivi et gestion de toutes les commandes clients\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"orders-stats\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"orders-stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:(orders===null||orders===void 0?void 0:orders.length)||0}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"orders-controls\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orders-search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rechercher par nom client ou num\\xE9ro de commande...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"search-input\"}),/*#__PURE__*/_jsx(\"span\",{className:\"search-icon\",children:\"\\uD83D\\uDD0D\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orders-filters\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Statut:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/_jsxs(\"option\",{value:\"all\",children:[\"Tous les statuts (\",(orders===null||orders===void 0?void 0:orders.length)||0,\")\"]}),Object.entries(statusCounts).map(_ref4=>{let[status,count]=_ref4;return/*#__PURE__*/_jsxs(\"option\",{value:status,children:[getStatusInfo(status).label,\" (\",count,\")\"]},status);})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"orders-grid\",children:filteredOrders.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-orders\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Aucune commande trouv\\xE9e\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Aucune commande ne correspond aux crit\\xE8res de recherche\"})]}):filteredOrders.map(order=>{var _order$_id3,_order$utilisateur6,_order$utilisateur7,_order$articles3,_order$articles4,_order$articles5;const statusInfo=getStatusInfo(order.statut);return/*#__PURE__*/_jsxs(\"div\",{className:\"order-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-card-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-type\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"order-icon\",children:getOrderTypeIcon(order)}),/*#__PURE__*/_jsx(\"span\",{className:\"order-type-label\",children:getOrderTypeLabel(order)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-status\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"status-badge-modern\",style:{color:statusInfo.color,backgroundColor:statusInfo.bgColor,borderColor:statusInfo.color},children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-icon\",children:statusInfo.icon}),statusInfo.label]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-info-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"N\\xB0 Commande\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[\"#\",((_order$_id3=order._id)===null||_order$_id3===void 0?void 0:_order$_id3.slice(-8))||'N/A']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Client\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[(_order$utilisateur6=order.utilisateur)===null||_order$utilisateur6===void 0?void 0:_order$utilisateur6.nom,\" \",(_order$utilisateur7=order.utilisateur)===null||_order$utilisateur7===void 0?void 0:_order$utilisateur7.prenom]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-info-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Date\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:formatDate(order.dateCreation)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value price\",children:[order.total,\" TND\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-articles\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"info-label\",children:[\"Articles (\",((_order$articles3=order.articles)===null||_order$articles3===void 0?void 0:_order$articles3.length)||0,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"articles-list\",children:[(_order$articles4=order.articles)===null||_order$articles4===void 0?void 0:_order$articles4.slice(0,2).map((article,index)=>{var _article$customData;return/*#__PURE__*/_jsx(\"div\",{className:\"article-item\",children:article.type==='custom_hoodie'?/*#__PURE__*/_jsxs(\"div\",{className:\"custom-article\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"custom-icon\",children:\"\\uD83C\\uDFA8\"}),/*#__PURE__*/_jsx(\"span\",{className:\"article-name\",children:article.nom}),((_article$customData=article.customData)===null||_article$customData===void 0?void 0:_article$customData.logo)&&!article.customData.logo.startsWith('blob:')&&/*#__PURE__*/_jsx(\"img\",{src:article.customData.logo,alt:\"Logo\",className:\"article-logo\",onError:e=>e.target.style.display='none'})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"standard-article\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"article-name\",children:article.nom}),article.quantite>1&&/*#__PURE__*/_jsxs(\"span\",{className:\"quantity\",children:[\"x\",article.quantite]})]})},index);}),((_order$articles5=order.articles)===null||_order$articles5===void 0?void 0:_order$articles5.length)>2&&/*#__PURE__*/_jsxs(\"div\",{className:\"more-articles\",children:[\"+\",order.articles.length-2,\" autres articles\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-card-footer\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn-view-details\",onClick:()=>handleViewOrder(order),children:[/*#__PURE__*/_jsx(FaEye,{}),\"Voir d\\xE9tails\"]})})]},order._id);})}),showOrderDetails&&selectedOrder&&/*#__PURE__*/_jsx(OrderDetailsModal,{order:selectedOrder,onClose:()=>setShowOrderDetails(false),onStatusUpdate:updatedOrder=>{// Mettre √† jour la commande dans la liste\nonOrdersUpdate(prevOrders=>prevOrders.map(order=>order._id===updatedOrder._id?updatedOrder:order));setSelectedOrder(updatedOrder);}})]});};// Onglet Utilisateurs\nconst UsersTab=_ref5=>{let{users,pagination,onViewUser}=_ref5;const[,forceUpdate]=useState({});const formatDate=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);return date.toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',year:'numeric'});};const getInitials=(nom,prenom)=>{return\"\".concat((nom===null||nom===void 0?void 0:nom.charAt(0))||'').concat((prenom===null||prenom===void 0?void 0:prenom.charAt(0))||'').toUpperCase();};const isUserActive=user=>{// Si l'utilisateur n'a jamais de derni√®re connexion, il est inactif\nif(!user.lastLogin){return false;}// Calculer la diff√©rence en minutes entre maintenant et la derni√®re connexion\nconst now=new Date();const lastLogin=new Date(user.lastLogin);const diffInMinutes=(now-lastLogin)/(1000*60);// Consid√©rer l'utilisateur comme actif s'il s'est connect√© dans les derni√®res 30 minutes\nreturn diffInMinutes<=30;};// Mettre √† jour le statut toutes les minutes pour refl√©ter les changements en temps r√©el\nuseEffect(()=>{const interval=setInterval(()=>{forceUpdate({});},60000);// Mise √† jour toutes les minutes\nreturn()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"users-tab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tab-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-text\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gestion des utilisateurs\"}),/*#__PURE__*/_jsx(\"p\",{children:\"G\\xE9rez tous les utilisateurs de votre boutique\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:(pagination===null||pagination===void 0?void 0:pagination.total)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total utilisateurs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:(users||[]).filter(u=>u.role==='admin').length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Administrateurs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:(users||[]).filter(u=>u.role==='client').length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Clients\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"users-grid\",children:(users||[]).map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"user-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-avatar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar-circle\",children:getInitials(user.nom,user.prenom)}),/*#__PURE__*/_jsx(\"div\",{className:\"status-indicator \".concat(isUserActive(user)?'active':'inactive')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"user-name\",children:[user.nom,\" \",user.prenom]}),/*#__PURE__*/_jsx(\"p\",{className:\"user-email\",children:user.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-role\",children:/*#__PURE__*/_jsx(\"span\",{className:\"role-badge \".concat(user.role),children:user.role==='admin'?'Administrateur':'Client'})}),/*#__PURE__*/_jsxs(\"span\",{className:\"user-date\",children:[\"Cr\\xE9\\xE9 le \",formatDate(user.createdAt)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn view-btn\",title:\"Voir d\\xE9tails\",onClick:()=>onViewUser(user),children:[/*#__PURE__*/_jsx(FaEye,{}),/*#__PURE__*/_jsx(\"span\",{children:\"D\\xE9tails\"})]})})]},user._id))}),(!users||users.length===0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:/*#__PURE__*/_jsx(FaUsers,{})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Aucun utilisateur trouv\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Il n'y a actuellement aucun utilisateur dans votre boutique.\"})]})]});};// Composant formulaire d'ajout de produit\nconst AddProductForm=_ref6=>{let{onClose,onProductAdded}=_ref6;const[formData,setFormData]=useState({nom:'',description:'',prix:'',prixReduit:'',categorie:'',genre:'',sousCategorie:'',marque:'',materiau:'',entretien:'',estEnPromotion:false,estNouveau:false,estPopulaire:false,tags:[]});const[tailles,setTailles]=useState([{nom:'XS',stock:0},{nom:'S',stock:0},{nom:'M',stock:0},{nom:'L',stock:0},{nom:'XL',stock:0},{nom:'XXL',stock:0}]);const[couleurs,setCouleurs]=useState([{nom:'‚ö´ Noir',code:'#000000'},{nom:'üü° Jaune',code:'#FFFF00'},{nom:'üî¥ Rouge',code:'#FF0000'},{nom:'üü† Orange',code:'#FFA500'},{nom:'üîµ Bleu',code:'#0000FF'},{nom:'‚ö™ Blanc',code:'#FFFFFF'},{nom:'üü¢ Vert',code:'#00FF00'},{nom:'ü©∑ Rose',code:'#FFC0CB'}]);const[images,setImages]=useState([]);const[imageFiles,setImageFiles]=useState([]);const[uploadingImages,setUploadingImages]=useState(false);const[loading,setLoading]=useState(false);const[errors,setErrors]=useState({});const categories=['hoodie','pull'];const handleChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));// Effacer l'erreur du champ modifi√©\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const handleTailleChange=(index,field,value)=>{const newTailles=[...tailles];newTailles[index]=_objectSpread(_objectSpread({},newTailles[index]),{},{[field]:value});setTailles(newTailles);};const handleCouleurChange=(index,field,value)=>{const newCouleurs=[...couleurs];newCouleurs[index]=_objectSpread(_objectSpread({},newCouleurs[index]),{},{[field]:value});setCouleurs(newCouleurs);};const addCouleur=()=>{setCouleurs([...couleurs,{nom:'',code:'#000000'}]);};const removeCouleur=index=>{setCouleurs(couleurs.filter((_,i)=>i!==index));};const handleImageUpload=e=>{const files=Array.from(e.target.files);const validFiles=files.filter(file=>{const isValidType=file.type.startsWith('image/');const isValidSize=file.size<=5*1024*1024;// 5MB max\nreturn isValidType&&isValidSize;});if(validFiles.length!==files.length){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{images:'Seules les images de moins de 5MB sont accept√©es'}));}setImageFiles(prev=>[...prev,...validFiles]);// Cr√©er des URLs de pr√©visualisation\nvalidFiles.forEach(file=>{const reader=new FileReader();reader.onload=e=>{setImages(prev=>[...prev,{file,preview:e.target.result,name:file.name}]);};reader.readAsDataURL(file);});};const removeImage=index=>{setImages(prev=>prev.filter((_,i)=>i!==index));setImageFiles(prev=>prev.filter((_,i)=>i!==index));};const uploadImages=async()=>{if(imageFiles.length===0)return[];// V√©rifier le token admin avant l'upload\nconst token=localStorage.getItem('token');if(!token){throw new Error('Token d\\'authentification manquant');}setUploadingImages(true);const uploadedImages=[];try{// Upload toutes les images en une seule fois\nconst formData=new FormData();imageFiles.forEach(file=>{formData.append('images',file);});const response=await api.post('/upload/product-images',formData,{headers:{'Content-Type':'multipart/form-data'}});if(response.data.success){const result=response.data;uploadedImages.push(...result.images.map(img=>img.url));}else{throw new Error(response.data.message||'Erreur lors du chargement des images');}}catch(error){var _error$response5,_error$response5$data,_error$response6;console.error('Erreur upload images:',error);const errorMessage=((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||error.message||'Erreur lors du chargement des images';setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{images:errorMessage}));// Si erreur d'authentification, rediriger vers login\nif(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===401){localStorage.removeItem('token');window.location.href='/admin-login';}}finally{setUploadingImages(false);}return uploadedImages;};const validateForm=()=>{const newErrors={};if(!formData.nom.trim())newErrors.nom='Le nom est requis';if(!formData.description.trim())newErrors.description='La description est requise';if(!formData.prix||formData.prix<=0)newErrors.prix='Le prix doit √™tre sup√©rieur √† 0';if(!formData.categorie)newErrors.categorie='La cat√©gorie est requise';if(!formData.marque.trim())newErrors.marque='La marque est requise';// V√©rifier qu'au moins une taille a du stock\nconst hasStock=tailles.some(taille=>taille.stock>0);if(!hasStock)newErrors.stock='Au moins une taille doit avoir du stock';setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}// V√©rifier le token admin avant de continuer\nconst token=localStorage.getItem('token');if(!token){toast.error('Token d\\'authentification manquant');window.location.href='/admin-login';return;}setLoading(true);try{// Upload des images d'abord\nconst uploadedImages=await uploadImages();const productData=_objectSpread(_objectSpread({},formData),{},{prix:parseFloat(formData.prix),prixReduit:formData.prixReduit?parseFloat(formData.prixReduit):null,tailles:tailles.filter(taille=>taille.stock>0),// Seulement les tailles avec stock\ncouleurs:couleurs.filter(couleur=>couleur.nom.trim()!==''),// Seulement les couleurs nomm√©es\nimages:uploadedImages.map(url=>({url:url,alt:formData.nom||'Image produit'}))// Convertir les URLs en objets avec url et alt\n});const response=await api.post('/products',productData);if(response.status===201){const newProduct=response.data;onProductAdded(newProduct);// Reset form\nsetFormData({nom:'',description:'',prix:'',prixReduit:'',categorie:'',sousCategorie:'',marque:'',materiau:'',entretien:'',estEnPromotion:false,estNouveau:false,estPopulaire:false,tags:[]});setTailles(tailles.map(t=>_objectSpread(_objectSpread({},t),{},{stock:0})));setCouleurs([{nom:'Noir',code:'#000000'},{nom:'Blanc',code:'#FFFFFF'},{nom:'Rouge',code:'#FF0000'},{nom:'Bleu',code:'#0000FF'},{nom:'Vert',code:'#00FF00'}]);setImages([]);setImageFiles([]);}else{const error=await response.json();setErrors({submit:error.message||'Erreur lors de l\\'ajout du produit'});}}catch(error){setErrors({submit:'Erreur de connexion'});}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-product-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ajouter un nouveau produit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"close-btn\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"product-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Informations g\\xE9n\\xE9rales\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom du produit *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nom\",value:formData.nom,onChange:handleChange,className:errors.nom?'error':'',placeholder:\"Ex: T-shirt Premium\"}),errors.nom&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.nom})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Marque *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"marque\",value:formData.marque,onChange:handleChange,className:errors.marque?'error':'',placeholder:\"Ex: Nike, Adidas...\"}),errors.marque&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.marque})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleChange,className:errors.description?'error':'',placeholder:\"Description d\\xE9taill\\xE9e du produit...\",rows:\"3\"}),errors.description&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Prix (TND) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"prix\",value:formData.prix,onChange:handleChange,className:errors.prix?'error':'',placeholder:\"29.99\",step:\"0.01\",min:\"0\"}),errors.prix&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.prix})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Prix r\\xE9duit (TND)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"prixReduit\",value:formData.prixReduit,onChange:handleChange,placeholder:\"19.99\",step:\"0.01\",min:\"0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cat\\xE9gorie *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"categorie\",value:formData.categorie,onChange:handleChange,className:errors.categorie?'error':'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une cat\\xE9gorie\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]}),errors.categorie&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.categorie})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Genre *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"genre\",value:formData.genre,onChange:handleChange,className:errors.genre?'error':'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un genre\"}),/*#__PURE__*/_jsx(\"option\",{value:\"homme\",children:\"\\uD83D\\uDC68 Homme\"}),/*#__PURE__*/_jsx(\"option\",{value:\"femme\",children:\"\\uD83D\\uDC69 Femme\"}),/*#__PURE__*/_jsx(\"option\",{value:\"enfant\",children:\"\\uD83D\\uDC76 Enfant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sport\",children:\"\\uD83C\\uDFC3 Sport\"})]}),errors.genre&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.genre})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sous-cat\\xE9gorie\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sousCategorie\",value:formData.sousCategorie,onChange:handleChange,placeholder:\"Ex: T-shirts, Jeans...\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Tailles et stock\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tailles-grid\",children:tailles.map((taille,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"taille-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:taille.nom}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:taille.stock,onChange:e=>handleTailleChange(index,'stock',parseInt(e.target.value)||0),min:\"0\",placeholder:\"0\"})]},index))}),errors.stock&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.stock})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Couleurs disponibles\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"couleurs-list\",children:[couleurs.map((couleur,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"couleur-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:couleur.nom,onChange:e=>handleCouleurChange(index,'nom',e.target.value),placeholder:\"Nom de la couleur\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:couleur.code,onChange:e=>handleCouleurChange(index,'code',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeCouleur(index),className:\"remove-btn\",children:\"\\xD7\"})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addCouleur,className:\"add-couleur-btn\",children:\"+ Ajouter une couleur\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Images du produit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-zone\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"image-upload\",multiple:true,accept:\"image/*\",onChange:handleImageUpload,style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"image-upload\",className:\"upload-label\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\uD83D\\uDCF7\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cliquez pour ajouter des images\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Formats accept\\xE9s: JPG, PNG, GIF (max 5MB)\"})]})]}),images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"image-preview-grid\",children:images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-preview-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.preview,alt:\"Preview \".concat(index+1)}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-overlay\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"image-name\",children:image.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeImage(index),className:\"remove-image-btn\",title:\"Supprimer l'image\",children:\"\\xD7\"})]})]},index))}),errors.images&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.images}),uploadingImages&&/*#__PURE__*/_jsx(\"div\",{className:\"upload-progress\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Chargement des images en cours...\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"D\\xE9tails suppl\\xE9mentaires\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mat\\xE9riau\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"materiau\",value:formData.materiau,onChange:handleChange,placeholder:\"Ex: 100% Coton\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Entretien\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"entretien\",value:formData.entretien,onChange:handleChange,placeholder:\"Ex: Lavage \\xE0 30\\xB0C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkboxes\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"estEnPromotion\",checked:formData.estEnPromotion,onChange:handleChange}),\"En promotion\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"estNouveau\",checked:formData.estNouveau,onChange:handleChange}),\"Nouveau produit\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"estPopulaire\",checked:formData.estPopulaire,onChange:handleChange}),\"Produit populaire\"]})]})]}),errors.submit&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message submit-error\",children:errors.submit}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-secondary\",children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Ajout en cours...':'Ajouter le produit'})]})]})]});};// Composant modal pour les d√©tails de commande\nconst OrderDetailsModal=_ref7=>{var _order$_id4,_order$utilisateur8,_order$utilisateur9,_order$utilisateur0,_order$articles6,_order$adresseLivrais,_order$adresseLivrais2,_order$adresseLivrais3,_order$adresseLivrais4,_order$adresseLivrais5,_order$adresseLivrais6,_order$adresseLivrais7;let{order,onClose,onStatusUpdate}=_ref7;const[isUpdatingStatus,setIsUpdatingStatus]=useState(false);const[showStatusButtons,setShowStatusButtons]=useState(false);if(!order)return null;const formatDate=date=>{return new Date(date).toLocaleDateString('fr-FR',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};const downloadLogo=(logoData,filename)=>{try{console.log('Tentative de t√©l√©chargement du logo:',{type:logoData.startsWith('data:')?'Base64 avec pr√©fixe':logoData.startsWith('http')?'URL':'Base64 pur',length:logoData.length,preview:logoData.substring(0,50)});// Si c'est une URL, on la t√©l√©charge directement\nif(logoData.startsWith('http')){const link=document.createElement('a');link.href=logoData;link.download=filename;link.target='_blank';document.body.appendChild(link);link.click();document.body.removeChild(link);return;}// Si c'est du base64 avec pr√©fixe data:, on le t√©l√©charge directement\nif(logoData.startsWith('data:image/')){const link=document.createElement('a');link.href=logoData;link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);return;}// Si c'est du base64 pur, on l'ajoute le pr√©fixe data:image\nif(logoData.startsWith('/9j/')||logoData.startsWith('iVBORw0KGgo')){const mimeType=logoData.startsWith('/9j/')?'image/jpeg':'image/png';const dataUrl=\"data:\".concat(mimeType,\";base64,\").concat(logoData);const link=document.createElement('a');link.href=dataUrl;link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);return;}console.error('Format de logo non reconnu:',logoData.substring(0,50));alert('Format de logo non support√© pour le t√©l√©chargement');}catch(error){console.error('Erreur lors du t√©l√©chargement du logo:',error);alert('Erreur lors du t√©l√©chargement du logo: '+error.message);}};const getStatusColor=status=>{const colors={'en_attente':'#ffc107','confirmee':'#17a2b8','en_preparation':'#fd7e14','expediee':'#6f42c1','livree':'#28a745','annulee':'#dc3545'};return colors[status]||'#6c757d';};const getStatusLabel=status=>{const labels={'en_attente':'En attente','confirmee':'Confirm√©e','en_preparation':'En pr√©paration','expediee':'Exp√©di√©e','livree':'Livr√©e','annulee':'Annul√©e'};return labels[status]||status;};const getStatusIcon=status=>{const icons={'en_attente':'‚è≥','confirmee':'‚úÖ','en_preparation':'üîß','expediee':'üöö','livree':'üì¶','annulee':'‚ùå'};return icons[status]||'‚ùì';};const handleStatusUpdate=async newStatus=>{if(isUpdatingStatus)return;setIsUpdatingStatus(true);try{const response=await api.put(\"/api/orders/\".concat(order._id,\"/statut\"),{statut:newStatus});if(response.data){toast.success(\"Statut mis \\xE0 jour: \".concat(getStatusLabel(newStatus)));if(onStatusUpdate){onStatusUpdate(response.data);}setShowStatusButtons(false);}}catch(error){console.error('Erreur lors de la mise √† jour du statut:',error);toast.error('Erreur lors de la mise √† jour du statut');}finally{setIsUpdatingStatus(false);}};const getAvailableStatuses=currentStatus=>{const allStatuses=[{value:'en_attente',label:'En attente',icon:'‚è≥'},{value:'confirmee',label:'Confirm√©e',icon:'‚úÖ'},{value:'en_preparation',label:'En pr√©paration',icon:'üîß'},{value:'expediee',label:'Exp√©di√©e',icon:'üöö'},{value:'livree',label:'Livr√©e',icon:'üì¶'},{value:'annulee',label:'Annul√©e',icon:'‚ùå'}];// Retourner tous les statuts sauf le statut actuel\nreturn allStatuses.filter(status=>status.value!==currentStatus);};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"D\\xE9tails de la commande #\",(_order$_id4=order._id)===null||_order$_id4===void 0?void 0:_order$_id4.slice(-6)]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Informations g\\xE9n\\xE9rales\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Client:\"}),\" \",(_order$utilisateur8=order.utilisateur)===null||_order$utilisateur8===void 0?void 0:_order$utilisateur8.nom,\" \",(_order$utilisateur9=order.utilisateur)===null||_order$utilisateur9===void 0?void 0:_order$utilisateur9.prenom]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",(_order$utilisateur0=order.utilisateur)===null||_order$utilisateur0===void 0?void 0:_order$utilisateur0.email]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",formatDate(order.dateCommande)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Statut:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',marginTop:'5px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:getStatusColor(order.statut),fontWeight:'bold',display:'flex',alignItems:'center',gap:'5px',padding:'4px 8px',backgroundColor:getStatusColor(order.statut)+'20',borderRadius:'4px',border:\"1px solid \".concat(getStatusColor(order.statut))},children:[/*#__PURE__*/_jsx(\"span\",{children:getStatusIcon(order.statut)}),getStatusLabel(order.statut)]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowStatusButtons(!showStatusButtons),disabled:isUpdatingStatus,style:{background:'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',color:'white',border:'none',padding:'4px 8px',borderRadius:'4px',cursor:'pointer',fontSize:'12px',fontWeight:'500',display:'flex',alignItems:'center',gap:'4px',opacity:isUpdatingStatus?0.6:1},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u270F\\uFE0F\"}),\"Modifier\"]})]}),showStatusButtons&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',padding:'10px',backgroundColor:'#f8f9fa',borderRadius:'6px',border:'1px solid #dee2e6'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#6c757d',marginBottom:'8px',fontWeight:'500'},children:\"Changer le statut vers:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'6px'},children:getAvailableStatuses(order.statut).map(status=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleStatusUpdate(status.value),disabled:isUpdatingStatus,style:{background:'linear-gradient(135deg, #28a745 0%, #20c997 100%)',color:'white',border:'none',padding:'6px 12px',borderRadius:'4px',cursor:'pointer',fontSize:'11px',fontWeight:'500',display:'flex',alignItems:'center',gap:'4px',opacity:isUpdatingStatus?0.6:1,transition:'all 0.2s ease'},onMouseOver:e=>{if(!isUpdatingStatus){e.target.style.transform='translateY(-1px)';e.target.style.boxShadow='0 2px 4px rgba(40, 167, 69, 0.3)';}},onMouseOut:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow='none';},children:[/*#__PURE__*/_jsx(\"span\",{children:status.icon}),status.label]},status.value))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowStatusButtons(false),style:{background:'transparent',color:'#6c757d',border:'1px solid #dee2e6',padding:'4px 8px',borderRadius:'4px',cursor:'pointer',fontSize:'11px',marginTop:'8px'},children:\"Annuler\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE9thode de paiement:\"}),\" \",order.methodePaiement]}),order.numeroSuivi&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Num\\xE9ro de suivi:\"}),\" \",order.numeroSuivi]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Articles command\\xE9s\"}),/*#__PURE__*/_jsx(\"div\",{className:\"articles-list\",children:(_order$articles6=order.articles)===null||_order$articles6===void 0?void 0:_order$articles6.map((article,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"article-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"article-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[article.type==='custom_hoodie'?'üé® ':'üì¶ ',article.nom]}),/*#__PURE__*/_jsxs(\"span\",{className:\"article-price\",children:[article.prixTotal,\" TND\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-details\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quantit\\xE9:\"}),\" \",article.quantite]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Taille:\"}),\" \",article.taille]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Couleur:\"}),\" \",article.couleur]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Prix unitaire:\"}),\" \",article.prixUnitaire,\" TND\"]})]}),article.type==='custom_hoodie'&&article.customData&&/*#__PURE__*/_jsxs(\"div\",{className:\"custom-hoodie-details\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\uD83C\\uDFA8 D\\xE9tails de personnalisation:\"}),console.log('=== DONN√âES RE√áUES DANS L\\'ADMIN ===',{logo:article.customData.logo?article.customData.logo.substring(0,100)+'...':'AUCUN LOGO',logoType:article.customData.logo?article.customData.logo.startsWith('data:')?'Base64 avec pr√©fixe':article.customData.logo.startsWith('http')?'URL':'Base64 pur':'Aucun',logoSize:article.customData.logoSize,logoPosition:article.customData.logoPosition}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Couleur:\"}),/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',width:'20px',height:'20px',backgroundColor:article.customData.couleurCode,border:'1px solid #ccc',marginLeft:'8px',verticalAlign:'middle'},title:article.customData.couleurNom}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px'},children:article.customData.couleurNom})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Position du logo:\"}),\" \",article.customData.logoPosition]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Taille du logo:\"}),\" \",article.customData.logoSize,\"px\"]}),article.customData.logo&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Logo:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',flexWrap:'wrap'},children:[article.customData.logo.startsWith('blob:')?/*#__PURE__*/_jsxs(\"div\",{style:{width:'120px',height:'120px',border:'2px dashed #dc3545',borderRadius:'8px',backgroundColor:'#f8d7da',color:'#721c24',display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column',gap:'5px',fontSize:'12px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logo non disponible\"}),/*#__PURE__*/_jsx(\"span\",{children:\"(Blob URL expir\\xE9e)\"})]}):/*#__PURE__*/_jsx(\"img\",{src:article.customData.logo,alt:\"Logo personnalis\\xE9\",style:{maxWidth:'120px',maxHeight:'120px',border:'2px solid #28a745',borderRadius:'8px',padding:'8px',backgroundColor:'white',boxShadow:'0 2px 8px rgba(0,0,0,0.1)',objectFit:'contain'},onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'none',alignItems:'center',justifyContent:'center',width:'120px',height:'120px',border:'2px dashed #28a745',borderRadius:'8px',backgroundColor:'#f8f9fa',color:'#6c757d',fontSize:'12px',textAlign:'center',flexDirection:'column',gap:'5px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDDBC\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logo non disponible\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>downloadLogo(article.customData.logo,\"logo-\".concat(order._id.slice(-6),\".png\")),style:{background:'linear-gradient(135deg, #28a745 0%, #20c997 100%)',color:'white',border:'none',padding:'8px 16px',borderRadius:'6px',cursor:'pointer',fontSize:'12px',fontWeight:'600',display:'flex',alignItems:'center',gap:'5px',boxShadow:'0 2px 4px rgba(40, 167, 69, 0.3)',transition:'all 0.2s ease'},onMouseOver:e=>{e.target.style.transform='translateY(-1px)';e.target.style.boxShadow='0 4px 8px rgba(40, 167, 69, 0.4)';},onMouseOut:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow='0 2px 4px rgba(40, 167, 69, 0.3)';},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B07\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"T\\xE9l\\xE9charger\"})]})]})})]})]})]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"R\\xE9capitulatif\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"totals\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-line\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sous-total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[order.sousTotal,\" TND\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-line\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Frais de livraison:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[order.fraisLivraison,\" TND\"]})]}),order.reduction>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"total-line\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"R\\xE9duction:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"-\",order.reduction,\" TND\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-line total-final\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Total:\"})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[order.total,\" TND\"]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Adresse de livraison\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"address\",children:[(_order$adresseLivrais=order.adresseLivraison)===null||_order$adresseLivrais===void 0?void 0:_order$adresseLivrais.nom,\" \",(_order$adresseLivrais2=order.adresseLivraison)===null||_order$adresseLivrais2===void 0?void 0:_order$adresseLivrais2.prenom,/*#__PURE__*/_jsx(\"br\",{}),(_order$adresseLivrais3=order.adresseLivraison)===null||_order$adresseLivrais3===void 0?void 0:_order$adresseLivrais3.rue,/*#__PURE__*/_jsx(\"br\",{}),(_order$adresseLivrais4=order.adresseLivraison)===null||_order$adresseLivrais4===void 0?void 0:_order$adresseLivrais4.codePostal,\" \",(_order$adresseLivrais5=order.adresseLivraison)===null||_order$adresseLivrais5===void 0?void 0:_order$adresseLivrais5.ville,/*#__PURE__*/_jsx(\"br\",{}),(_order$adresseLivrais6=order.adresseLivraison)===null||_order$adresseLivrais6===void 0?void 0:_order$adresseLivrais6.pays,/*#__PURE__*/_jsx(\"br\",{}),((_order$adresseLivrais7=order.adresseLivraison)===null||_order$adresseLivrais7===void 0?void 0:_order$adresseLivrais7.telephone)&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"T\\xE9l: \",order.adresseLivraison.telephone]})]})]}),order.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"order-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"notes\",children:order.notes})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:onClose,children:\"Fermer\"})})]})});};// Composant EditProductForm\nconst EditProductForm=_ref8=>{let{product,onClose,onProductUpdated}=_ref8;const[formData,setFormData]=useState({nom:product.nom||'',description:product.description||'',prix:product.prix||0,prixReduit:product.prixReduit||'',categorie:product.categorie||'',genre:product.genre||'',marque:product.marque||'',materiau:product.materiau||'',entretien:product.entretien||'',tailles:product.tailles?product.tailles.map(taille=>({nom:taille.nom||taille.taille||'',stock:taille.stock||0})):[],couleurs:product.couleurs?product.couleurs.map(couleur=>({nom:couleur.nom||'',code:couleur.code||''})):[]});const[loading,setLoading]=useState(false);const[errors,setErrors]=useState({});const[forceUpdate,setForceUpdate]=useState(0);const[localTailles,setLocalTailles]=useState([]);const[renderKey,setRenderKey]=useState(0);const[manualRender,setManualRender]=useState(0);// Initialiser les tailles locales\nuseEffect(()=>{setLocalTailles(formData.tailles||[]);},[product]);// Effet pour surveiller les changements de tailles\nuseEffect(()=>{console.log('üîÑ Tailles mises √† jour:',formData.tailles);console.log('üìä Nombre de tailles:',formData.tailles.length);console.log('üîç D√©tails des tailles:',formData.tailles.map(t=>\"\".concat(t.nom,\"(\").concat(t.stock,\")\")));console.log('üè† Tailles locales:',localTailles);},[formData.tailles,forceUpdate,localTailles]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Effacer l'erreur pour ce champ\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const handleSizeChange=(index,field,value)=>{const newTailles=[...formData.tailles];newTailles[index]=_objectSpread(_objectSpread({},newTailles[index]),{},{[field]:value});setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{tailles:newTailles}));// Synchroniser avec l'√©tat local\nsetLocalTailles(newTailles);};const addSize=()=>{console.log('Ajout d\\'une nouvelle taille...');console.log('Tailles actuelles:',formData.tailles);setFormData(prev=>{const newTailles=[...prev.tailles,{nom:'',stock:0}];console.log('Nouvelles tailles:',newTailles);return _objectSpread(_objectSpread({},prev),{},{tailles:newTailles});});};const addSizeFromSelect=sizeName=>{console.log('üöÄ D√âBUT - Solution ALTERNATIVE pour:',sizeName);// V√©rifier si la taille n'existe pas d√©j√†\nconst tailleExists=formData.tailles.some(taille=>taille.nom===sizeName);if(tailleExists){toast.warning(\"La taille \".concat(sizeName,\" existe d\\xE9j\\xE0\"));return;}const newTaille={nom:sizeName,stock:0};console.log('‚ûï Nouvelle taille:',JSON.stringify(newTaille));// APPROCHE ALTERNATIVE - Manipulation directe\nconst currentTailles=formData.tailles||[];const newTailles=[...currentTailles,newTaille];console.log('üîÑ Nouvelles tailles:',JSON.stringify(newTailles));// MISE √Ä JOUR DIRECTE - Sans d√©pendance sur React\nconst updatedFormData=_objectSpread(_objectSpread({},formData),{},{tailles:newTailles});// Mettre √† jour tous les √©tats simultan√©ment\nsetFormData(updatedFormData);setLocalTailles(newTailles);// FORCER LE RE-RENDU MULTIPLE\nsetManualRender(prev=>prev+1);setRenderKey(prev=>prev+1);setForceUpdate(prev=>prev+1);// MANIPULATION DOM DIRECTE (solution de secours)\nsetTimeout(()=>{const sizesContainer=document.querySelector('[data-sizes-container]');if(sizesContainer){const currentCount=sizesContainer.querySelector('.sizes-count');if(currentCount){currentCount.textContent=newTailles.length;}// Ajouter la nouvelle taille au DOM si React ne le fait pas\nconst sizesList=sizesContainer.querySelector('.sizes-list');if(sizesList&&!sizesList.querySelector(\"[data-size=\\\"\".concat(sizeName,\"\\\"]\"))){const newSizeElement=document.createElement('div');newSizeElement.className='size-color-item';newSizeElement.setAttribute('data-size',sizeName);newSizeElement.innerHTML=\"\\n            <span class=\\\"size-label\\\">\".concat(sizeName,\"</span>\\n            <input type=\\\"number\\\" placeholder=\\\"Stock\\\" value=\\\"0\\\" min=\\\"0\\\" class=\\\"stock-input\\\">\\n            <button type=\\\"button\\\" class=\\\"remove-btn\\\">\\xD7</button>\\n          \");sizesList.appendChild(newSizeElement);console.log('üîß Taille ajout√©e manuellement au DOM:',sizeName);}}},100);toast.success(\"Taille \".concat(sizeName,\" ajout\\xE9e !\"));console.log('üèÅ FIN - Solution alternative termin√©e');};const removeSize=index=>{const newTailles=formData.tailles.filter((_,i)=>i!==index);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{tailles:newTailles}));// Synchroniser avec l'√©tat local\nsetLocalTailles(newTailles);};const handleColorChange=(index,field,value)=>{const newCouleurs=[...formData.couleurs];newCouleurs[index]=_objectSpread(_objectSpread({},newCouleurs[index]),{},{[field]:value});setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{couleurs:newCouleurs}));};const addColor=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{couleurs:[...prev.couleurs,{nom:'',code:''}]}));};const removeColor=index=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{couleurs:prev.couleurs.filter((_,i)=>i!==index)}));};const validateForm=()=>{const newErrors={};if(!formData.nom.trim())newErrors.nom='Le nom est requis';if(!formData.description.trim())newErrors.description='La description est requise';if(!formData.prix||formData.prix<=0)newErrors.prix='Le prix doit √™tre positif';if(!formData.categorie)newErrors.categorie='La cat√©gorie est requise';if(!formData.marque.trim())newErrors.marque='La marque est requise';setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{// Pr√©parer les donn√©es pour l'API\nconst submitData=_objectSpread(_objectSpread({},formData),{},{prix:parseFloat(formData.prix),prixReduit:formData.prixReduit?parseFloat(formData.prixReduit):null});console.log('Mise √† jour du produit:',product._id,submitData);const response=await api.put(\"/api/products/\".concat(product._id),submitData);if(response.status===200){console.log('Produit mis √† jour avec succ√®s:',response.data);onProductUpdated(response.data);}else{throw new Error('Erreur lors de la mise √† jour');}}catch(error){console.error('Erreur lors de la mise √† jour du produit:',error);toast.error('Erreur lors de la mise √† jour du produit');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content large-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Modifier le produit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:/*#__PURE__*/_jsx(FaTimes,{})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"product-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nom\",children:\"Nom du produit *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nom\",name:\"nom\",value:formData.nom,onChange:handleChange,className:errors.nom?'error':'',required:true}),errors.nom&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.nom})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"marque\",children:\"Marque *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"marque\",name:\"marque\",value:formData.marque,onChange:handleChange,className:errors.marque?'error':'',required:true}),errors.marque&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.marque})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"prix\",children:\"Prix (TND) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"prix\",name:\"prix\",value:formData.prix,onChange:handleChange,min:\"0\",step:\"0.01\",className:errors.prix?'error':'',required:true}),errors.prix&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.prix})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"prixReduit\",children:\"Prix r\\xE9duit (TND)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"prixReduit\",name:\"prixReduit\",value:formData.prixReduit,onChange:handleChange,min:\"0\",step:\"0.01\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"categorie\",children:\"Cat\\xE9gorie *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"categorie\",name:\"categorie\",value:formData.categorie,onChange:handleChange,className:errors.categorie?'error':'',required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une cat\\xE9gorie\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hoodie\",children:\"Hoodie\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pull\",children:\"Pull\"})]}),errors.categorie&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.categorie})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"genre\",children:\"Genre *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"genre\",name:\"genre\",value:formData.genre,onChange:handleChange,className:errors.genre?'error':'',required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un genre\"}),/*#__PURE__*/_jsx(\"option\",{value:\"homme\",children:\"\\uD83D\\uDC68 Homme\"}),/*#__PURE__*/_jsx(\"option\",{value:\"femme\",children:\"\\uD83D\\uDC69 Femme\"}),/*#__PURE__*/_jsx(\"option\",{value:\"enfant\",children:\"\\uD83D\\uDC76 Enfant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sport\",children:\"\\uD83C\\uDFC3 Sport\"})]}),errors.genre&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.genre})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"materiau\",children:\"Mati\\xE8re\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"materiau\",name:\"materiau\",value:formData.materiau,onChange:handleChange,placeholder:\"Ex: Coton, Polyester...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:formData.description,onChange:handleChange,rows:\"4\",className:errors.description?'error':'',required:true}),errors.description&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"entretien\",children:\"Instructions d'entretien\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"entretien\",name:\"entretien\",value:formData.entretien,onChange:handleChange,placeholder:\"Ex: Lavage machine 30\\xB0C...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",\"data-sizes-container\":true,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Tailles disponibles (\",/*#__PURE__*/_jsx(\"span\",{className:\"sizes-count\",children:localTailles.length}),\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"sizes-list\",children:localTailles.map((taille,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"size-color-item\",\"data-size\":taille.nom,children:[/*#__PURE__*/_jsx(\"span\",{className:\"size-label\",children:taille.nom||'Nouvelle taille'}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Stock\",value:taille.stock||0,onChange:e=>handleSizeChange(index,'stock',parseInt(e.target.value)||0),min:\"0\",className:\"stock-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeSize(index),className:\"remove-btn\",children:/*#__PURE__*/_jsx(FaTimes,{})})]},\"taille-\".concat(index,\"-\").concat(taille.nom||'new',\"-\").concat(renderKey,\"-\").concat(forceUpdate,\"-\").concat(manualRender,\"-\").concat(Date.now())))},\"sizes-list-\".concat(renderKey,\"-\").concat(forceUpdate,\"-\").concat(manualRender)),/*#__PURE__*/_jsxs(\"div\",{className:\"size-selector\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ajouter une taille :\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"newSizeSelect\",className:\"size-select\",onChange:e=>{if(e.target.value){addSizeFromSelect(e.target.value);e.target.value='';// Reset le select\n}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choisir une taille...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XXS\",children:\"XXS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XS\",children:\"XS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"S\",children:\"S\"}),/*#__PURE__*/_jsx(\"option\",{value:\"M\",children:\"M\"}),/*#__PURE__*/_jsx(\"option\",{value:\"L\",children:\"L\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XL\",children:\"XL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XXL\",children:\"XXL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XXXL\",children:\"XXXL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"28\",children:\"28\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"32\",children:\"32\"}),/*#__PURE__*/_jsx(\"option\",{value:\"34\",children:\"34\"}),/*#__PURE__*/_jsx(\"option\",{value:\"36\",children:\"36\"}),/*#__PURE__*/_jsx(\"option\",{value:\"38\",children:\"38\"}),/*#__PURE__*/_jsx(\"option\",{value:\"40\",children:\"40\"}),/*#__PURE__*/_jsx(\"option\",{value:\"42\",children:\"42\"}),/*#__PURE__*/_jsx(\"option\",{value:\"44\",children:\"44\"}),/*#__PURE__*/_jsx(\"option\",{value:\"46\",children:\"46\"}),/*#__PURE__*/_jsx(\"option\",{value:\"48\",children:\"48\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:\"52\",children:\"52\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{console.log('üîç √âTAT ACTUEL DES TAILLES:');console.log('üìã formData.tailles:',JSON.stringify(formData.tailles));console.log('üè† localTailles:',JSON.stringify(localTailles));console.log('üîë renderKey:',renderKey);console.log('üîÑ forceUpdate:',forceUpdate);toast.info('√âtat des tailles affich√© dans la console');},className:\"debug-btn\",style:{marginTop:'10px',padding:'5px 10px',backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"\\uD83D\\uDD0D Debug Tailles\"})]})]},\"sizes-container-\".concat(renderKey,\"-\").concat(manualRender)),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Couleurs disponibles\"}),formData.couleurs.map((couleur,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"size-color-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nom de la couleur\",value:couleur.nom,onChange:e=>handleColorChange(index,'nom',e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Code couleur (ex: #000000)\",value:couleur.code,onChange:e=>handleColorChange(index,'code',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeColor(index),className:\"remove-btn\",children:/*#__PURE__*/_jsx(FaTimes,{})})]},index)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:addColor,className:\"add-btn\",children:[/*#__PURE__*/_jsx(FaPlus,{}),\" Ajouter une couleur\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:onClose,children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Modification...':'Modifier le produit'})]})]})]})});};// Modal des d√©tails utilisateur\nconst UserDetailsModal=_ref9=>{let{user,onClose}=_ref9;const[,forceUpdate]=useState({});const[userStats,setUserStats]=useState({nombreCommandes:0,totalDepense:0,loading:true});const formatDate=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);return date.toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});};const getInitials=(nom,prenom)=>{return\"\".concat((nom===null||nom===void 0?void 0:nom.charAt(0))||'').concat((prenom===null||prenom===void 0?void 0:prenom.charAt(0))||'').toUpperCase();};const getStatusColor=user=>{return isUserActive(user)?'#10b981':'#ef4444';};const getStatusText=user=>{return isUserActive(user)?'Actif':'Inactif';};const isUserActive=user=>{// Si l'utilisateur n'a jamais de derni√®re connexion, il est inactif\nif(!user.lastLogin){return false;}// Calculer la diff√©rence en minutes entre maintenant et la derni√®re connexion\nconst now=new Date();const lastLogin=new Date(user.lastLogin);const diffInMinutes=(now-lastLogin)/(1000*60);// Consid√©rer l'utilisateur comme actif s'il s'est connect√© dans les derni√®res 30 minutes\nreturn diffInMinutes<=30;};// Fonction pour r√©cup√©rer les statistiques de l'utilisateur\nconst fetchUserStats=async()=>{try{setUserStats(prev=>_objectSpread(_objectSpread({},prev),{},{loading:true}));const response=await api.get(\"/api/users/admin/\".concat(user._id,\"/stats\"));setUserStats({nombreCommandes:response.data.statistiques.nombreCommandes,totalDepense:response.data.statistiques.totalDepense,loading:false});}catch(error){console.error('Erreur lors du chargement des statistiques utilisateur:',error);setUserStats(prev=>_objectSpread(_objectSpread({},prev),{},{loading:false}));}};// Charger les statistiques au montage du composant\nuseEffect(()=>{if(user&&user._id){fetchUserStats();}},[user]);// Mettre √† jour le statut toutes les minutes pour refl√©ter les changements en temps r√©el\nuseEffect(()=>{const interval=setInterval(()=>{forceUpdate({});},60000);// Mise √† jour toutes les minutes\nreturn()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay user-details-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content user-details-modal-modern\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header-modern\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-avatar-large\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar-circle-large\",children:getInitials(user.nom,user.prenom)}),/*#__PURE__*/_jsx(\"div\",{className:\"status-indicator-large\",style:{backgroundColor:getStatusColor(user)}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[user.nom,\" \",user.prenom]}),/*#__PURE__*/_jsx(\"p\",{className:\"user-email-header\",children:user.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-badges\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"role-badge-modern \".concat(user.role),children:user.role==='admin'?'Administrateur':'Client'}),/*#__PURE__*/_jsx(\"span\",{className:\"status-badge-modern\",style:{backgroundColor:getStatusColor(user)},children:getStatusText(user)})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn-modern\",onClick:onClose,children:/*#__PURE__*/_jsx(FaTimes,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-details-modern\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-icon\",children:/*#__PURE__*/_jsx(FaUser,{})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Informations personnelles\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Nom complet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[user.nom,\" \",user.prenom]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Date de cr\\xE9ation\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:formatDate(user.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Derni\\xE8re connexion\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:formatDate(user.lastLogin)})]})]})]}),user.adresse&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-icon\",children:/*#__PURE__*/_jsx(FaMapMarkerAlt,{})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Adresse\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"address-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"address-line\",children:[/*#__PURE__*/_jsx(FaHome,{className:\"address-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:user.adresse.rue||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"address-line\",children:[/*#__PURE__*/_jsx(FaCity,{className:\"address-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:user.adresse.ville||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"address-line\",children:[/*#__PURE__*/_jsx(FaMailBulk,{className:\"address-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:user.adresse.codePostal||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"address-line\",children:[/*#__PURE__*/_jsx(FaGlobe,{className:\"address-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:user.adresse.pays||'N/A'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-icon\",children:/*#__PURE__*/_jsx(FaChartBar,{})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Statistiques\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card-modern\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaShoppingCart,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:userStats.loading?/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.8em',color:'#666'},children:\"Chargement...\"}):userStats.nombreCommandes}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Commandes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card-modern\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaMoneyBillWave,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:userStats.loading?/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.8em',color:'#666'},children:\"Chargement...\"}):\"\".concat(userStats.totalDepense,\" TND\")}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total d\\xE9pens\\xE9\"})]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-actions-modern\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn-close-modern\",onClick:onClose,children:[/*#__PURE__*/_jsx(FaTimes,{}),\"Fermer\"]})})]})});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","FaPlus","FaEdit","FaTrash","FaEye","FaUsers","FaBox","FaShoppingCart","FaChartLine","FaCog","FaSignOutAlt","FaTimes","FaHome","FaUser","FaMapMarkerAlt","FaCity","FaMailBulk","FaGlobe","FaChartBar","FaMoneyBillWave","toast","useAuth","useSocket","formatBrand","SettingsTab","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Admin","activeTab","setActiveTab","loading","setLoading","stats","setStats","products","setProducts","orders","setOrders","users","setUsers","usersPagination","setUsersPagination","page","limit","total","pages","usersSearch","setUsersSearch","usersRoleFilter","setUsersRoleFilter","showUserDetails","setShowUserDetails","selectedUser","setSelectedUser","user","logout","socket","isConnected","joinAdminRoom","leaveAdminRoom","navigate","updateStatsFromProducts","newProductCount","prevStats","_objectSpread","totalProducts","console","log","checkAdminToken","token","localStorage","getItem","error","window","location","href","get","_error$response","response","status","removeItem","role","fetchDashboardData","on","data","prev","newProducts","filter","p","_id","productId","length","info","concat","productName","deletedBy","product","nom","addedBy","map","updatedBy","chiffreAffaires","totalUsers","totalOrders","autoClose","off","handleLogout","confirm","success","fetchUsers","fetchAllOrders","statsResponse","fetch","headers","ok","statsData","json","productsResponse","loadedProducts","produits","ordersResponse","commandes","arguments","undefined","search","params","URLSearchParams","toString","append","utilisateurs","pagination","handleViewUser","className","children","to","onClick","target","rel","DashboardTab","onRefresh","ProductsTab","onProductAdded","newProduct","OrdersTab","onOrdersUpdate","UsersTab","onViewUser","UserDetailsModal","onClose","_ref","getTrend","value","type","getTrendIcon","trend","getDescription","title","recentOrders","slice","order","index","_order$utilisateur","_order$utilisateur$pr","_order$_id","_order$utilisateur2","_order$utilisateur3","utilisateur","prenom","charAt","_ref2","showAddForm","setShowAddForm","selectedProduct","setSelectedProduct","showProductDetails","setShowProductDetails","showEditForm","setShowEditForm","productsList","setProductsList","handleDeleteProduct","delete","_error$response2","_error$response3","_error$response4","_error$response4$data","errorMessage","message","handleViewProduct","handleEditProduct","AddProductForm","EditProductForm","onProductUpdated","updatedProduct","totalStock","tailles","reduce","taille","stock","mainImage","images","url","src","alt","onError","e","style","display","nextSibling","estNouveau","estEnPromotion","estPopulaire","marque","categorie","prix","prixReduit","couleurs","couleur","backgroundColor","code","disabled","stopPropagation","genre","description","_ref3","selectedOrder","setSelectedOrder","showOrderDetails","setShowOrderDetails","filterStatus","setFilterStatus","searchTerm","setSearchTerm","handleViewOrder","getOrderTypeIcon","_order$articles","hasCustomHoodie","articles","some","article","getOrderTypeLabel","_order$articles2","getStatusInfo","statusConfig","label","color","bgColor","icon","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","hour","minute","filteredOrders","_order$_id2","_order$utilisateur4","_order$utilisateur5","matchesStatus","statut","matchesSearch","toLowerCase","includes","statusCounts","acc","placeholder","onChange","Object","entries","_ref4","count","_order$_id3","_order$utilisateur6","_order$utilisateur7","_order$articles3","_order$articles4","_order$articles5","statusInfo","borderColor","dateCreation","_article$customData","customData","logo","startsWith","quantite","OrderDetailsModal","onStatusUpdate","updatedOrder","prevOrders","_ref5","forceUpdate","getInitials","toUpperCase","isUserActive","lastLogin","now","diffInMinutes","interval","setInterval","clearInterval","u","email","createdAt","_ref6","formData","setFormData","sousCategorie","materiau","entretien","tags","setTailles","setCouleurs","setImages","imageFiles","setImageFiles","uploadingImages","setUploadingImages","errors","setErrors","categories","handleChange","name","checked","handleTailleChange","field","newTailles","handleCouleurChange","newCouleurs","addCouleur","removeCouleur","_","i","handleImageUpload","files","Array","from","validFiles","file","isValidType","isValidSize","size","forEach","reader","FileReader","onload","preview","result","readAsDataURL","removeImage","uploadImages","Error","uploadedImages","FormData","post","push","img","_error$response5","_error$response5$data","_error$response6","validateForm","newErrors","trim","hasStock","keys","handleSubmit","preventDefault","productData","parseFloat","t","submit","onSubmit","rows","step","min","cat","parseInt","id","multiple","accept","htmlFor","image","_ref7","_order$_id4","_order$utilisateur8","_order$utilisateur9","_order$utilisateur0","_order$articles6","_order$adresseLivrais","_order$adresseLivrais2","_order$adresseLivrais3","_order$adresseLivrais4","_order$adresseLivrais5","_order$adresseLivrais6","_order$adresseLivrais7","isUpdatingStatus","setIsUpdatingStatus","showStatusButtons","setShowStatusButtons","downloadLogo","logoData","filename","substring","link","document","createElement","download","body","appendChild","click","removeChild","mimeType","dataUrl","alert","getStatusColor","colors","getStatusLabel","labels","getStatusIcon","icons","handleStatusUpdate","newStatus","put","getAvailableStatuses","currentStatus","allStatuses","dateCommande","alignItems","gap","marginTop","fontWeight","padding","borderRadius","border","background","cursor","fontSize","opacity","marginBottom","flexWrap","transition","onMouseOver","transform","boxShadow","onMouseOut","methodePaiement","numeroSuivi","prixTotal","prixUnitaire","logoType","logoSize","logoPosition","width","height","couleurCode","marginLeft","verticalAlign","couleurNom","justifyContent","flexDirection","textAlign","maxWidth","maxHeight","objectFit","sousTotal","fraisLivraison","reduction","adresseLivraison","rue","codePostal","ville","pays","telephone","notes","_ref8","setForceUpdate","localTailles","setLocalTailles","renderKey","setRenderKey","manualRender","setManualRender","handleSizeChange","addSize","addSizeFromSelect","sizeName","tailleExists","warning","newTaille","JSON","stringify","currentTailles","updatedFormData","setTimeout","sizesContainer","querySelector","currentCount","textContent","sizesList","newSizeElement","setAttribute","innerHTML","removeSize","handleColorChange","addColor","removeColor","submitData","required","_ref9","userStats","setUserStats","nombreCommandes","totalDepense","getStatusText","fetchUserStats","statistiques","adresse"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/frontend-vercel/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { FaPlus, FaEdit, FaTrash, FaEye, FaUsers, FaBox, FaShoppingCart, FaChartLine, FaCog, FaSignOutAlt, FaTimes, FaHome, FaUser, FaMapMarkerAlt, FaCity, FaMailBulk, FaGlobe, FaChartBar, FaMoneyBillWave } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSocket } from '../contexts/SocketContext';\nimport { formatBrand } from '../utils/formatUtils';\nimport SettingsTab from '../components/SettingsTab';\nimport api from '../config/axios';\nimport '../styles/Admin.css';\nimport '../styles/ModernDashboard.css';\nimport '../styles/Settings.css';\n\nconst Admin = () => {\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({});\n  const [products, setProducts] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [usersPagination, setUsersPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    pages: 0\n  });\n  const [usersSearch, setUsersSearch] = useState('');\n  const [usersRoleFilter, setUsersRoleFilter] = useState('');\n  const [showUserDetails, setShowUserDetails] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n\n  const { user, logout } = useAuth();\n  const { socket, isConnected, joinAdminRoom, leaveAdminRoom } = useSocket();\n  const navigate = useNavigate();\n\n  // Fonction pour mettre √† jour les statistiques bas√©es sur le nombre de produits\n  const updateStatsFromProducts = (newProductCount) => {\n    setStats(prevStats => ({\n      ...prevStats,\n      totalProducts: newProductCount\n    }));\n    console.log('üìä Statistiques mises √† jour localement - Produits:', newProductCount);\n  };\n\n  // V√©rifier que le token admin est valide avant les requ√™tes importantes\n  const checkAdminToken = async () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      toast.error('Token d\\'authentification manquant');\n      window.location.href = '/admin-login';\n      return false;\n    }\n\n    try {\n      await api.get('/auth/check');\n      return true;\n    } catch (error) {\n      console.error('Token admin invalide:', error);\n      if (error.response?.status === 401) {\n        localStorage.removeItem('token');\n        toast.error('Session expir√©e. Veuillez vous reconnecter.');\n        window.location.href = '/admin-login';\n      }\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    if (user && user.role === 'admin') {\n      fetchDashboardData();\n      // Rejoindre la room admin pour les mises √† jour en temps r√©el\n      joinAdminRoom();\n    }\n  }, [user]); // Retir√© joinAdminRoom des d√©pendances\n\n  // Quitter la room admin quand le composant est d√©mont√©\n  useEffect(() => {\n    return () => {\n      leaveAdminRoom();\n    };\n  }, []); // Retir√© leaveAdminRoom des d√©pendances\n\n  // √âcouter les √©v√©nements WebSocket\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    // √âv√©nement quand un produit est supprim√©\n    socket.on('product-deleted', (data) => {\n      console.log('Produit supprim√© via WebSocket:', data);\n      setProducts(prev => {\n        const newProducts = prev.filter(p => p._id !== data.productId);\n        // Mettre √† jour les statistiques avec le nouveau nombre\n        updateStatsFromProducts(newProducts.length);\n        return newProducts;\n      });\n      toast.info(`Produit \"${data.productName}\" supprim√© par ${data.deletedBy}`);\n    });\n\n    // √âv√©nement quand un produit est ajout√©\n    socket.on('product-added', (data) => {\n      console.log('Produit ajout√© via WebSocket:', data);\n      setProducts(prev => {\n        const newProducts = [data.product, ...prev];\n        // Mettre √† jour les statistiques avec le nouveau nombre\n        updateStatsFromProducts(newProducts.length);\n        return newProducts;\n      });\n      toast.info(`Nouveau produit \"${data.product.nom}\" ajout√© par ${data.addedBy}`);\n    });\n\n    // √âv√©nement quand un produit est mis √† jour\n    socket.on('product-updated', (data) => {\n      console.log('Produit mis √† jour via WebSocket:', data);\n      setProducts(prev => prev.map(p => p._id === data.product._id ? data.product : p));\n      // Pas besoin de mettre √† jour le nombre pour une mise √† jour\n      toast.info(`Produit \"${data.product.nom}\" mis √† jour par ${data.updatedBy}`);\n    });\n\n    // √âv√©nement pour les statistiques mises √† jour en temps r√©el\n    socket.on('stats-updated', (data) => {\n      console.log('üìä Statistiques re√ßues via WebSocket:', data);\n      console.log('üì¶ Nombre de produits re√ßu:', data.totalProducts);\n      console.log('üí∞ Chiffre d\\'affaires re√ßu:', data.chiffreAffaires);\n      console.log('üë• Nombre d\\'utilisateurs re√ßu:', data.totalUsers);\n      console.log('üõí Nombre de commandes re√ßu:', data.totalOrders);\n      setStats(data);\n      toast.info(`Statistiques mises √† jour: ${data.totalProducts} produits`, { autoClose: 2000 });\n    });\n\n    // Cleanup\n    return () => {\n      socket.off('product-deleted');\n      socket.off('product-added');\n      socket.off('product-updated');\n      socket.off('stats-updated');\n    };\n  }, [socket, isConnected]);\n\n  const handleLogout = () => {\n    if (window.confirm('√ätes-vous s√ªr de vouloir vous d√©connecter ?')) {\n      // Quitter la room admin avant de se d√©connecter\n      leaveAdminRoom();\n      logout();\n      navigate('/');\n      toast.success('D√©connexion r√©ussie');\n    }\n  };\n\n  // Charger les utilisateurs quand on clique sur l'onglet Utilisateurs\n  useEffect(() => {\n    if (activeTab === 'users' && user && user.role === 'admin') {\n      fetchUsers(1, 20, '', '');\n    }\n  }, [activeTab, user]);\n\n  // Charger toutes les commandes quand on clique sur l'onglet Commandes\n  useEffect(() => {\n    if (activeTab === 'orders' && user && user.role === 'admin') {\n      fetchAllOrders();\n    }\n  }, [activeTab, user]);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      // Charger les statistiques\n      const statsResponse = await fetch('/api/admin/stats', {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      \n      if (statsResponse.ok) {\n        const statsData = await statsResponse.json();\n        console.log('üìä Statistiques initiales charg√©es:', statsData);\n        console.log('üì¶ Nombre de produits initial:', statsData.totalProducts);\n        setStats(statsData);\n      }\n\n      // Charger les produits\n      console.log('Chargement des produits...');\n      try {\n        const productsResponse = await api.get('/products?limit=100'); // Charger plus de produits pour avoir le vrai total\n        console.log('Donn√©es produits re√ßues:', productsResponse.data);\n        const loadedProducts = productsResponse.data.produits || productsResponse.data.products || [];\n        console.log('Nombre de produits charg√©s:', loadedProducts.length);\n        setProducts(loadedProducts);\n        \n        // Synchroniser les statistiques avec le nombre r√©el de produits\n        if (loadedProducts.length > 0) {\n          setStats(prevStats => ({\n            ...prevStats,\n            totalProducts: loadedProducts.length\n          }));\n          console.log('üìä Statistiques synchronis√©es - Produits:', loadedProducts.length);\n        }\n      } catch (error) {\n        console.error('Erreur lors du chargement des produits:', error);\n      }\n\n      // Charger les commandes r√©centes (toutes les commandes pour l'admin)\n      try {\n        const ordersResponse = await api.get('/orders/admin/toutes?limit=10');\n        setOrders(ordersResponse.data.commandes || ordersResponse.data.orders || []);\n      } catch (error) {\n        console.error('Erreur lors du chargement des commandes:', error);\n      }\n\n      // Charger les utilisateurs r√©cents pour le dashboard\n      await fetchUsers(1, 10);\n\n    } catch (error) {\n      toast.error('Erreur lors du chargement des donn√©es');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchUsers = async (page = 1, limit = 20, search = '', role = '') => {\n    try {\n      const params = new URLSearchParams({\n        page: page.toString(),\n        limit: limit.toString()\n      });\n      \n      if (search) params.append('recherche', search);\n      if (role) params.append('role', role);\n\n      const response = await fetch(`/api/users/admin/tous?${params}`, {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setUsers(data.utilisateurs);\n        setUsersPagination(data.pagination);\n      } else {\n        toast.error('Erreur lors du chargement des utilisateurs');\n      }\n    } catch (error) {\n      toast.error('Erreur lors du chargement des utilisateurs');\n    }\n  };\n\n  const fetchAllOrders = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/orders/admin/toutes');\n      setOrders(response.data.commandes || response.data.orders || []);\n    } catch (error) {\n      console.error('Erreur lors du chargement des commandes:', error);\n      toast.error('Erreur lors du chargement des commandes');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fonction pour voir les d√©tails d'un utilisateur\n  const handleViewUser = (user) => {\n    setSelectedUser(user);\n    setShowUserDetails(true);\n  };\n\n\n  if (!user || user.role !== 'admin') {\n    return (\n      <div className=\"admin-page\">\n        <div className=\"admin-container\">\n          <div className=\"access-denied\">\n            <h1>Acc√®s refus√©</h1>\n            <p>Vous n'avez pas les permissions n√©cessaires pour acc√©der √† cette page.</p>\n            <Link to=\"/\" className=\"btn-primary\">\n              Retour √† l'accueil\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Chargement du tableau de bord...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-page\">\n      <div className=\"admin-layout\">\n        {/* Sidebar */}\n        <div className=\"admin-sidebar\">\n          <div className=\"sidebar-header\">\n            <h2>Administration</h2>\n            <p>AYNEXT</p>\n            <div className=\"connection-status\">\n              <span className={`status-indicator ${isConnected ? 'connected' : 'disconnected'}`}>\n                {isConnected ? 'üü¢ Temps r√©el' : 'üî¥ Hors ligne'}\n              </span>\n            </div>\n          </div>\n          \n          <nav className=\"sidebar-nav\">\n            <button\n              className={`sidebar-item ${activeTab === 'dashboard' ? 'active' : ''}`}\n              onClick={() => setActiveTab('dashboard')}\n            >\n              <FaChartLine className=\"sidebar-icon\" />\n              <span>Tableau de bord</span>\n            </button>\n            \n            <button\n              className={`sidebar-item ${activeTab === 'products' ? 'active' : ''}`}\n              onClick={() => setActiveTab('products')}\n            >\n              <FaBox className=\"sidebar-icon\" />\n              <span>Produits</span>\n            </button>\n            \n            <button\n              className={`sidebar-item ${activeTab === 'orders' ? 'active' : ''}`}\n              onClick={() => setActiveTab('orders')}\n            >\n              <FaShoppingCart className=\"sidebar-icon\" />\n              <span>Commandes</span>\n            </button>\n            \n            <button\n              className={`sidebar-item ${activeTab === 'users' ? 'active' : ''}`}\n              onClick={() => setActiveTab('users')}\n            >\n              <FaUsers className=\"sidebar-icon\" />\n              <span>Utilisateurs</span>\n            </button>\n            \n            <button\n              className={`sidebar-item ${activeTab === 'settings' ? 'active' : ''}`}\n              onClick={() => setActiveTab('settings')}\n            >\n              <FaCog className=\"sidebar-icon\" />\n              <span>Param√®tres</span>\n            </button>\n          </nav>\n          \n          {/* Bouton Accueil */}\n          <div className=\"sidebar-home\">\n            <Link\n              to=\"/\"\n              className=\"sidebar-item home-btn\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <FaHome className=\"sidebar-icon\" />\n              <span>Voir la boutique</span>\n            </Link>\n          </div>\n          \n          {/* Bouton de d√©connexion */}\n          <div className=\"sidebar-footer\">\n            <button\n              className=\"sidebar-item logout-btn\"\n              onClick={handleLogout}\n            >\n              <FaSignOutAlt className=\"sidebar-icon\" />\n              <span>D√©connexion</span>\n            </button>\n          </div>\n        </div>\n\n        {/* Contenu principal */}\n        <div className=\"admin-main\">\n          <div className=\"admin-content\">\n          {activeTab === 'dashboard' && (\n            <DashboardTab stats={stats} onRefresh={fetchDashboardData} />\n          )}\n          \n          {activeTab === 'products' && (\n            <ProductsTab \n              products={products} \n              onProductAdded={(newProduct) => {\n                setProducts(prev => [...(prev || []), newProduct]);\n              }}\n            />\n          )}\n          \n          {activeTab === 'orders' && (\n            <OrdersTab \n              orders={orders} \n              onOrdersUpdate={setOrders}\n            />\n          )}\n          \n          {activeTab === 'users' && (\n            <UsersTab \n              users={users}\n              pagination={usersPagination}\n              onViewUser={handleViewUser}\n            />\n          )}\n          \n          {activeTab === 'settings' && (\n            <SettingsTab />\n          )}\n          </div>\n        </div>\n      </div>\n\n      {/* Modal des d√©tails utilisateur */}\n      {showUserDetails && selectedUser && (\n        <UserDetailsModal\n          user={selectedUser}\n          onClose={() => {\n            setShowUserDetails(false);\n            setSelectedUser(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\n// Onglet Tableau de bord moderne\nconst DashboardTab = ({ stats, onRefresh }) => {\n  console.log('üéØ DashboardTab - Stats re√ßues:', stats);\n  \n  // Fonction pour calculer la tendance\n  const getTrend = (value, type) => {\n    if (type === 'revenue' && value > 200) return 'up';\n    if (type === 'users' && value > 2) return 'up';\n    if (type === 'products' && value > 1) return 'up';\n    if (type === 'orders' && value > 4) return 'up';\n    return 'stable';\n  };\n\n  // Fonction pour obtenir l'ic√¥ne de tendance\n  const getTrendIcon = (trend) => {\n    switch (trend) {\n      case 'up': return 'üìà';\n      case 'down': return 'üìâ';\n      default: return '‚û°Ô∏è';\n    }\n  };\n\n  // Fonction pour obtenir la description\n  const getDescription = (type, value) => {\n    switch (type) {\n      case 'users':\n        return value > 5 ? 'Croissance excellente' : value > 2 ? 'Croissance stable' : 'En d√©veloppement';\n      case 'products':\n        return value > 10 ? 'Catalogue complet' : value > 5 ? 'Catalogue en expansion' : 'Catalogue en construction';\n      case 'orders':\n        return value > 20 ? 'Activit√© √©lev√©e' : value > 10 ? 'Activit√© mod√©r√©e' : 'Activit√© en croissance';\n      case 'revenue':\n        return value > 1000 ? 'Performances excellentes' : value > 500 ? 'Performances bonnes' : 'Performances en d√©veloppement';\n      default:\n        return 'Donn√©es mises √† jour';\n    }\n  };\n\n  return (\n    <div className=\"dashboard-tab\">\n      {/* En-t√™te moderne */}\n      <div className=\"modern-stats-header\">\n        <div className=\"modern-header-content\">\n          <div>\n            <h1 className=\"modern-header-title\">Statistiques de la boutique</h1>\n            <p className=\"modern-header-subtitle\">\n              Vue d'ensemble en temps r√©el de votre activit√© commerciale\n            </p>\n          </div>\n          <div className=\"modern-stats-controls\">\n            <div className=\"modern-realtime-indicator\">\n              <div className=\"modern-pulse-dot\"></div>\n              <span>Mise √† jour en temps r√©el</span>\n            </div>\n            <button \n              className=\"modern-refresh-btn\"\n              onClick={onRefresh}\n              title=\"Rafra√Æchir les statistiques\"\n            >\n              <FaChartLine />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Grille de statistiques moderne */}\n      <div className=\"modern-stats-grid\">\n        {/* Utilisateurs */}\n        <div className=\"modern-stat-card users\">\n          <div className=\"modern-stat-header\">\n            <div className=\"modern-stat-icon\">\n              <FaUsers />\n            </div>\n            <div className={`modern-stat-trend ${getTrend(stats.totalUsers, 'users')}`}>\n              <span>{getTrendIcon(getTrend(stats.totalUsers, 'users'))}</span>\n              <span>Tendance</span>\n            </div>\n          </div>\n          <div className=\"modern-stat-content\">\n            <div className=\"modern-stat-value\">{stats.totalUsers || 0}</div>\n            <div className=\"modern-stat-label\">Utilisateurs inscrits</div>\n            <div className=\"modern-stat-description\">\n              {getDescription('users', stats.totalUsers)}\n            </div>\n          </div>\n        </div>\n\n        {/* Produits */}\n        <div className=\"modern-stat-card products\">\n          <div className=\"modern-stat-header\">\n            <div className=\"modern-stat-icon\">\n              <FaBox />\n            </div>\n            <div className={`modern-stat-trend ${getTrend(stats.totalProducts, 'products')}`}>\n              <span>{getTrendIcon(getTrend(stats.totalProducts, 'products'))}</span>\n              <span>Stock</span>\n            </div>\n          </div>\n          <div className=\"modern-stat-content\">\n            <div className=\"modern-stat-value\">{stats.totalProducts || 0}</div>\n            <div className=\"modern-stat-label\">Produits disponibles</div>\n            <div className=\"modern-stat-description\">\n              {getDescription('products', stats.totalProducts)}\n            </div>\n          </div>\n        </div>\n\n        {/* Commandes */}\n        <div className=\"modern-stat-card orders\">\n          <div className=\"modern-stat-header\">\n            <div className=\"modern-stat-icon\">\n              <FaShoppingCart />\n            </div>\n            <div className={`modern-stat-trend ${getTrend(stats.totalOrders, 'orders')}`}>\n              <span>{getTrendIcon(getTrend(stats.totalOrders, 'orders'))}</span>\n              <span>Activit√©</span>\n            </div>\n          </div>\n          <div className=\"modern-stat-content\">\n            <div className=\"modern-stat-value\">{stats.totalOrders || 0}</div>\n            <div className=\"modern-stat-label\">Commandes totales</div>\n            <div className=\"modern-stat-description\">\n              {getDescription('orders', stats.totalOrders)}\n            </div>\n          </div>\n        </div>\n\n        {/* Chiffre d'affaires */}\n        <div className=\"modern-stat-card revenue\">\n          <div className=\"modern-stat-header\">\n            <div className=\"modern-stat-icon\">\n              <FaChartLine />\n            </div>\n            <div className={`modern-stat-trend ${getTrend(stats.chiffreAffaires, 'revenue')}`}>\n              <span>{getTrendIcon(getTrend(stats.chiffreAffaires, 'revenue'))}</span>\n              <span>Performance</span>\n            </div>\n          </div>\n          <div className=\"modern-stat-content\">\n            <div className=\"modern-stat-value\">{stats.chiffreAffaires || 0}</div>\n            <div className=\"modern-stat-label\">Chiffre d'affaires (TND)</div>\n            <div className=\"modern-stat-description\">\n              {getDescription('revenue', stats.chiffreAffaires)}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Commandes r√©centes */}\n      {stats.recentOrders && stats.recentOrders.length > 0 && (\n        <div className=\"modern-recent-section\">\n          <h3 className=\"modern-section-title\">\n            <FaShoppingCart />\n            Commandes r√©centes\n          </h3>\n          <div className=\"modern-recent-orders\">\n            {stats.recentOrders.slice(0, 5).map((order, index) => (\n              <div key={order._id || index} className=\"modern-order-item\">\n                <div className=\"modern-order-info\">\n                  <div className=\"modern-order-avatar\">\n                    {order.utilisateur?.prenom?.charAt(0) || 'U'}\n                  </div>\n                  <div className=\"modern-order-details\">\n                    <h4>\n                      Commande #{order._id?.slice(-8)}\n                    </h4>\n                    <p>\n                      {order.utilisateur?.prenom} {order.utilisateur?.nom}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"modern-order-amount\">\n                  {order.total} TND\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Onglet Produits\nconst ProductsTab = ({ products, onProductAdded }) => {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [showProductDetails, setShowProductDetails] = useState(false);\n  const [showEditForm, setShowEditForm] = useState(false);\n  const [productsList, setProductsList] = useState(products || []);\n  const { user } = useAuth();\n\n  // Log pour d√©bogage\n  console.log('ProductsTab - Produits re√ßus:', products);\n  console.log('ProductsTab - Nombre de produits:', products?.length || 0);\n\n  // Mettre √† jour la liste des produits quand les props changent\n  useEffect(() => {\n    setProductsList(products || []);\n  }, [products]);\n\n  // Fonction pour supprimer un produit\n  const handleDeleteProduct = async (productId, productName) => {\n    if (!window.confirm(`√ätes-vous s√ªr de vouloir supprimer le produit \"${productName}\" ?`)) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      console.log('Tentative de suppression du produit:', productId);\n      console.log('Utilisateur actuel:', user);\n      console.log('Token:', localStorage.getItem('token'));\n      \n      await api.delete(`/api/products/${productId}`);\n      \n      // La mise √† jour sera g√©r√©e par WebSocket\n      toast.success('Produit supprim√© avec succ√®s');\n    } catch (error) {\n      console.error('Erreur lors de la suppression:', error);\n      console.error('Status:', error.response?.status);\n      console.error('Data:', error.response?.data);\n      const errorMessage = error.response?.data?.message || 'Erreur lors de la suppression du produit';\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n\n  // Fonction pour voir les d√©tails d'un produit\n  const handleViewProduct = (product) => {\n    setSelectedProduct(product);\n    setShowProductDetails(true);\n  };\n\n  // Fonction pour modifier un produit\n  const handleEditProduct = (product) => {\n    setSelectedProduct(product);\n    setShowEditForm(true);\n    setShowProductDetails(false);\n  };\n\n  return (\n    <div className=\"products-tab\">\n      <div className=\"tab-header\">\n        <h2>Gestion des produits</h2>\n        <div className=\"header-actions\">\n          <p>Total: {productsList?.length || 0} produits</p>\n          <button \n            className=\"btn-primary\"\n            onClick={() => setShowAddForm(true)}\n          >\n            <FaPlus />\n            Ajouter un produit\n          </button>\n        </div>\n      </div>\n\n      {showAddForm && (\n        <AddProductForm \n          onClose={() => setShowAddForm(false)}\n          onProductAdded={async (newProduct) => {\n            // La mise √† jour sera g√©r√©e par WebSocket\n            setShowAddForm(false);\n            toast.success('Produit ajout√© avec succ√®s');\n          }}\n        />\n      )}\n\n      {showEditForm && selectedProduct && (\n        <EditProductForm \n          product={selectedProduct}\n          onClose={() => {\n            setShowEditForm(false);\n            setSelectedProduct(null);\n          }}\n          onProductUpdated={async (updatedProduct) => {\n            // La mise √† jour sera g√©r√©e par WebSocket\n            setShowEditForm(false);\n            setSelectedProduct(null);\n            toast.success('Produit modifi√© avec succ√®s');\n          }}\n        />\n      )}\n\n      <div className=\"products-grid\">\n        {(productsList || []).map(product => {\n          const totalStock = product.tailles ? \n            product.tailles.reduce((total, taille) => total + (taille.stock || 0), 0) \n            : 0;\n          const mainImage = product.images && product.images.length > 0 ? product.images[0].url : null;\n          \n          return (\n            <div key={product._id} className=\"product-card\">\n              <div className=\"product-image\">\n                {mainImage ? (\n                  <img \n                    src={mainImage} \n                    alt={product.images[0].alt || product.nom}\n                    onError={(e) => {\n                      e.target.style.display = 'none';\n                      e.target.nextSibling.style.display = 'flex';\n                    }}\n                  />\n                ) : null}\n                <div className=\"no-image\" style={{ display: mainImage ? 'none' : 'flex' }}>\n                  <FaBox />\n                  <span>Aucune image</span>\n                </div>\n                <div className=\"product-badges\">\n                  {product.estNouveau && <span className=\"badge new\">Nouveau</span>}\n                  {product.estEnPromotion && <span className=\"badge promo\">Promo</span>}\n                  {product.estPopulaire && <span className=\"badge popular\">Populaire</span>}\n                </div>\n              </div>\n              \n              <div className=\"product-info\">\n                <h3 className=\"product-name\">{product.nom}</h3>\n                <p className=\"product-brand\">{formatBrand(product.marque)}</p>\n                <p className=\"product-category\">{product.categorie}</p>\n                \n                <div className=\"product-pricing\">\n                  <span className=\"current-price\">{product.prix} TND</span>\n                  {product.prixReduit && product.prixReduit < product.prix && (\n                    <span className=\"original-price\">{product.prixReduit} TND</span>\n                  )}\n                </div>\n                \n                <div className=\"product-stock\">\n                  <span className={`stock-indicator ${totalStock > 0 ? 'in-stock' : 'out-of-stock'}`}>\n                    {totalStock > 0 ? `${totalStock} en stock` : 'Rupture de stock'}\n                  </span>\n                </div>\n                \n                {product.tailles && product.tailles.length > 0 && (\n                  <div className=\"product-sizes\">\n                    <span className=\"sizes-label\">Tailles disponibles:</span>\n                    <div className=\"sizes-list\">\n                      {product.tailles\n                        .filter(taille => taille.stock > 0)\n                        .map(taille => (\n                          <span key={taille.nom} className=\"size-tag\">\n                            {taille.nom} ({taille.stock})\n                          </span>\n                        ))\n                      }\n                    </div>\n                  </div>\n                )}\n                \n                {product.couleurs && product.couleurs.length > 0 && (\n                  <div className=\"product-colors\">\n                    <span className=\"colors-label\">Couleurs:</span>\n                    <div className=\"colors-list\">\n                      {product.couleurs.slice(0, 5).map((couleur, index) => (\n                        <div \n                          key={index}\n                          className=\"color-dot\" \n                          style={{ backgroundColor: couleur.code }}\n                          title={couleur.nom}\n                        />\n                      ))}\n                      {product.couleurs.length > 5 && (\n                        <span className=\"more-colors\">+{product.couleurs.length - 5}</span>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"product-actions\">\n                <button \n                  className=\"btn-icon edit\" \n                  title=\"Modifier le produit\"\n                  onClick={() => handleEditProduct(product)}\n                  disabled={loading}\n                >\n                  <FaEdit />\n                </button>\n                <button \n                  className=\"btn-icon view\" \n                  title=\"Voir les d√©tails\"\n                  onClick={() => handleViewProduct(product)}\n                >\n                  <FaEye />\n                </button>\n                <button \n                  className=\"btn-icon delete\" \n                  title=\"Supprimer le produit\"\n                  onClick={() => handleDeleteProduct(product._id, product.nom)}\n                  disabled={loading}\n                >\n                  <FaTrash />\n                </button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Modal de d√©tails du produit */}\n      {showProductDetails && selectedProduct && (\n        <div className=\"modal-overlay\" onClick={() => setShowProductDetails(false)}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>D√©tails du produit</h3>\n              <button \n                className=\"close-btn\"\n                onClick={() => setShowProductDetails(false)}\n              >\n                <FaTimes />\n              </button>\n            </div>\n            \n            <div className=\"product-details\">\n              <div className=\"product-image-section\">\n                {selectedProduct.images && selectedProduct.images.length > 0 ? (\n                  <img \n                    src={selectedProduct.images[0].url} \n                    alt={selectedProduct.nom}\n                    className=\"product-detail-image\"\n                  />\n                ) : (\n                  <div className=\"no-image\">Aucune image</div>\n                )}\n              </div>\n              \n              <div className=\"product-info-section\">\n                <h4>{selectedProduct.nom}</h4>\n                <p><strong>Marque:</strong> {selectedProduct.marque || 'N/A'}</p>\n                <p><strong>Cat√©gorie:</strong> {selectedProduct.categorie || 'N/A'}</p>\n                <p><strong>Genre:</strong> {selectedProduct.genre || 'N/A'}</p>\n                <p><strong>Prix:</strong> {selectedProduct.prix} TND</p>\n                {selectedProduct.prixReduit && (\n                  <p><strong>Prix r√©duit:</strong> {selectedProduct.prixReduit} TND</p>\n                )}\n                <p><strong>Description:</strong> {selectedProduct.description || 'Aucune description'}</p>\n                \n                {selectedProduct.tailles && selectedProduct.tailles.length > 0 && (\n                  <div className=\"sizes-section\">\n                    <h5>Tailles disponibles:</h5>\n                    <div className=\"sizes-list\">\n                      {selectedProduct.tailles.map((taille, index) => (\n                        <span key={index} className=\"size-item\">\n                          {taille.taille}: {taille.stock || 0} en stock\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                \n                {selectedProduct.couleurs && selectedProduct.couleurs.length > 0 && (\n                  <div className=\"colors-section\">\n                    <h5>Couleurs disponibles:</h5>\n                    <div className=\"colors-list\">\n                      {selectedProduct.couleurs.map((couleur, index) => (\n                        <span key={index} className=\"color-item\">\n                          {couleur.nom}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"modal-actions\">\n              <button \n                className=\"btn-secondary\"\n                onClick={() => setShowProductDetails(false)}\n              >\n                Fermer\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Onglet Commandes\nconst OrdersTab = ({ orders, onOrdersUpdate }) => {\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showOrderDetails, setShowOrderDetails] = useState(false);\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const handleViewOrder = (order) => {\n    setSelectedOrder(order);\n    setShowOrderDetails(true);\n  };\n\n  const getOrderTypeIcon = (order) => {\n    const hasCustomHoodie = order.articles?.some(article => article.type === 'custom_hoodie');\n    return hasCustomHoodie ? 'üé®' : 'üì¶';\n  };\n\n  const getOrderTypeLabel = (order) => {\n    const hasCustomHoodie = order.articles?.some(article => article.type === 'custom_hoodie');\n    return hasCustomHoodie ? 'Hoodie personnalis√©' : 'Commande standard';\n  };\n\n  const getStatusInfo = (status) => {\n    const statusConfig = {\n      'en_attente': { label: 'En attente', color: '#ffc107', bgColor: '#fff3cd', icon: '‚è≥' },\n      'confirmee': { label: 'Confirm√©e', color: '#17a2b8', bgColor: '#d1ecf1', icon: '‚úÖ' },\n      'en_preparation': { label: 'En pr√©paration', color: '#fd7e14', bgColor: '#ffeaa7', icon: 'üîß' },\n      'expediee': { label: 'Exp√©di√©e', color: '#6f42c1', bgColor: '#e2e3f1', icon: 'üöö' },\n      'livree': { label: 'Livr√©e', color: '#28a745', bgColor: '#d4edda', icon: 'üì¶' },\n      'annulee': { label: 'Annul√©e', color: '#dc3545', bgColor: '#f8d7da', icon: '‚ùå' }\n    };\n    return statusConfig[status] || { label: status, color: '#6c757d', bgColor: '#f8f9fa', icon: '‚ùì' };\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('fr-FR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const filteredOrders = (orders || []).filter(order => {\n    const matchesStatus = filterStatus === 'all' || order.statut === filterStatus;\n    const matchesSearch = !searchTerm || \n      order._id?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      `${order.utilisateur?.nom} ${order.utilisateur?.prenom}`.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesStatus && matchesSearch;\n  });\n\n  const statusCounts = (orders || []).reduce((acc, order) => {\n    acc[order.statut] = (acc[order.statut] || 0) + 1;\n    return acc;\n  }, {});\n\n  return (\n    <div className=\"orders-tab-modern\">\n      {/* En-t√™te avec statistiques */}\n      <div className=\"orders-header\">\n        <div className=\"orders-header-content\">\n          <div className=\"orders-title-section\">\n            <h2 className=\"orders-title\">Gestion des Commandes</h2>\n            <p className=\"orders-subtitle\">Suivi et gestion de toutes les commandes clients</p>\n          </div>\n          <div className=\"orders-stats\">\n            <div className=\"orders-stat-item\">\n              <span className=\"stat-number\">{orders?.length || 0}</span>\n              <span className=\"stat-label\">Total</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filtres et recherche */}\n      <div className=\"orders-controls\">\n        <div className=\"orders-search\">\n          <div className=\"search-input-wrapper\">\n            <input\n              type=\"text\"\n              placeholder=\"Rechercher par nom client ou num√©ro de commande...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"search-input\"\n            />\n            <span className=\"search-icon\">üîç</span>\n          </div>\n        </div>\n        \n        <div className=\"orders-filters\">\n          <div className=\"filter-group\">\n            <label>Statut:</label>\n            <select \n              value={filterStatus} \n              onChange={(e) => setFilterStatus(e.target.value)}\n              className=\"filter-select\"\n            >\n              <option value=\"all\">Tous les statuts ({orders?.length || 0})</option>\n              {Object.entries(statusCounts).map(([status, count]) => (\n                <option key={status} value={status}>\n                  {getStatusInfo(status).label} ({count})\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Liste des commandes */}\n      <div className=\"orders-grid\">\n        {filteredOrders.length === 0 ? (\n          <div className=\"empty-orders\">\n            <div className=\"empty-icon\">üì¶</div>\n            <h3>Aucune commande trouv√©e</h3>\n            <p>Aucune commande ne correspond aux crit√®res de recherche</p>\n          </div>\n        ) : (\n          filteredOrders.map(order => {\n            const statusInfo = getStatusInfo(order.statut);\n            return (\n              <div key={order._id} className=\"order-card\">\n                <div className=\"order-card-header\">\n                  <div className=\"order-type\">\n                    <span className=\"order-icon\">{getOrderTypeIcon(order)}</span>\n                    <span className=\"order-type-label\">{getOrderTypeLabel(order)}</span>\n                  </div>\n                  <div className=\"order-status\">\n                    <span \n                      className=\"status-badge-modern\"\n                      style={{ \n                        color: statusInfo.color,\n                        backgroundColor: statusInfo.bgColor,\n                        borderColor: statusInfo.color\n                      }}\n                    >\n                      <span className=\"status-icon\">{statusInfo.icon}</span>\n                      {statusInfo.label}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"order-card-body\">\n                  <div className=\"order-info-row\">\n                    <div className=\"order-info-item\">\n                      <span className=\"info-label\">N¬∞ Commande</span>\n                      <span className=\"info-value\">#{order._id?.slice(-8) || 'N/A'}</span>\n                    </div>\n                    <div className=\"order-info-item\">\n                      <span className=\"info-label\">Client</span>\n                      <span className=\"info-value\">{order.utilisateur?.nom} {order.utilisateur?.prenom}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"order-info-row\">\n                    <div className=\"order-info-item\">\n                      <span className=\"info-label\">Date</span>\n                      <span className=\"info-value\">{formatDate(order.dateCreation)}</span>\n                    </div>\n                    <div className=\"order-info-item\">\n                      <span className=\"info-label\">Total</span>\n                      <span className=\"info-value price\">{order.total} TND</span>\n                    </div>\n                  </div>\n\n                  <div className=\"order-articles\">\n                    <span className=\"info-label\">Articles ({order.articles?.length || 0})</span>\n                    <div className=\"articles-list\">\n                      {order.articles?.slice(0, 2).map((article, index) => (\n                        <div key={index} className=\"article-item\">\n                          {article.type === 'custom_hoodie' ? (\n                            <div className=\"custom-article\">\n                              <span className=\"custom-icon\">üé®</span>\n                              <span className=\"article-name\">{article.nom}</span>\n                              {article.customData?.logo && !article.customData.logo.startsWith('blob:') && (\n                                <img \n                                  src={article.customData.logo} \n                                  alt=\"Logo\"\n                                  className=\"article-logo\"\n                                  onError={(e) => e.target.style.display = 'none'}\n                                />\n                              )}\n                            </div>\n                          ) : (\n                            <div className=\"standard-article\">\n                              <span className=\"article-name\">{article.nom}</span>\n                              {article.quantite > 1 && <span className=\"quantity\">x{article.quantite}</span>}\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                      {order.articles?.length > 2 && (\n                        <div className=\"more-articles\">\n                          +{order.articles.length - 2} autres articles\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"order-card-footer\">\n                  <button \n                    className=\"btn-view-details\"\n                    onClick={() => handleViewOrder(order)}\n                  >\n                    <FaEye />\n                    Voir d√©tails\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      {/* Modal de d√©tails de commande */}\n      {showOrderDetails && selectedOrder && (\n        <OrderDetailsModal \n          order={selectedOrder}\n          onClose={() => setShowOrderDetails(false)}\n          onStatusUpdate={(updatedOrder) => {\n            // Mettre √† jour la commande dans la liste\n            onOrdersUpdate(prevOrders => \n              prevOrders.map(order => \n                order._id === updatedOrder._id ? updatedOrder : order\n              )\n            );\n            setSelectedOrder(updatedOrder);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\n// Onglet Utilisateurs\nconst UsersTab = ({ users, pagination, onViewUser }) => {\n  const [, forceUpdate] = useState({});\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('fr-FR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    });\n  };\n\n  const getInitials = (nom, prenom) => {\n    return `${nom?.charAt(0) || ''}${prenom?.charAt(0) || ''}`.toUpperCase();\n  };\n\n  const isUserActive = (user) => {\n    // Si l'utilisateur n'a jamais de derni√®re connexion, il est inactif\n    if (!user.lastLogin) {\n      return false;\n    }\n\n    // Calculer la diff√©rence en minutes entre maintenant et la derni√®re connexion\n    const now = new Date();\n    const lastLogin = new Date(user.lastLogin);\n    const diffInMinutes = (now - lastLogin) / (1000 * 60);\n\n    // Consid√©rer l'utilisateur comme actif s'il s'est connect√© dans les derni√®res 30 minutes\n    return diffInMinutes <= 30;\n  };\n\n  // Mettre √† jour le statut toutes les minutes pour refl√©ter les changements en temps r√©el\n  useEffect(() => {\n    const interval = setInterval(() => {\n      forceUpdate({});\n    }, 60000); // Mise √† jour toutes les minutes\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"users-tab\">\n      <div className=\"tab-header\">\n        <div className=\"header-content\">\n          <div className=\"header-text\">\n            <h2>Gestion des utilisateurs</h2>\n            <p>G√©rez tous les utilisateurs de votre boutique</p>\n          </div>\n          <div className=\"header-stats\">\n            <div className=\"stat-card\">\n              <div className=\"stat-number\">{pagination?.total || 0}</div>\n              <div className=\"stat-label\">Total utilisateurs</div>\n            </div>\n            <div className=\"stat-card\">\n              <div className=\"stat-number\">{(users || []).filter(u => u.role === 'admin').length}</div>\n              <div className=\"stat-label\">Administrateurs</div>\n            </div>\n            <div className=\"stat-card\">\n              <div className=\"stat-number\">{(users || []).filter(u => u.role === 'client').length}</div>\n              <div className=\"stat-label\">Clients</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"users-grid\">\n        {(users || []).map(user => (\n          <div key={user._id} className=\"user-card\">\n            <div className=\"user-avatar\">\n              <div className=\"avatar-circle\">\n                {getInitials(user.nom, user.prenom)}\n              </div>\n              <div className={`status-indicator ${isUserActive(user) ? 'active' : 'inactive'}`}></div>\n            </div>\n            \n            <div className=\"user-info\">\n              <h3 className=\"user-name\">{user.nom} {user.prenom}</h3>\n              <p className=\"user-email\">{user.email}</p>\n              <div className=\"user-meta\">\n                <span className=\"user-role\">\n                  <span className={`role-badge ${user.role}`}>\n                    {user.role === 'admin' ? 'Administrateur' : 'Client'}\n                  </span>\n                </span>\n                <span className=\"user-date\">\n                  Cr√©√© le {formatDate(user.createdAt)}\n                </span>\n              </div>\n            </div>\n            \n            <div className=\"user-actions\">\n              <button \n                className=\"action-btn view-btn\" \n                title=\"Voir d√©tails\"\n                onClick={() => onViewUser(user)}\n              >\n                <FaEye />\n                <span>D√©tails</span>\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {(!users || users.length === 0) && (\n        <div className=\"empty-state\">\n          <div className=\"empty-icon\">\n            <FaUsers />\n          </div>\n          <h3>Aucun utilisateur trouv√©</h3>\n          <p>Il n'y a actuellement aucun utilisateur dans votre boutique.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\n\n\n// Composant formulaire d'ajout de produit\nconst AddProductForm = ({ onClose, onProductAdded }) => {\n  const [formData, setFormData] = useState({\n    nom: '',\n    description: '',\n    prix: '',\n    prixReduit: '',\n    categorie: '',\n    genre: '',\n    sousCategorie: '',\n    marque: '',\n    materiau: '',\n    entretien: '',\n    estEnPromotion: false,\n    estNouveau: false,\n    estPopulaire: false,\n    tags: []\n  });\n\n  const [tailles, setTailles] = useState([\n    { nom: 'XS', stock: 0 },\n    { nom: 'S', stock: 0 },\n    { nom: 'M', stock: 0 },\n    { nom: 'L', stock: 0 },\n    { nom: 'XL', stock: 0 },\n    { nom: 'XXL', stock: 0 }\n  ]);\n\n  const [couleurs, setCouleurs] = useState([\n    { nom: '‚ö´ Noir', code: '#000000' },\n    { nom: 'üü° Jaune', code: '#FFFF00' },\n    { nom: 'üî¥ Rouge', code: '#FF0000' },\n    { nom: 'üü† Orange', code: '#FFA500' },\n    { nom: 'üîµ Bleu', code: '#0000FF' },\n    { nom: '‚ö™ Blanc', code: '#FFFFFF' },\n    { nom: 'üü¢ Vert', code: '#00FF00' },\n    { nom: 'ü©∑ Rose', code: '#FFC0CB' }\n  ]);\n\n  const [images, setImages] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  const [uploadingImages, setUploadingImages] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  const categories = [\n    'hoodie', 'pull'\n  ];\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n    \n    // Effacer l'erreur du champ modifi√©\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: '' }));\n    }\n  };\n\n  const handleTailleChange = (index, field, value) => {\n    const newTailles = [...tailles];\n    newTailles[index] = { ...newTailles[index], [field]: value };\n    setTailles(newTailles);\n  };\n\n  const handleCouleurChange = (index, field, value) => {\n    const newCouleurs = [...couleurs];\n    newCouleurs[index] = { ...newCouleurs[index], [field]: value };\n    setCouleurs(newCouleurs);\n  };\n\n  const addCouleur = () => {\n    setCouleurs([...couleurs, { nom: '', code: '#000000' }]);\n  };\n\n  const removeCouleur = (index) => {\n    setCouleurs(couleurs.filter((_, i) => i !== index));\n  };\n\n  const handleImageUpload = (e) => {\n    const files = Array.from(e.target.files);\n    const validFiles = files.filter(file => {\n      const isValidType = file.type.startsWith('image/');\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB max\n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length !== files.length) {\n      setErrors(prev => ({ \n        ...prev, \n        images: 'Seules les images de moins de 5MB sont accept√©es' \n      }));\n    }\n\n    setImageFiles(prev => [...prev, ...validFiles]);\n    \n    // Cr√©er des URLs de pr√©visualisation\n    validFiles.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setImages(prev => [...prev, {\n          file,\n          preview: e.target.result,\n          name: file.name\n        }]);\n      };\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const removeImage = (index) => {\n    setImages(prev => prev.filter((_, i) => i !== index));\n    setImageFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const uploadImages = async () => {\n    if (imageFiles.length === 0) return [];\n\n    // V√©rifier le token admin avant l'upload\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('Token d\\'authentification manquant');\n    }\n\n    setUploadingImages(true);\n    const uploadedImages = [];\n\n    try {\n      // Upload toutes les images en une seule fois\n      const formData = new FormData();\n      imageFiles.forEach(file => {\n        formData.append('images', file);\n      });\n\n      const response = await api.post('/upload/product-images', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      if (response.data.success) {\n        const result = response.data;\n        uploadedImages.push(...result.images.map(img => img.url));\n      } else {\n        throw new Error(response.data.message || 'Erreur lors du chargement des images');\n      }\n    } catch (error) {\n      console.error('Erreur upload images:', error);\n      const errorMessage = error.response?.data?.message || error.message || 'Erreur lors du chargement des images';\n      setErrors(prev => ({ \n        ...prev, \n        images: errorMessage\n      }));\n      \n      // Si erreur d'authentification, rediriger vers login\n      if (error.response?.status === 401) {\n        localStorage.removeItem('token');\n        window.location.href = '/admin-login';\n      }\n    } finally {\n      setUploadingImages(false);\n    }\n\n    return uploadedImages;\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData.nom.trim()) newErrors.nom = 'Le nom est requis';\n    if (!formData.description.trim()) newErrors.description = 'La description est requise';\n    if (!formData.prix || formData.prix <= 0) newErrors.prix = 'Le prix doit √™tre sup√©rieur √† 0';\n    if (!formData.categorie) newErrors.categorie = 'La cat√©gorie est requise';\n    if (!formData.marque.trim()) newErrors.marque = 'La marque est requise';\n\n    // V√©rifier qu'au moins une taille a du stock\n    const hasStock = tailles.some(taille => taille.stock > 0);\n    if (!hasStock) newErrors.stock = 'Au moins une taille doit avoir du stock';\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    // V√©rifier le token admin avant de continuer\n    const token = localStorage.getItem('token');\n    if (!token) {\n      toast.error('Token d\\'authentification manquant');\n      window.location.href = '/admin-login';\n      return;\n    }\n\n    setLoading(true);\n    \n    try {\n      // Upload des images d'abord\n      const uploadedImages = await uploadImages();\n      \n      const productData = {\n        ...formData,\n        prix: parseFloat(formData.prix),\n        prixReduit: formData.prixReduit ? parseFloat(formData.prixReduit) : null,\n        tailles: tailles.filter(taille => taille.stock > 0), // Seulement les tailles avec stock\n        couleurs: couleurs.filter(couleur => couleur.nom.trim() !== ''), // Seulement les couleurs nomm√©es\n        images: uploadedImages.map(url => ({\n          url: url,\n          alt: formData.nom || 'Image produit'\n        })) // Convertir les URLs en objets avec url et alt\n      };\n\n      const response = await api.post('/products', productData);\n\n      if (response.status === 201) {\n        const newProduct = response.data;\n        onProductAdded(newProduct);\n        // Reset form\n        setFormData({\n          nom: '',\n          description: '',\n          prix: '',\n          prixReduit: '',\n          categorie: '',\n          sousCategorie: '',\n          marque: '',\n          materiau: '',\n          entretien: '',\n          estEnPromotion: false,\n          estNouveau: false,\n          estPopulaire: false,\n          tags: []\n        });\n        setTailles(tailles.map(t => ({ ...t, stock: 0 })));\n        setCouleurs([\n          { nom: 'Noir', code: '#000000' },\n          { nom: 'Blanc', code: '#FFFFFF' },\n          { nom: 'Rouge', code: '#FF0000' },\n          { nom: 'Bleu', code: '#0000FF' },\n          { nom: 'Vert', code: '#00FF00' }\n        ]);\n        setImages([]);\n        setImageFiles([]);\n      } else {\n        const error = await response.json();\n        setErrors({ submit: error.message || 'Erreur lors de l\\'ajout du produit' });\n      }\n    } catch (error) {\n      setErrors({ submit: 'Erreur de connexion' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"add-product-form\">\n      <div className=\"form-header\">\n        <h3>Ajouter un nouveau produit</h3>\n        <button onClick={onClose} className=\"close-btn\">√ó</button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"product-form\">\n        <div className=\"form-section\">\n          <h4>Informations g√©n√©rales</h4>\n          \n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Nom du produit *</label>\n              <input\n                type=\"text\"\n                name=\"nom\"\n                value={formData.nom}\n                onChange={handleChange}\n                className={errors.nom ? 'error' : ''}\n                placeholder=\"Ex: T-shirt Premium\"\n              />\n              {errors.nom && <span className=\"error-message\">{errors.nom}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label>Marque *</label>\n              <input\n                type=\"text\"\n                name=\"marque\"\n                value={formData.marque}\n                onChange={handleChange}\n                className={errors.marque ? 'error' : ''}\n                placeholder=\"Ex: Nike, Adidas...\"\n              />\n              {errors.marque && <span className=\"error-message\">{errors.marque}</span>}\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Description *</label>\n            <textarea\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              className={errors.description ? 'error' : ''}\n              placeholder=\"Description d√©taill√©e du produit...\"\n              rows=\"3\"\n            />\n            {errors.description && <span className=\"error-message\">{errors.description}</span>}\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Prix (TND) *</label>\n              <input\n                type=\"number\"\n                name=\"prix\"\n                value={formData.prix}\n                onChange={handleChange}\n                className={errors.prix ? 'error' : ''}\n                placeholder=\"29.99\"\n                step=\"0.01\"\n                min=\"0\"\n              />\n              {errors.prix && <span className=\"error-message\">{errors.prix}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label>Prix r√©duit (TND)</label>\n              <input\n                type=\"number\"\n                name=\"prixReduit\"\n                value={formData.prixReduit}\n                onChange={handleChange}\n                placeholder=\"19.99\"\n                step=\"0.01\"\n                min=\"0\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Cat√©gorie *</label>\n              <select\n                name=\"categorie\"\n                value={formData.categorie}\n                onChange={handleChange}\n                className={errors.categorie ? 'error' : ''}\n              >\n                <option value=\"\">S√©lectionner une cat√©gorie</option>\n                {categories.map(cat => (\n                  <option key={cat} value={cat}>{cat}</option>\n                ))}\n              </select>\n              {errors.categorie && <span className=\"error-message\">{errors.categorie}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label>Genre *</label>\n              <select\n                name=\"genre\"\n                value={formData.genre}\n                onChange={handleChange}\n                className={errors.genre ? 'error' : ''}\n              >\n                <option value=\"\">S√©lectionner un genre</option>\n                <option value=\"homme\">üë® Homme</option>\n                <option value=\"femme\">üë© Femme</option>\n                <option value=\"enfant\">üë∂ Enfant</option>\n                <option value=\"sport\">üèÉ Sport</option>\n              </select>\n              {errors.genre && <span className=\"error-message\">{errors.genre}</span>}\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Sous-cat√©gorie</label>\n              <input\n                type=\"text\"\n                name=\"sousCategorie\"\n                value={formData.sousCategorie}\n                onChange={handleChange}\n                placeholder=\"Ex: T-shirts, Jeans...\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h4>Tailles et stock</h4>\n          <div className=\"tailles-grid\">\n            {tailles.map((taille, index) => (\n              <div key={index} className=\"taille-item\">\n                <label>{taille.nom}</label>\n                <input\n                  type=\"number\"\n                  value={taille.stock}\n                  onChange={(e) => handleTailleChange(index, 'stock', parseInt(e.target.value) || 0)}\n                  min=\"0\"\n                  placeholder=\"0\"\n                />\n              </div>\n            ))}\n          </div>\n          {errors.stock && <span className=\"error-message\">{errors.stock}</span>}\n        </div>\n\n        <div className=\"form-section\">\n          <h4>Couleurs disponibles</h4>\n          <div className=\"couleurs-list\">\n            {couleurs.map((couleur, index) => (\n              <div key={index} className=\"couleur-item\">\n                <input\n                  type=\"text\"\n                  value={couleur.nom}\n                  onChange={(e) => handleCouleurChange(index, 'nom', e.target.value)}\n                  placeholder=\"Nom de la couleur\"\n                />\n                <input\n                  type=\"color\"\n                  value={couleur.code}\n                  onChange={(e) => handleCouleurChange(index, 'code', e.target.value)}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => removeCouleur(index)}\n                  className=\"remove-btn\"\n                >\n                  √ó\n                </button>\n              </div>\n            ))}\n            <button type=\"button\" onClick={addCouleur} className=\"add-couleur-btn\">\n              + Ajouter une couleur\n            </button>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h4>Images du produit</h4>\n          \n          <div className=\"image-upload-area\">\n            <div className=\"upload-zone\">\n              <input\n                type=\"file\"\n                id=\"image-upload\"\n                multiple\n                accept=\"image/*\"\n                onChange={handleImageUpload}\n                style={{ display: 'none' }}\n              />\n              <label htmlFor=\"image-upload\" className=\"upload-label\">\n                <div className=\"upload-icon\">üì∑</div>\n                <p>Cliquez pour ajouter des images</p>\n                <small>Formats accept√©s: JPG, PNG, GIF (max 5MB)</small>\n              </label>\n            </div>\n\n            {images.length > 0 && (\n              <div className=\"image-preview-grid\">\n                {images.map((image, index) => (\n                  <div key={index} className=\"image-preview-item\">\n                    <img src={image.preview} alt={`Preview ${index + 1}`} />\n                    <div className=\"image-overlay\">\n                      <span className=\"image-name\">{image.name}</span>\n                      <button\n                        type=\"button\"\n                        onClick={() => removeImage(index)}\n                        className=\"remove-image-btn\"\n                        title=\"Supprimer l'image\"\n                      >\n                        √ó\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {errors.images && (\n              <span className=\"error-message\">{errors.images}</span>\n            )}\n\n            {uploadingImages && (\n              <div className=\"upload-progress\">\n                <p>Chargement des images en cours...</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h4>D√©tails suppl√©mentaires</h4>\n          \n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Mat√©riau</label>\n              <input\n                type=\"text\"\n                name=\"materiau\"\n                value={formData.materiau}\n                onChange={handleChange}\n                placeholder=\"Ex: 100% Coton\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Entretien</label>\n              <input\n                type=\"text\"\n                name=\"entretien\"\n                value={formData.entretien}\n                onChange={handleChange}\n                placeholder=\"Ex: Lavage √† 30¬∞C\"\n              />\n            </div>\n          </div>\n\n          <div className=\"checkboxes\">\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                name=\"estEnPromotion\"\n                checked={formData.estEnPromotion}\n                onChange={handleChange}\n              />\n              En promotion\n            </label>\n\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                name=\"estNouveau\"\n                checked={formData.estNouveau}\n                onChange={handleChange}\n              />\n              Nouveau produit\n            </label>\n\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                name=\"estPopulaire\"\n                checked={formData.estPopulaire}\n                onChange={handleChange}\n              />\n              Produit populaire\n            </label>\n          </div>\n        </div>\n\n        {errors.submit && (\n          <div className=\"error-message submit-error\">{errors.submit}</div>\n        )}\n\n        <div className=\"form-actions\">\n          <button type=\"button\" onClick={onClose} className=\"btn-secondary\">\n            Annuler\n          </button>\n          <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n            {loading ? 'Ajout en cours...' : 'Ajouter le produit'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\n// Composant modal pour les d√©tails de commande\nconst OrderDetailsModal = ({ order, onClose, onStatusUpdate }) => {\n  const [isUpdatingStatus, setIsUpdatingStatus] = useState(false);\n  const [showStatusButtons, setShowStatusButtons] = useState(false);\n  \n  if (!order) return null;\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('fr-FR', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const downloadLogo = (logoData, filename) => {\n    try {\n      console.log('Tentative de t√©l√©chargement du logo:', {\n        type: logoData.startsWith('data:') ? 'Base64 avec pr√©fixe' : logoData.startsWith('http') ? 'URL' : 'Base64 pur',\n        length: logoData.length,\n        preview: logoData.substring(0, 50)\n      });\n\n      // Si c'est une URL, on la t√©l√©charge directement\n      if (logoData.startsWith('http')) {\n        const link = document.createElement('a');\n        link.href = logoData;\n        link.download = filename;\n        link.target = '_blank';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        return;\n      }\n\n      // Si c'est du base64 avec pr√©fixe data:, on le t√©l√©charge directement\n      if (logoData.startsWith('data:image/')) {\n        const link = document.createElement('a');\n        link.href = logoData;\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        return;\n      }\n\n      // Si c'est du base64 pur, on l'ajoute le pr√©fixe data:image\n      if (logoData.startsWith('/9j/') || logoData.startsWith('iVBORw0KGgo')) {\n        const mimeType = logoData.startsWith('/9j/') ? 'image/jpeg' : 'image/png';\n        const dataUrl = `data:${mimeType};base64,${logoData}`;\n        const link = document.createElement('a');\n        link.href = dataUrl;\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        return;\n      }\n\n      console.error('Format de logo non reconnu:', logoData.substring(0, 50));\n      alert('Format de logo non support√© pour le t√©l√©chargement');\n    } catch (error) {\n      console.error('Erreur lors du t√©l√©chargement du logo:', error);\n      alert('Erreur lors du t√©l√©chargement du logo: ' + error.message);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      'en_attente': '#ffc107',\n      'confirmee': '#17a2b8',\n      'en_preparation': '#fd7e14',\n      'expediee': '#6f42c1',\n      'livree': '#28a745',\n      'annulee': '#dc3545'\n    };\n    return colors[status] || '#6c757d';\n  };\n\n  const getStatusLabel = (status) => {\n    const labels = {\n      'en_attente': 'En attente',\n      'confirmee': 'Confirm√©e',\n      'en_preparation': 'En pr√©paration',\n      'expediee': 'Exp√©di√©e',\n      'livree': 'Livr√©e',\n      'annulee': 'Annul√©e'\n    };\n    return labels[status] || status;\n  };\n\n  const getStatusIcon = (status) => {\n    const icons = {\n      'en_attente': '‚è≥',\n      'confirmee': '‚úÖ',\n      'en_preparation': 'üîß',\n      'expediee': 'üöö',\n      'livree': 'üì¶',\n      'annulee': '‚ùå'\n    };\n    return icons[status] || '‚ùì';\n  };\n\n  const handleStatusUpdate = async (newStatus) => {\n    if (isUpdatingStatus) return;\n    \n    setIsUpdatingStatus(true);\n    try {\n      const response = await api.put(`/api/orders/${order._id}/statut`, {\n        statut: newStatus\n      });\n      \n      if (response.data) {\n        toast.success(`Statut mis √† jour: ${getStatusLabel(newStatus)}`);\n        if (onStatusUpdate) {\n          onStatusUpdate(response.data);\n        }\n        setShowStatusButtons(false);\n      }\n    } catch (error) {\n      console.error('Erreur lors de la mise √† jour du statut:', error);\n      toast.error('Erreur lors de la mise √† jour du statut');\n    } finally {\n      setIsUpdatingStatus(false);\n    }\n  };\n\n  const getAvailableStatuses = (currentStatus) => {\n    const allStatuses = [\n      { value: 'en_attente', label: 'En attente', icon: '‚è≥' },\n      { value: 'confirmee', label: 'Confirm√©e', icon: '‚úÖ' },\n      { value: 'en_preparation', label: 'En pr√©paration', icon: 'üîß' },\n      { value: 'expediee', label: 'Exp√©di√©e', icon: 'üöö' },\n      { value: 'livree', label: 'Livr√©e', icon: 'üì¶' },\n      { value: 'annulee', label: 'Annul√©e', icon: '‚ùå' }\n    ];\n    \n    // Retourner tous les statuts sauf le statut actuel\n    return allStatuses.filter(status => status.value !== currentStatus);\n  };\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          <h3>D√©tails de la commande #{order._id?.slice(-6)}</h3>\n          <button className=\"close-btn\" onClick={onClose}>√ó</button>\n        </div>\n\n        <div className=\"modal-body\">\n          {/* Informations g√©n√©rales */}\n          <div className=\"order-section\">\n            <h4>Informations g√©n√©rales</h4>\n            <div className=\"info-grid\">\n              <div>\n                <strong>Client:</strong> {order.utilisateur?.nom} {order.utilisateur?.prenom}\n              </div>\n              <div>\n                <strong>Email:</strong> {order.utilisateur?.email}\n              </div>\n              <div>\n                <strong>Date:</strong> {formatDate(order.dateCommande)}\n              </div>\n              <div>\n                <strong>Statut:</strong> \n                <div style={{ display: 'flex', alignItems: 'center', gap: '10px', marginTop: '5px' }}>\n                  <span \n                    style={{ \n                      color: getStatusColor(order.statut),\n                      fontWeight: 'bold',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '5px',\n                      padding: '4px 8px',\n                      backgroundColor: getStatusColor(order.statut) + '20',\n                      borderRadius: '4px',\n                      border: `1px solid ${getStatusColor(order.statut)}`\n                    }}\n                  >\n                    <span>{getStatusIcon(order.statut)}</span>\n                    {getStatusLabel(order.statut)}\n                  </span>\n                  <button\n                    onClick={() => setShowStatusButtons(!showStatusButtons)}\n                    disabled={isUpdatingStatus}\n                    style={{\n                      background: 'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',\n                      color: 'white',\n                      border: 'none',\n                      padding: '4px 8px',\n                      borderRadius: '4px',\n                      cursor: 'pointer',\n                      fontSize: '12px',\n                      fontWeight: '500',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '4px',\n                      opacity: isUpdatingStatus ? 0.6 : 1\n                    }}\n                  >\n                    <span>‚úèÔ∏è</span>\n                    Modifier\n                  </button>\n                </div>\n                \n                {/* Boutons de changement de statut */}\n                {showStatusButtons && (\n                  <div style={{ \n                    marginTop: '10px', \n                    padding: '10px', \n                    backgroundColor: '#f8f9fa', \n                    borderRadius: '6px',\n                    border: '1px solid #dee2e6'\n                  }}>\n                    <div style={{ \n                      fontSize: '12px', \n                      color: '#6c757d', \n                      marginBottom: '8px',\n                      fontWeight: '500'\n                    }}>\n                      Changer le statut vers:\n                    </div>\n                    <div style={{ \n                      display: 'flex', \n                      flexWrap: 'wrap', \n                      gap: '6px' \n                    }}>\n                      {getAvailableStatuses(order.statut).map(status => (\n                        <button\n                          key={status.value}\n                          onClick={() => handleStatusUpdate(status.value)}\n                          disabled={isUpdatingStatus}\n                          style={{\n                            background: 'linear-gradient(135deg, #28a745 0%, #20c997 100%)',\n                            color: 'white',\n                            border: 'none',\n                            padding: '6px 12px',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            fontSize: '11px',\n                            fontWeight: '500',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '4px',\n                            opacity: isUpdatingStatus ? 0.6 : 1,\n                            transition: 'all 0.2s ease'\n                          }}\n                          onMouseOver={(e) => {\n                            if (!isUpdatingStatus) {\n                              e.target.style.transform = 'translateY(-1px)';\n                              e.target.style.boxShadow = '0 2px 4px rgba(40, 167, 69, 0.3)';\n                            }\n                          }}\n                          onMouseOut={(e) => {\n                            e.target.style.transform = 'translateY(0)';\n                            e.target.style.boxShadow = 'none';\n                          }}\n                        >\n                          <span>{status.icon}</span>\n                          {status.label}\n                        </button>\n                      ))}\n                    </div>\n                    <button\n                      onClick={() => setShowStatusButtons(false)}\n                      style={{\n                        background: 'transparent',\n                        color: '#6c757d',\n                        border: '1px solid #dee2e6',\n                        padding: '4px 8px',\n                        borderRadius: '4px',\n                        cursor: 'pointer',\n                        fontSize: '11px',\n                        marginTop: '8px'\n                      }}\n                    >\n                      Annuler\n                    </button>\n                  </div>\n                )}\n              </div>\n              <div>\n                <strong>M√©thode de paiement:</strong> {order.methodePaiement}\n              </div>\n              {order.numeroSuivi && (\n                <div>\n                  <strong>Num√©ro de suivi:</strong> {order.numeroSuivi}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Articles */}\n          <div className=\"order-section\">\n            <h4>Articles command√©s</h4>\n            <div className=\"articles-list\">\n              {order.articles?.map((article, index) => (\n                <div key={index} className=\"article-item\">\n                  <div className=\"article-header\">\n                    <h5>\n                      {article.type === 'custom_hoodie' ? 'üé® ' : 'üì¶ '}\n                      {article.nom}\n                    </h5>\n                    <span className=\"article-price\">{article.prixTotal} TND</span>\n                  </div>\n                  \n                  <div className=\"article-details\">\n                    <div><strong>Quantit√©:</strong> {article.quantite}</div>\n                    <div><strong>Taille:</strong> {article.taille}</div>\n                    <div><strong>Couleur:</strong> {article.couleur}</div>\n                    <div><strong>Prix unitaire:</strong> {article.prixUnitaire} TND</div>\n                  </div>\n\n                  {/* D√©tails sp√©cifiques pour les hoodies personnalis√©s */}\n                  {article.type === 'custom_hoodie' && article.customData && (\n                    <div className=\"custom-hoodie-details\">\n                      <h6>üé® D√©tails de personnalisation:</h6>\n                      {console.log('=== DONN√âES RE√áUES DANS L\\'ADMIN ===', {\n                        logo: article.customData.logo ? article.customData.logo.substring(0, 100) + '...' : 'AUCUN LOGO',\n                        logoType: article.customData.logo ? (article.customData.logo.startsWith('data:') ? 'Base64 avec pr√©fixe' : article.customData.logo.startsWith('http') ? 'URL' : 'Base64 pur') : 'Aucun',\n                        logoSize: article.customData.logoSize,\n                        logoPosition: article.customData.logoPosition\n                      })}\n                      <div className=\"custom-details-grid\">\n                        <div>\n                          <strong>Couleur:</strong> \n                          <span \n                            style={{ \n                              display: 'inline-block',\n                              width: '20px',\n                              height: '20px',\n                              backgroundColor: article.customData.couleurCode,\n                              border: '1px solid #ccc',\n                              marginLeft: '8px',\n                              verticalAlign: 'middle'\n                            }}\n                            title={article.customData.couleurNom}\n                          ></span>\n                          <span style={{ marginLeft: '8px' }}>{article.customData.couleurNom}</span>\n                        </div>\n                        <div>\n                          <strong>Position du logo:</strong> {article.customData.logoPosition}\n                        </div>\n                        <div>\n                          <strong>Taille du logo:</strong> {article.customData.logoSize}px\n                        </div>\n                        {article.customData.logo && (\n                          <div>\n                            <strong>Logo:</strong>\n                            <div style={{ marginTop: '8px' }}>\n                              <div style={{ \n                                display: 'flex', \n                                alignItems: 'center', \n                                gap: '10px',\n                                flexWrap: 'wrap'\n                              }}>\n                                {/* V√©rifier si c'est une blob URL et l'afficher avec un message d'erreur */}\n                                {article.customData.logo.startsWith('blob:') ? (\n                                  <div style={{\n                                    width: '120px',\n                                    height: '120px',\n                                    border: '2px dashed #dc3545',\n                                    borderRadius: '8px',\n                                    backgroundColor: '#f8d7da',\n                                    color: '#721c24',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    flexDirection: 'column',\n                                    gap: '5px',\n                                    fontSize: '12px',\n                                    textAlign: 'center'\n                                  }}>\n                                    <span>‚ö†Ô∏è</span>\n                                    <span>Logo non disponible</span>\n                                    <span>(Blob URL expir√©e)</span>\n                                  </div>\n                                ) : (\n                                  <img \n                                    src={article.customData.logo} \n                                    alt=\"Logo personnalis√©\"\n                                    style={{\n                                      maxWidth: '120px',\n                                      maxHeight: '120px',\n                                      border: '2px solid #28a745',\n                                      borderRadius: '8px',\n                                      padding: '8px',\n                                      backgroundColor: 'white',\n                                      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                                      objectFit: 'contain'\n                                    }}\n                                    onError={(e) => {\n                                      e.target.style.display = 'none';\n                                      e.target.nextSibling.style.display = 'flex';\n                                    }}\n                                  />\n                                )}\n                                <div \n                                  style={{ \n                                    display: 'none',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    width: '120px',\n                                    height: '120px',\n                                    border: '2px dashed #28a745',\n                                    borderRadius: '8px',\n                                    backgroundColor: '#f8f9fa',\n                                    color: '#6c757d',\n                                    fontSize: '12px',\n                                    textAlign: 'center',\n                                    flexDirection: 'column',\n                                    gap: '5px'\n                                  }}\n                                >\n                                  <span>üñºÔ∏è</span>\n                                  <span>Logo non disponible</span>\n                                </div>\n                                <button\n                                  onClick={() => downloadLogo(article.customData.logo, `logo-${order._id.slice(-6)}.png`)}\n                                  style={{\n                                    background: 'linear-gradient(135deg, #28a745 0%, #20c997 100%)',\n                                    color: 'white',\n                                    border: 'none',\n                                    padding: '8px 16px',\n                                    borderRadius: '6px',\n                                    cursor: 'pointer',\n                                    fontSize: '12px',\n                                    fontWeight: '600',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    gap: '5px',\n                                    boxShadow: '0 2px 4px rgba(40, 167, 69, 0.3)',\n                                    transition: 'all 0.2s ease'\n                                  }}\n                                  onMouseOver={(e) => {\n                                    e.target.style.transform = 'translateY(-1px)';\n                                    e.target.style.boxShadow = '0 4px 8px rgba(40, 167, 69, 0.4)';\n                                  }}\n                                  onMouseOut={(e) => {\n                                    e.target.style.transform = 'translateY(0)';\n                                    e.target.style.boxShadow = '0 2px 4px rgba(40, 167, 69, 0.3)';\n                                  }}\n                                >\n                                  <span>‚¨áÔ∏è</span>\n                                  <span>T√©l√©charger</span>\n                                </button>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Totaux */}\n          <div className=\"order-section\">\n            <h4>R√©capitulatif</h4>\n            <div className=\"totals\">\n              <div className=\"total-line\">\n                <span>Sous-total:</span>\n                <span>{order.sousTotal} TND</span>\n              </div>\n              <div className=\"total-line\">\n                <span>Frais de livraison:</span>\n                <span>{order.fraisLivraison} TND</span>\n              </div>\n              {order.reduction > 0 && (\n                <div className=\"total-line\">\n                  <span>R√©duction:</span>\n                  <span>-{order.reduction} TND</span>\n                </div>\n              )}\n              <div className=\"total-line total-final\">\n                <span><strong>Total:</strong></span>\n                <span><strong>{order.total} TND</strong></span>\n              </div>\n            </div>\n          </div>\n\n          {/* Adresses */}\n          <div className=\"order-section\">\n            <h4>Adresse de livraison</h4>\n            <div className=\"address\">\n              {order.adresseLivraison?.nom} {order.adresseLivraison?.prenom}<br/>\n              {order.adresseLivraison?.rue}<br/>\n              {order.adresseLivraison?.codePostal} {order.adresseLivraison?.ville}<br/>\n              {order.adresseLivraison?.pays}<br/>\n              {order.adresseLivraison?.telephone && (\n                <>T√©l: {order.adresseLivraison.telephone}</>\n              )}\n            </div>\n          </div>\n\n          {/* Notes */}\n          {order.notes && (\n            <div className=\"order-section\">\n              <h4>Notes</h4>\n              <p className=\"notes\">{order.notes}</p>\n            </div>\n          )}\n        </div>\n\n        <div className=\"modal-footer\">\n          <button className=\"btn-secondary\" onClick={onClose}>\n            Fermer\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Composant EditProductForm\nconst EditProductForm = ({ product, onClose, onProductUpdated }) => {\n  const [formData, setFormData] = useState({\n    nom: product.nom || '',\n    description: product.description || '',\n    prix: product.prix || 0,\n    prixReduit: product.prixReduit || '',\n    categorie: product.categorie || '',\n    genre: product.genre || '',\n    marque: product.marque || '',\n    materiau: product.materiau || '',\n    entretien: product.entretien || '',\n    tailles: product.tailles ? product.tailles.map(taille => ({\n      nom: taille.nom || taille.taille || '',\n      stock: taille.stock || 0\n    })) : [],\n    couleurs: product.couleurs ? product.couleurs.map(couleur => ({\n      nom: couleur.nom || '',\n      code: couleur.code || ''\n    })) : []\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [forceUpdate, setForceUpdate] = useState(0);\n  const [localTailles, setLocalTailles] = useState([]);\n  const [renderKey, setRenderKey] = useState(0);\n  const [manualRender, setManualRender] = useState(0);\n\n  // Initialiser les tailles locales\n  useEffect(() => {\n    setLocalTailles(formData.tailles || []);\n  }, [product]);\n\n  // Effet pour surveiller les changements de tailles\n  useEffect(() => {\n    console.log('üîÑ Tailles mises √† jour:', formData.tailles);\n    console.log('üìä Nombre de tailles:', formData.tailles.length);\n    console.log('üîç D√©tails des tailles:', formData.tailles.map(t => `${t.nom}(${t.stock})`));\n    console.log('üè† Tailles locales:', localTailles);\n  }, [formData.tailles, forceUpdate, localTailles]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Effacer l'erreur pour ce champ\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleSizeChange = (index, field, value) => {\n    const newTailles = [...formData.tailles];\n    newTailles[index] = {\n      ...newTailles[index],\n      [field]: value\n    };\n    \n    setFormData(prev => ({\n      ...prev,\n      tailles: newTailles\n    }));\n    \n    // Synchroniser avec l'√©tat local\n    setLocalTailles(newTailles);\n  };\n\n  const addSize = () => {\n    console.log('Ajout d\\'une nouvelle taille...');\n    console.log('Tailles actuelles:', formData.tailles);\n    \n    setFormData(prev => {\n      const newTailles = [...prev.tailles, { nom: '', stock: 0 }];\n      console.log('Nouvelles tailles:', newTailles);\n      return {\n        ...prev,\n        tailles: newTailles\n      };\n    });\n  };\n\n  const addSizeFromSelect = (sizeName) => {\n    console.log('üöÄ D√âBUT - Solution ALTERNATIVE pour:', sizeName);\n    \n    // V√©rifier si la taille n'existe pas d√©j√†\n    const tailleExists = formData.tailles.some(taille => taille.nom === sizeName);\n    \n    if (tailleExists) {\n      toast.warning(`La taille ${sizeName} existe d√©j√†`);\n      return;\n    }\n    \n    const newTaille = { nom: sizeName, stock: 0 };\n    console.log('‚ûï Nouvelle taille:', JSON.stringify(newTaille));\n    \n    // APPROCHE ALTERNATIVE - Manipulation directe\n    const currentTailles = formData.tailles || [];\n    const newTailles = [...currentTailles, newTaille];\n    \n    console.log('üîÑ Nouvelles tailles:', JSON.stringify(newTailles));\n    \n    // MISE √Ä JOUR DIRECTE - Sans d√©pendance sur React\n    const updatedFormData = {\n      ...formData,\n      tailles: newTailles\n    };\n    \n    // Mettre √† jour tous les √©tats simultan√©ment\n    setFormData(updatedFormData);\n    setLocalTailles(newTailles);\n    \n    // FORCER LE RE-RENDU MULTIPLE\n    setManualRender(prev => prev + 1);\n    setRenderKey(prev => prev + 1);\n    setForceUpdate(prev => prev + 1);\n    \n    // MANIPULATION DOM DIRECTE (solution de secours)\n    setTimeout(() => {\n      const sizesContainer = document.querySelector('[data-sizes-container]');\n      if (sizesContainer) {\n        const currentCount = sizesContainer.querySelector('.sizes-count');\n        if (currentCount) {\n          currentCount.textContent = newTailles.length;\n        }\n        \n        // Ajouter la nouvelle taille au DOM si React ne le fait pas\n        const sizesList = sizesContainer.querySelector('.sizes-list');\n        if (sizesList && !sizesList.querySelector(`[data-size=\"${sizeName}\"]`)) {\n          const newSizeElement = document.createElement('div');\n          newSizeElement.className = 'size-color-item';\n          newSizeElement.setAttribute('data-size', sizeName);\n          newSizeElement.innerHTML = `\n            <span class=\"size-label\">${sizeName}</span>\n            <input type=\"number\" placeholder=\"Stock\" value=\"0\" min=\"0\" class=\"stock-input\">\n            <button type=\"button\" class=\"remove-btn\">√ó</button>\n          `;\n          sizesList.appendChild(newSizeElement);\n          console.log('üîß Taille ajout√©e manuellement au DOM:', sizeName);\n        }\n      }\n    }, 100);\n    \n    toast.success(`Taille ${sizeName} ajout√©e !`);\n    console.log('üèÅ FIN - Solution alternative termin√©e');\n  };\n\n  const removeSize = (index) => {\n    const newTailles = formData.tailles.filter((_, i) => i !== index);\n    \n    setFormData(prev => ({\n      ...prev,\n      tailles: newTailles\n    }));\n    \n    // Synchroniser avec l'√©tat local\n    setLocalTailles(newTailles);\n  };\n\n  const handleColorChange = (index, field, value) => {\n    const newCouleurs = [...formData.couleurs];\n    newCouleurs[index] = {\n      ...newCouleurs[index],\n      [field]: value\n    };\n    setFormData(prev => ({\n      ...prev,\n      couleurs: newCouleurs\n    }));\n  };\n\n  const addColor = () => {\n    setFormData(prev => ({\n      ...prev,\n      couleurs: [...prev.couleurs, { nom: '', code: '' }]\n    }));\n  };\n\n  const removeColor = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      couleurs: prev.couleurs.filter((_, i) => i !== index)\n    }));\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData.nom.trim()) newErrors.nom = 'Le nom est requis';\n    if (!formData.description.trim()) newErrors.description = 'La description est requise';\n    if (!formData.prix || formData.prix <= 0) newErrors.prix = 'Le prix doit √™tre positif';\n    if (!formData.categorie) newErrors.categorie = 'La cat√©gorie est requise';\n    if (!formData.marque.trim()) newErrors.marque = 'La marque est requise';\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setLoading(true);\n    \n    try {\n      // Pr√©parer les donn√©es pour l'API\n      const submitData = {\n        ...formData,\n        prix: parseFloat(formData.prix),\n        prixReduit: formData.prixReduit ? parseFloat(formData.prixReduit) : null\n      };\n\n      console.log('Mise √† jour du produit:', product._id, submitData);\n      \n      const response = await api.put(`/api/products/${product._id}`, submitData);\n      \n      if (response.status === 200) {\n        console.log('Produit mis √† jour avec succ√®s:', response.data);\n        onProductUpdated(response.data);\n      } else {\n        throw new Error('Erreur lors de la mise √† jour');\n      }\n    } catch (error) {\n      console.error('Erreur lors de la mise √† jour du produit:', error);\n      toast.error('Erreur lors de la mise √† jour du produit');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal-content large-modal\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          <h3>Modifier le produit</h3>\n          <button className=\"close-btn\" onClick={onClose}>\n            <FaTimes />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"product-form\">\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"nom\">Nom du produit *</label>\n              <input\n                type=\"text\"\n                id=\"nom\"\n                name=\"nom\"\n                value={formData.nom}\n                onChange={handleChange}\n                className={errors.nom ? 'error' : ''}\n                required\n              />\n              {errors.nom && <span className=\"error-message\">{errors.nom}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"marque\">Marque *</label>\n              <input\n                type=\"text\"\n                id=\"marque\"\n                name=\"marque\"\n                value={formData.marque}\n                onChange={handleChange}\n                className={errors.marque ? 'error' : ''}\n                required\n              />\n              {errors.marque && <span className=\"error-message\">{errors.marque}</span>}\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"prix\">Prix (TND) *</label>\n              <input\n                type=\"number\"\n                id=\"prix\"\n                name=\"prix\"\n                value={formData.prix}\n                onChange={handleChange}\n                min=\"0\"\n                step=\"0.01\"\n                className={errors.prix ? 'error' : ''}\n                required\n              />\n              {errors.prix && <span className=\"error-message\">{errors.prix}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"prixReduit\">Prix r√©duit (TND)</label>\n              <input\n                type=\"number\"\n                id=\"prixReduit\"\n                name=\"prixReduit\"\n                value={formData.prixReduit}\n                onChange={handleChange}\n                min=\"0\"\n                step=\"0.01\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"categorie\">Cat√©gorie *</label>\n              <select\n                id=\"categorie\"\n                name=\"categorie\"\n                value={formData.categorie}\n                onChange={handleChange}\n                className={errors.categorie ? 'error' : ''}\n                required\n              >\n                <option value=\"\">S√©lectionner une cat√©gorie</option>\n                <option value=\"hoodie\">Hoodie</option>\n                <option value=\"pull\">Pull</option>\n              </select>\n              {errors.categorie && <span className=\"error-message\">{errors.categorie}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"genre\">Genre *</label>\n              <select\n                id=\"genre\"\n                name=\"genre\"\n                value={formData.genre}\n                onChange={handleChange}\n                className={errors.genre ? 'error' : ''}\n                required\n              >\n                <option value=\"\">S√©lectionner un genre</option>\n                <option value=\"homme\">üë® Homme</option>\n                <option value=\"femme\">üë© Femme</option>\n                <option value=\"enfant\">üë∂ Enfant</option>\n                <option value=\"sport\">üèÉ Sport</option>\n              </select>\n              {errors.genre && <span className=\"error-message\">{errors.genre}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"materiau\">Mati√®re</label>\n              <input\n                type=\"text\"\n                id=\"materiau\"\n                name=\"materiau\"\n                value={formData.materiau}\n                onChange={handleChange}\n                placeholder=\"Ex: Coton, Polyester...\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description *</label>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              rows=\"4\"\n              className={errors.description ? 'error' : ''}\n              required\n            />\n            {errors.description && <span className=\"error-message\">{errors.description}</span>}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"entretien\">Instructions d'entretien</label>\n            <input\n              type=\"text\"\n              id=\"entretien\"\n              name=\"entretien\"\n              value={formData.entretien}\n              onChange={handleChange}\n              placeholder=\"Ex: Lavage machine 30¬∞C...\"\n            />\n          </div>\n\n          {/* Gestion des tailles */}\n          <div \n            className=\"form-group\" \n            key={`sizes-container-${renderKey}-${manualRender}`}\n            data-sizes-container\n          >\n            <label>Tailles disponibles (<span className=\"sizes-count\">{localTailles.length}</span>)</label>\n            \n            {/* Liste des tailles actuelles */}\n            <div \n              key={`sizes-list-${renderKey}-${forceUpdate}-${manualRender}`}\n              className=\"sizes-list\"\n            >\n              {localTailles.map((taille, index) => (\n                <div \n                  key={`taille-${index}-${taille.nom || 'new'}-${renderKey}-${forceUpdate}-${manualRender}-${Date.now()}`} \n                  className=\"size-color-item\"\n                  data-size={taille.nom}\n                >\n                  <span className=\"size-label\">{taille.nom || 'Nouvelle taille'}</span>\n                  <input\n                    type=\"number\"\n                    placeholder=\"Stock\"\n                    value={taille.stock || 0}\n                    onChange={(e) => handleSizeChange(index, 'stock', parseInt(e.target.value) || 0)}\n                    min=\"0\"\n                    className=\"stock-input\"\n                  />\n                  <button type=\"button\" onClick={() => removeSize(index)} className=\"remove-btn\">\n                    <FaTimes />\n                  </button>\n                </div>\n              ))}\n            </div>\n            \n            {/* S√©lecteur de nouvelles tailles */}\n            <div className=\"size-selector\">\n              <label>Ajouter une taille :</label>\n              <select \n                id=\"newSizeSelect\" \n                className=\"size-select\"\n                onChange={(e) => {\n                  if (e.target.value) {\n                    addSizeFromSelect(e.target.value);\n                    e.target.value = ''; // Reset le select\n                  }\n                }}\n              >\n                <option value=\"\">Choisir une taille...</option>\n                <option value=\"XXS\">XXS</option>\n                <option value=\"XS\">XS</option>\n                <option value=\"S\">S</option>\n                <option value=\"M\">M</option>\n                <option value=\"L\">L</option>\n                <option value=\"XL\">XL</option>\n                <option value=\"XXL\">XXL</option>\n                <option value=\"XXXL\">XXXL</option>\n                <option value=\"28\">28</option>\n                <option value=\"30\">30</option>\n                <option value=\"32\">32</option>\n                <option value=\"34\">34</option>\n                <option value=\"36\">36</option>\n                <option value=\"38\">38</option>\n                <option value=\"40\">40</option>\n                <option value=\"42\">42</option>\n                <option value=\"44\">44</option>\n                <option value=\"46\">46</option>\n                <option value=\"48\">48</option>\n                <option value=\"50\">50</option>\n                <option value=\"52\">52</option>\n              </select>\n              \n              {/* Bouton de d√©bogage */}\n              <button \n                type=\"button\" \n                onClick={() => {\n                  console.log('üîç √âTAT ACTUEL DES TAILLES:');\n                  console.log('üìã formData.tailles:', JSON.stringify(formData.tailles));\n                  console.log('üè† localTailles:', JSON.stringify(localTailles));\n                  console.log('üîë renderKey:', renderKey);\n                  console.log('üîÑ forceUpdate:', forceUpdate);\n                  toast.info('√âtat des tailles affich√© dans la console');\n                }}\n                className=\"debug-btn\"\n                style={{\n                  marginTop: '10px',\n                  padding: '5px 10px',\n                  backgroundColor: '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  fontSize: '12px',\n                  cursor: 'pointer'\n                }}\n              >\n                üîç Debug Tailles\n              </button>\n            </div>\n          </div>\n\n          {/* Gestion des couleurs */}\n          <div className=\"form-group\">\n            <label>Couleurs disponibles</label>\n            {formData.couleurs.map((couleur, index) => (\n              <div key={index} className=\"size-color-item\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Nom de la couleur\"\n                  value={couleur.nom}\n                  onChange={(e) => handleColorChange(index, 'nom', e.target.value)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"Code couleur (ex: #000000)\"\n                  value={couleur.code}\n                  onChange={(e) => handleColorChange(index, 'code', e.target.value)}\n                />\n                <button type=\"button\" onClick={() => removeColor(index)} className=\"remove-btn\">\n                  <FaTimes />\n                </button>\n              </div>\n            ))}\n            <button type=\"button\" onClick={addColor} className=\"add-btn\">\n              <FaPlus /> Ajouter une couleur\n            </button>\n          </div>\n\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn-secondary\" onClick={onClose}>\n              Annuler\n            </button>\n            <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n              {loading ? 'Modification...' : 'Modifier le produit'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// Modal des d√©tails utilisateur\nconst UserDetailsModal = ({ user, onClose }) => {\n  const [, forceUpdate] = useState({});\n  const [userStats, setUserStats] = useState({\n    nombreCommandes: 0,\n    totalDepense: 0,\n    loading: true\n  });\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('fr-FR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getInitials = (nom, prenom) => {\n    return `${nom?.charAt(0) || ''}${prenom?.charAt(0) || ''}`.toUpperCase();\n  };\n\n  const getStatusColor = (user) => {\n    return isUserActive(user) ? '#10b981' : '#ef4444';\n  };\n\n  const getStatusText = (user) => {\n    return isUserActive(user) ? 'Actif' : 'Inactif';\n  };\n\n  const isUserActive = (user) => {\n    // Si l'utilisateur n'a jamais de derni√®re connexion, il est inactif\n    if (!user.lastLogin) {\n      return false;\n    }\n\n    // Calculer la diff√©rence en minutes entre maintenant et la derni√®re connexion\n    const now = new Date();\n    const lastLogin = new Date(user.lastLogin);\n    const diffInMinutes = (now - lastLogin) / (1000 * 60);\n\n    // Consid√©rer l'utilisateur comme actif s'il s'est connect√© dans les derni√®res 30 minutes\n    return diffInMinutes <= 30;\n  };\n\n  // Fonction pour r√©cup√©rer les statistiques de l'utilisateur\n  const fetchUserStats = async () => {\n    try {\n      setUserStats(prev => ({ ...prev, loading: true }));\n      \n      const response = await api.get(`/api/users/admin/${user._id}/stats`);\n      \n      setUserStats({\n        nombreCommandes: response.data.statistiques.nombreCommandes,\n        totalDepense: response.data.statistiques.totalDepense,\n        loading: false\n      });\n    } catch (error) {\n      console.error('Erreur lors du chargement des statistiques utilisateur:', error);\n      setUserStats(prev => ({ ...prev, loading: false }));\n    }\n  };\n\n  // Charger les statistiques au montage du composant\n  useEffect(() => {\n    if (user && user._id) {\n      fetchUserStats();\n    }\n  }, [user]);\n\n  // Mettre √† jour le statut toutes les minutes pour refl√©ter les changements en temps r√©el\n  useEffect(() => {\n    const interval = setInterval(() => {\n      forceUpdate({});\n    }, 60000); // Mise √† jour toutes les minutes\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"modal-overlay user-details-overlay\">\n      <div className=\"modal-content user-details-modal-modern\">\n        <div className=\"modal-header-modern\">\n          <div className=\"header-content\">\n            <div className=\"user-avatar-large\">\n              <div className=\"avatar-circle-large\">\n                {getInitials(user.nom, user.prenom)}\n              </div>\n              <div \n                className=\"status-indicator-large\"\n                style={{ backgroundColor: getStatusColor(user) }}\n              ></div>\n            </div>\n            <div className=\"header-info\">\n              <h3>{user.nom} {user.prenom}</h3>\n              <p className=\"user-email-header\">{user.email}</p>\n              <div className=\"header-badges\">\n                <span className={`role-badge-modern ${user.role}`}>\n                  {user.role === 'admin' ? 'Administrateur' : 'Client'}\n                </span>\n                <span \n                  className=\"status-badge-modern\"\n                  style={{ backgroundColor: getStatusColor(user) }}\n                >\n                  {getStatusText(user)}\n                </span>\n              </div>\n            </div>\n          </div>\n          <button \n            className=\"close-btn-modern\"\n            onClick={onClose}\n          >\n            <FaTimes />\n          </button>\n        </div>\n        \n        <div className=\"user-details-modern\">\n          <div className=\"details-grid\">\n            <div className=\"detail-section\">\n              <div className=\"section-header\">\n                <div className=\"section-icon\">\n                  <FaUser />\n                </div>\n                <h4>Informations personnelles</h4>\n              </div>\n              <div className=\"info-cards\">\n                <div className=\"info-card\">\n                  <div className=\"info-label\">Nom complet</div>\n                  <div className=\"info-value\">{user.nom} {user.prenom}</div>\n                </div>\n                <div className=\"info-card\">\n                  <div className=\"info-label\">Email</div>\n                  <div className=\"info-value\">{user.email}</div>\n                </div>\n                <div className=\"info-card\">\n                  <div className=\"info-label\">Date de cr√©ation</div>\n                  <div className=\"info-value\">{formatDate(user.createdAt)}</div>\n                </div>\n                <div className=\"info-card\">\n                  <div className=\"info-label\">Derni√®re connexion</div>\n                  <div className=\"info-value\">{formatDate(user.lastLogin)}</div>\n                </div>\n              </div>\n            </div>\n\n            {user.adresse && (\n              <div className=\"detail-section\">\n                <div className=\"section-header\">\n                  <div className=\"section-icon\">\n                    <FaMapMarkerAlt />\n                  </div>\n                  <h4>Adresse</h4>\n                </div>\n                <div className=\"address-card\">\n                  <div className=\"address-line\">\n                    <FaHome className=\"address-icon\" />\n                    <span>{user.adresse.rue || 'N/A'}</span>\n                  </div>\n                  <div className=\"address-line\">\n                    <FaCity className=\"address-icon\" />\n                    <span>{user.adresse.ville || 'N/A'}</span>\n                  </div>\n                  <div className=\"address-line\">\n                    <FaMailBulk className=\"address-icon\" />\n                    <span>{user.adresse.codePostal || 'N/A'}</span>\n                  </div>\n                  <div className=\"address-line\">\n                    <FaGlobe className=\"address-icon\" />\n                    <span>{user.adresse.pays || 'N/A'}</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div className=\"detail-section\">\n              <div className=\"section-header\">\n                <div className=\"section-icon\">\n                  <FaChartBar />\n                </div>\n                <h4>Statistiques</h4>\n              </div>\n              <div className=\"stats-cards\">\n                <div className=\"stat-card-modern\">\n                  <div className=\"stat-icon\">\n                    <FaShoppingCart />\n                  </div>\n                  <div className=\"stat-content\">\n                    <div className=\"stat-number\">\n                      {userStats.loading ? (\n                        <span style={{ fontSize: '0.8em', color: '#666' }}>Chargement...</span>\n                      ) : (\n                        userStats.nombreCommandes\n                      )}\n                    </div>\n                    <div className=\"stat-label\">Commandes</div>\n                  </div>\n                </div>\n                <div className=\"stat-card-modern\">\n                  <div className=\"stat-icon\">\n                    <FaMoneyBillWave />\n                  </div>\n                  <div className=\"stat-content\">\n                    <div className=\"stat-number\">\n                      {userStats.loading ? (\n                        <span style={{ fontSize: '0.8em', color: '#666' }}>Chargement...</span>\n                      ) : (\n                        `${userStats.totalDepense} TND`\n                      )}\n                    </div>\n                    <div className=\"stat-label\">Total d√©pens√©</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"modal-actions-modern\">\n          <button \n            className=\"btn-close-modern\"\n            onClick={onClose}\n          >\n            <FaTimes />\n            Fermer\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Admin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}