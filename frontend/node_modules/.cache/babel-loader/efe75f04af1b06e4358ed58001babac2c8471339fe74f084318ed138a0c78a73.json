{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import{FaSearch,FaFilter,FaSort,FaHeart,FaShoppingCart,FaPalette,FaArrowLeft}from'react-icons/fa';import{toast}from'react-toastify';import{useCart}from'../contexts/CartContext';import{useAuth}from'../contexts/AuthContext';import{formatBrand,debugObjects}from'../utils/formatUtils';import DebugWrapper from'../components/DebugWrapper';import SimpleHoodieDesigner from'../components/SimpleHoodieDesigner';import api from'../config/axios';import'../styles/Products.css';// Composant carte produit (réutilisé de Products.js)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductCard=_ref=>{var _product$images$,_product$images$2;let{product,onAddToCart,onCustomize}=_ref;// Débogage des données du produit\nuseEffect(()=>{debugObjects(product,'ProductCard - product');if(product!==null&&product!==void 0&&product.marque){debugObjects(product.marque,'ProductCard - product.marque');}},[product]);const handleCardClick=()=>{// Navigation vers la page de détail du produit\nwindow.location.href=\"/product/\".concat(product._id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",onClick:handleCardClick,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image\",children:[product!==null&&product!==void 0&&product.images&&product.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:((_product$images$=product.images[0])===null||_product$images$===void 0?void 0:_product$images$.url)||product.images[0],alt:((_product$images$2=product.images[0])===null||_product$images$2===void 0?void 0:_product$images$2.alt)||product.nom,onError:e=>{e.target.src='/hoodie-base.jpg';}}):/*#__PURE__*/_jsx(\"img\",{src:\"/hoodie-base.jpg\",alt:\"Image par d\\xE9faut\",className:\"default-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn favorite\",title:\"Ajouter aux favoris\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(FaHeart,{})}),(product===null||product===void 0?void 0:product.estPersonnalise)&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn customize\",onClick:e=>{e.stopPropagation();onCustomize(product);},title:\"Personnaliser\",children:/*#__PURE__*/_jsx(FaPalette,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-name\",children:(product===null||product===void 0?void 0:product.nom)||'Produit sans nom'}),/*#__PURE__*/_jsx(\"p\",{className:\"product-brand\",children:formatBrand(product===null||product===void 0?void 0:product.marque)}),/*#__PURE__*/_jsx(\"div\",{className:\"product-price\",children:product!==null&&product!==void 0&&product.prixReduit&&product.prixReduit<product.prix?/*#__PURE__*/_jsxs(\"div\",{className:\"price-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"original-price\",children:[product.prix,\" TND\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"sale-price\",children:[product.prixReduit,\" TND\"]})]}):/*#__PURE__*/_jsxs(\"span\",{className:\"price\",children:[(product===null||product===void 0?void 0:product.prix)||0,\" TND\"]})})]})]});};const GenderPage=()=>{const{genre}=useParams();const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[sortBy,setSortBy]=useState('dateAjout');const[searchTerm,setSearchTerm]=useState('');const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[showCustomizer,setShowCustomizer]=useState(false);const[selectedProduct,setSelectedProduct]=useState(null);const{addToCart}=useCart();const{user,isAuthenticated}=useAuth();// Configuration des genres\nconst genreConfig={femme:{title:'👩 Collection Femme',description:'Découvrez notre collection exclusive pour femme',emoji:'👩',color:'#FF6B9D'},homme:{title:'👨 Collection Homme',description:'Style et confort pour l\\'homme moderne',emoji:'👨',color:'#4A90E2'},enfant:{title:'👶 Collection Enfant',description:'Vêtements tendance pour les petits',emoji:'👶',color:'#7ED321'},sport:{title:'🏃‍♂️ COLLECTION SPORT',description:'Performance • Style • Innovation - Vêtements techniques pour athlètes',emoji:'🏃‍♂️',color:'#EF4444',gradient:'linear-gradient(135deg, #000000 0%, #EF4444 50%, #EC4899 100%)',bgPattern:'sport'}};const currentGenre=genreConfig[genre]||genreConfig.femme;useEffect(()=>{fetchProducts();},[genre,sortBy,searchTerm,currentPage]);const fetchProducts=async()=>{try{setLoading(true);const params={page:currentPage,limit:12,tri:sortBy,genre:genre};if(searchTerm)params.recherche=searchTerm;const response=await api.get('/products',{params,timeout:5000});const data=response.data;const produits=data.produits||[];// Filtrer les produits pour ne garder que ceux qui sont disponibles\nconst produitsDisponibles=produits.filter(product=>{if(product.tailles&&Array.isArray(product.tailles)){return product.tailles.some(taille=>taille.stock>0);}return true;// Si pas de tailles définies, on garde le produit\n});setProducts(produitsDisponibles);setTotalPages(Math.ceil((data.total||0)/12));}catch(error){console.error('Erreur lors du chargement des produits:',error);toast.error('Erreur lors du chargement des produits');setProducts([]);}finally{setLoading(false);}};const handleSortChange=value=>{setSortBy(value);setCurrentPage(1);};const handleSearch=e=>{e.preventDefault();setCurrentPage(1);fetchProducts();};const handleAddToCart=async(product,selectedSize,selectedColor)=>{console.log('handleAddToCart appelé avec:',{product:product===null||product===void 0?void 0:product.nom,selectedSize,selectedColor});try{const result=await addToCart(product._id,1,selectedSize,selectedColor);if(result.success){toast.success(\"\".concat(product.nom,\" ajout\\xE9 au panier !\"));}}catch(error){console.error('Erreur lors de l\\'ajout au panier:',error);toast.error('Erreur lors de l\\'ajout au panier');}};const handleCustomize=product=>{setSelectedProduct(product);setShowCustomizer(true);};const handlePageChange=page=>{setCurrentPage(page);window.scrollTo({top:0,behavior:'smooth'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"products-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement des produits...\"})]})});}return/*#__PURE__*/_jsxs(DebugWrapper,{name:\"GenderPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-page \".concat(genre==='sport'?'sport-page':''),children:[genre==='sport'?/*#__PURE__*/_jsxs(\"div\",{className:\"sport-hero-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sport-hero-bg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sport-pattern\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sport-gradient\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sport-hero-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sport-title-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"sport-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sport-emoji\",children:currentGenre.emoji}),/*#__PURE__*/_jsx(\"span\",{className:\"sport-text\",children:currentGenre.title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sport-subtitle\",children:/*#__PURE__*/_jsx(\"p\",{children:currentGenre.description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sport-features\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sport-feature\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sport-feature-icon\",children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Performance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sport-feature\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sport-feature-icon\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pr\\xE9cision\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sport-feature\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sport-feature-icon\",children:\"\\uD83D\\uDCAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Endurance\"})]})]})]})})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"back-to-home-link\",children:[/*#__PURE__*/_jsx(FaArrowLeft,{}),\"Retour \\xE0 l'accueil\"]}),/*#__PURE__*/_jsx(\"h1\",{children:currentGenre.title}),/*#__PURE__*/_jsx(\"p\",{children:currentGenre.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filters-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Filtres\"})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,className:\"search-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-input\",children:[/*#__PURE__*/_jsx(FaSearch,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rechercher dans cette collection...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Genre\"}),/*#__PURE__*/_jsx(\"select\",{value:genre,disabled:true,children:/*#__PURE__*/_jsxs(\"option\",{value:genre,children:[currentGenre.emoji,\" \",currentGenre.title.split(' ')[1]]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Cat\\xE9gorie\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les cat\\xE9gories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hoodie\",children:\"Hoodie\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pull\",children:\"Pull\"}),genre==='sport'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"training\",children:\"Training\"}),/*#__PURE__*/_jsx(\"option\",{value:\"running\",children:\"Running\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fitness\",children:\"Fitness\"}),/*#__PURE__*/_jsx(\"option\",{value:\"outdoor\",children:\"Outdoor\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Marque\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les marques\"}),/*#__PURE__*/_jsx(\"option\",{value:\"AYNEXT\",children:\"AYNEXT\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Prix\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-inputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Min\"}),/*#__PURE__*/_jsx(\"span\",{children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Max\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Taille\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les tailles\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XS\",children:\"XS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"S\",children:\"S\"}),/*#__PURE__*/_jsx(\"option\",{value:\"M\",children:\"M\"}),/*#__PURE__*/_jsx(\"option\",{value:\"L\",children:\"L\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XL\",children:\"XL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XXL\",children:\"XXL\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Couleur\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les couleurs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"noir\",children:\"Noir\"}),/*#__PURE__*/_jsx(\"option\",{value:\"blanc\",children:\"Blanc\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rouge\",children:\"Rouge\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bleu\",children:\"Bleu\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vert\",children:\"Vert\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jaune\",children:\"Jaune\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rose\",children:\"Rose\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gris\",children:\"Gris\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-toolbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sort-controls\",children:[/*#__PURE__*/_jsx(FaSort,{}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>handleSortChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Nom A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"-name\",children:\"Nom Z-A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"prix\",children:\"Prix croissant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"-prix\",children:\"Prix d\\xE9croissant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"createdAt\",children:\"Plus r\\xE9cents\"}),/*#__PURE__*/_jsx(\"option\",{value:\"-createdAt\",children:\"Plus anciens\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-info\",children:[(products===null||products===void 0?void 0:products.length)||0,\" produit(s) disponible(s)\",/*#__PURE__*/_jsx(\"small\",{style:{display:'block',color:'#666',fontSize:'0.9em'},children:\"Seuls les produits en stock sont affich\\xE9s\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:products.length>0?products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,onAddToCart:handleAddToCart,onCustomize:handleCustomize},product._id)):/*#__PURE__*/_jsx(\"div\",{className:\"no-products\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"no-products-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Aucun produit trouv\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Il n'y a actuellement aucun produit dans cette collection.\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back-to-home-btn\",children:\"Retour \\xE0 l'accueil\"})]})})}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(currentPage-1),disabled:currentPage===1,className:\"pagination-btn\",children:\"Pr\\xE9c\\xE9dent\"}),Array.from({length:totalPages},(_,i)=>i+1).map(page=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(page),className:\"pagination-btn \".concat(currentPage===page?'active':''),children:page},page)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(currentPage+1),disabled:currentPage===totalPages,className:\"pagination-btn\",children:\"Suivant\"})]})]})]})]}),showCustomizer&&selectedProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"customizer-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"customizer-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-customizer\",onClick:()=>setShowCustomizer(false),children:\"\\xD7\"}),/*#__PURE__*/_jsx(SimpleHoodieDesigner,{product:selectedProduct,onClose:()=>setShowCustomizer(false)})]})})]});};export default GenderPage;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","FaSearch","FaFilter","FaSort","FaHeart","FaShoppingCart","FaPalette","FaArrowLeft","toast","useCart","useAuth","formatBrand","debugObjects","DebugWrapper","SimpleHoodieDesigner","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductCard","_ref","_product$images$","_product$images$2","product","onAddToCart","onCustomize","marque","handleCardClick","window","location","href","concat","_id","className","onClick","children","images","length","src","url","alt","nom","onError","e","target","title","stopPropagation","estPersonnalise","prixReduit","prix","GenderPage","genre","products","setProducts","loading","setLoading","sortBy","setSortBy","searchTerm","setSearchTerm","currentPage","setCurrentPage","totalPages","setTotalPages","showCustomizer","setShowCustomizer","selectedProduct","setSelectedProduct","addToCart","user","isAuthenticated","genreConfig","femme","description","emoji","color","homme","enfant","sport","gradient","bgPattern","currentGenre","fetchProducts","params","page","limit","tri","recherche","response","get","timeout","data","produits","produitsDisponibles","filter","tailles","Array","isArray","some","taille","stock","Math","ceil","total","error","console","handleSortChange","value","handleSearch","preventDefault","handleAddToCart","selectedSize","selectedColor","log","result","success","handleCustomize","handlePageChange","scrollTo","top","behavior","name","to","onSubmit","type","placeholder","onChange","disabled","split","style","display","fontSize","map","from","_","i","onClose"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/frontend-vercel/src/pages/GenderPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { FaSearch, FaFilter, FaSort, FaHeart, FaShoppingCart, FaPalette, FaArrowLeft } from 'react-icons/fa';\r\nimport { toast } from 'react-toastify';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { formatBrand, debugObjects } from '../utils/formatUtils';\r\nimport DebugWrapper from '../components/DebugWrapper';\r\nimport SimpleHoodieDesigner from '../components/SimpleHoodieDesigner';\r\nimport api from '../config/axios';\r\nimport '../styles/Products.css';\r\n\r\n// Composant carte produit (réutilisé de Products.js)\r\nconst ProductCard = ({ product, onAddToCart, onCustomize }) => {\r\n  // Débogage des données du produit\r\n  useEffect(() => {\r\n    debugObjects(product, 'ProductCard - product');\r\n    if (product?.marque) {\r\n      debugObjects(product.marque, 'ProductCard - product.marque');\r\n    }\r\n  }, [product]);\r\n\r\n  const handleCardClick = () => {\r\n    // Navigation vers la page de détail du produit\r\n    window.location.href = `/product/${product._id}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-card\" onClick={handleCardClick}>\r\n      <div className=\"product-image\">\r\n        {product?.images && product.images.length > 0 ? (\r\n          <img \r\n            src={product.images[0]?.url || product.images[0]} \r\n            alt={product.images[0]?.alt || product.nom}\r\n            onError={(e) => {\r\n              e.target.src = '/hoodie-base.jpg';\r\n            }}\r\n          />\r\n        ) : (\r\n          <img \r\n            src=\"/hoodie-base.jpg\" \r\n            alt=\"Image par défaut\"\r\n            className=\"default-image\"\r\n          />\r\n        )}\r\n        <div className=\"product-actions\">\r\n          <button \r\n            className=\"action-btn favorite\"\r\n            title=\"Ajouter aux favoris\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <FaHeart />\r\n          </button>\r\n          {product?.estPersonnalise && (\r\n            <button \r\n              className=\"action-btn customize\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                onCustomize(product);\r\n              }}\r\n              title=\"Personnaliser\"\r\n            >\r\n              <FaPalette />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"product-info\">\r\n        <h3 className=\"product-name\">{product?.nom || 'Produit sans nom'}</h3>\r\n        <p className=\"product-brand\">{formatBrand(product?.marque)}</p>\r\n        \r\n        <div className=\"product-price\">\r\n          {product?.prixReduit && product.prixReduit < product.prix ? (\r\n            <div className=\"price-container\">\r\n              <span className=\"original-price\">{product.prix} TND</span>\r\n              <span className=\"sale-price\">{product.prixReduit} TND</span>\r\n            </div>\r\n          ) : (\r\n            <span className=\"price\">{product?.prix || 0} TND</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nconst GenderPage = () => {\r\n  const { genre } = useParams();\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [sortBy, setSortBy] = useState('dateAjout');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [showCustomizer, setShowCustomizer] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n\r\n  const { addToCart } = useCart();\r\n  const { user, isAuthenticated } = useAuth();\r\n\r\n  // Configuration des genres\r\n  const genreConfig = {\r\n    femme: {\r\n      title: '👩 Collection Femme',\r\n      description: 'Découvrez notre collection exclusive pour femme',\r\n      emoji: '👩',\r\n      color: '#FF6B9D'\r\n    },\r\n    homme: {\r\n      title: '👨 Collection Homme',\r\n      description: 'Style et confort pour l\\'homme moderne',\r\n      emoji: '👨',\r\n      color: '#4A90E2'\r\n    },\r\n    enfant: {\r\n      title: '👶 Collection Enfant',\r\n      description: 'Vêtements tendance pour les petits',\r\n      emoji: '👶',\r\n      color: '#7ED321'\r\n    },\r\n    sport: {\r\n      title: '🏃‍♂️ COLLECTION SPORT',\r\n      description: 'Performance • Style • Innovation - Vêtements techniques pour athlètes',\r\n      emoji: '🏃‍♂️',\r\n      color: '#EF4444',\r\n      gradient: 'linear-gradient(135deg, #000000 0%, #EF4444 50%, #EC4899 100%)',\r\n      bgPattern: 'sport'\r\n    }\r\n  };\r\n\r\n  const currentGenre = genreConfig[genre] || genreConfig.femme;\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, [genre, sortBy, searchTerm, currentPage]);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        page: currentPage,\r\n        limit: 12,\r\n        tri: sortBy,\r\n        genre: genre\r\n      };\r\n      \r\n      if (searchTerm) params.recherche = searchTerm;\r\n\r\n      const response = await api.get('/products', { \r\n        params,\r\n        timeout: 5000\r\n      });\r\n      \r\n      const data = response.data;\r\n      const produits = data.produits || [];\r\n      \r\n      // Filtrer les produits pour ne garder que ceux qui sont disponibles\r\n      const produitsDisponibles = produits.filter(product => {\r\n        if (product.tailles && Array.isArray(product.tailles)) {\r\n          return product.tailles.some(taille => taille.stock > 0);\r\n        }\r\n        return true; // Si pas de tailles définies, on garde le produit\r\n      });\r\n      \r\n      setProducts(produitsDisponibles);\r\n      setTotalPages(Math.ceil((data.total || 0) / 12));\r\n      \r\n    } catch (error) {\r\n      console.error('Erreur lors du chargement des produits:', error);\r\n      toast.error('Erreur lors du chargement des produits');\r\n      setProducts([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSortChange = (value) => {\r\n    setSortBy(value);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    setCurrentPage(1);\r\n    fetchProducts();\r\n  };\r\n\r\n  const handleAddToCart = async (product, selectedSize, selectedColor) => {\r\n    console.log('handleAddToCart appelé avec:', { \r\n      product: product?.nom,\r\n      selectedSize,\r\n      selectedColor\r\n    });\r\n    \r\n    try {\r\n      const result = await addToCart(product._id, 1, selectedSize, selectedColor);\r\n      if (result.success) {\r\n        toast.success(`${product.nom} ajouté au panier !`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur lors de l\\'ajout au panier:', error);\r\n      toast.error('Erreur lors de l\\'ajout au panier');\r\n    }\r\n  };\r\n\r\n  const handleCustomize = (product) => {\r\n    setSelectedProduct(product);\r\n    setShowCustomizer(true);\r\n  };\r\n\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"products-page\">\r\n        <div className=\"loading-container\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Chargement des produits...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DebugWrapper name=\"GenderPage\">\r\n      <div className={`products-page ${genre === 'sport' ? 'sport-page' : ''}`}>\r\n        {/* Header spécial pour la collection sport */}\r\n        {genre === 'sport' ? (\r\n          <div className=\"sport-hero-section\">\r\n            <div className=\"sport-hero-bg\">\r\n              <div className=\"sport-pattern\"></div>\r\n              <div className=\"sport-gradient\"></div>\r\n            </div>\r\n            <div className=\"container\">\r\n              <div className=\"sport-hero-content\">\r\n                <div className=\"sport-title-container\">\r\n                  <h1 className=\"sport-title\">\r\n                    <span className=\"sport-emoji\">{currentGenre.emoji}</span>\r\n                    <span className=\"sport-text\">{currentGenre.title}</span>\r\n                  </h1>\r\n                  <div className=\"sport-subtitle\">\r\n                    <p>{currentGenre.description}</p>\r\n                  </div>\r\n                  <div className=\"sport-features\">\r\n                    <div className=\"sport-feature\">\r\n                      <span className=\"sport-feature-icon\">⚡</span>\r\n                      <span>Performance</span>\r\n                    </div>\r\n                    <div className=\"sport-feature\">\r\n                      <span className=\"sport-feature-icon\">🎯</span>\r\n                      <span>Précision</span>\r\n                    </div>\r\n                    <div className=\"sport-feature\">\r\n                      <span className=\"sport-feature-icon\">💪</span>\r\n                      <span>Endurance</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"products-header\">\r\n            <Link to=\"/\" className=\"back-to-home-link\">\r\n              <FaArrowLeft />\r\n              Retour à l'accueil\r\n            </Link>\r\n            <h1>{currentGenre.title}</h1>\r\n            <p>{currentGenre.description}</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"products-container\">\r\n          {/* Filtres et recherche */}\r\n          <div className=\"filters-sidebar\">\r\n            <div className=\"filters-header\">\r\n              <h3>Filtres</h3>\r\n            </div>\r\n\r\n            <form onSubmit={handleSearch} className=\"search-form\">\r\n              <div className=\"search-input\">\r\n                <FaSearch />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Rechercher dans cette collection...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </div>\r\n            </form>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4>Genre</h4>\r\n              <select value={genre} disabled>\r\n                <option value={genre}>{currentGenre.emoji} {currentGenre.title.split(' ')[1]}</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4>Catégorie</h4>\r\n              <select>\r\n                <option value=\"\">Toutes les catégories</option>\r\n                <option value=\"hoodie\">Hoodie</option>\r\n                <option value=\"pull\">Pull</option>\r\n                {genre === 'sport' && (\r\n                  <>\r\n                    <option value=\"training\">Training</option>\r\n                    <option value=\"running\">Running</option>\r\n                    <option value=\"fitness\">Fitness</option>\r\n                    <option value=\"outdoor\">Outdoor</option>\r\n                  </>\r\n                )}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4>Marque</h4>\r\n              <select>\r\n                <option value=\"\">Toutes les marques</option>\r\n                <option value=\"AYNEXT\">AYNEXT</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4>Prix</h4>\r\n              <div className=\"price-inputs\">\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"Min\"\r\n                />\r\n                <span>-</span>\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"Max\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4>Taille</h4>\r\n              <select>\r\n                <option value=\"\">Toutes les tailles</option>\r\n                <option value=\"XS\">XS</option>\r\n                <option value=\"S\">S</option>\r\n                <option value=\"M\">M</option>\r\n                <option value=\"L\">L</option>\r\n                <option value=\"XL\">XL</option>\r\n                <option value=\"XXL\">XXL</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4>Couleur</h4>\r\n              <select>\r\n                <option value=\"\">Toutes les couleurs</option>\r\n                <option value=\"noir\">Noir</option>\r\n                <option value=\"blanc\">Blanc</option>\r\n                <option value=\"rouge\">Rouge</option>\r\n                <option value=\"bleu\">Bleu</option>\r\n                <option value=\"vert\">Vert</option>\r\n                <option value=\"jaune\">Jaune</option>\r\n                <option value=\"rose\">Rose</option>\r\n                <option value=\"gris\">Gris</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Produits */}\r\n          <div className=\"products-main\">\r\n            <div className=\"products-toolbar\">\r\n              <div className=\"sort-controls\">\r\n                <FaSort />\r\n                <select\r\n                  value={sortBy}\r\n                  onChange={(e) => handleSortChange(e.target.value)}\r\n                >\r\n                  <option value=\"name\">Nom A-Z</option>\r\n                  <option value=\"-name\">Nom Z-A</option>\r\n                  <option value=\"prix\">Prix croissant</option>\r\n                  <option value=\"-prix\">Prix décroissant</option>\r\n                  <option value=\"createdAt\">Plus récents</option>\r\n                  <option value=\"-createdAt\">Plus anciens</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"results-info\">\r\n                {products?.length || 0} produit(s) disponible(s)\r\n                <small style={{ display: 'block', color: '#666', fontSize: '0.9em' }}>\r\n                  Seuls les produits en stock sont affichés\r\n                </small>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"products-grid\">\r\n              {products.length > 0 ? (\r\n                products.map(product => (\r\n                  <ProductCard\r\n                    key={product._id}\r\n                    product={product}\r\n                    onAddToCart={handleAddToCart}\r\n                    onCustomize={handleCustomize}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <div className=\"no-products\">\r\n                  <div className=\"no-products-content\">\r\n                    <h3>Aucun produit trouvé</h3>\r\n                    <p>Il n'y a actuellement aucun produit dans cette collection.</p>\r\n                    <Link to=\"/\" className=\"back-to-home-btn\">\r\n                      Retour à l'accueil\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            {totalPages > 1 && (\r\n              <div className=\"pagination\">\r\n                <button \r\n                  onClick={() => handlePageChange(currentPage - 1)}\r\n                  disabled={currentPage === 1}\r\n                  className=\"pagination-btn\"\r\n                >\r\n                  Précédent\r\n                </button>\r\n                \r\n                {Array.from({ length: totalPages }, (_, i) => i + 1).map(page => (\r\n                  <button\r\n                    key={page}\r\n                    onClick={() => handlePageChange(page)}\r\n                    className={`pagination-btn ${currentPage === page ? 'active' : ''}`}\r\n                  >\r\n                    {page}\r\n                  </button>\r\n                ))}\r\n                \r\n                <button \r\n                  onClick={() => handlePageChange(currentPage + 1)}\r\n                  disabled={currentPage === totalPages}\r\n                  className=\"pagination-btn\"\r\n                >\r\n                  Suivant\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal de personnalisation */}\r\n      {showCustomizer && selectedProduct && (\r\n        <div className=\"customizer-modal\">\r\n          <div className=\"customizer-content\">\r\n            <button \r\n              className=\"close-customizer\"\r\n              onClick={() => setShowCustomizer(false)}\r\n            >\r\n              ×\r\n            </button>\r\n            <SimpleHoodieDesigner \r\n              product={selectedProduct}\r\n              onClose={() => setShowCustomizer(false)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </DebugWrapper>\r\n  );\r\n};\r\n\r\nexport default GenderPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAClD,OAASC,QAAQ,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,OAAO,CAAEC,cAAc,CAAEC,SAAS,CAAEC,WAAW,KAAQ,gBAAgB,CAC5G,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,WAAW,CAAEC,YAAY,KAAQ,sBAAsB,CAChE,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,MAAO,CAAAC,oBAAoB,KAAM,oCAAoC,CACrE,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,MAAO,wBAAwB,CAE/B;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA2C,KAAAC,gBAAA,CAAAC,iBAAA,IAA1C,CAAEC,OAAO,CAAEC,WAAW,CAAEC,WAAY,CAAC,CAAAL,IAAA,CACxD;AACAzB,SAAS,CAAC,IAAM,CACdc,YAAY,CAACc,OAAO,CAAE,uBAAuB,CAAC,CAC9C,GAAIA,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEG,MAAM,CAAE,CACnBjB,YAAY,CAACc,OAAO,CAACG,MAAM,CAAE,8BAA8B,CAAC,CAC9D,CACF,CAAC,CAAE,CAACH,OAAO,CAAC,CAAC,CAEb,KAAM,CAAAI,eAAe,CAAGA,CAAA,GAAM,CAC5B;AACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,aAAAC,MAAA,CAAeR,OAAO,CAACS,GAAG,CAAE,CAClD,CAAC,CAED,mBACEhB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAACC,OAAO,CAAEP,eAAgB,CAAAQ,QAAA,eACrDnB,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAE,QAAA,EAC3BZ,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEa,MAAM,EAAIb,OAAO,CAACa,MAAM,CAACC,MAAM,CAAG,CAAC,cAC3CvB,IAAA,QACEwB,GAAG,CAAE,EAAAjB,gBAAA,CAAAE,OAAO,CAACa,MAAM,CAAC,CAAC,CAAC,UAAAf,gBAAA,iBAAjBA,gBAAA,CAAmBkB,GAAG,GAAIhB,OAAO,CAACa,MAAM,CAAC,CAAC,CAAE,CACjDI,GAAG,CAAE,EAAAlB,iBAAA,CAAAC,OAAO,CAACa,MAAM,CAAC,CAAC,CAAC,UAAAd,iBAAA,iBAAjBA,iBAAA,CAAmBkB,GAAG,GAAIjB,OAAO,CAACkB,GAAI,CAC3CC,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACN,GAAG,CAAG,kBAAkB,CACnC,CAAE,CACH,CAAC,cAEFxB,IAAA,QACEwB,GAAG,CAAC,kBAAkB,CACtBE,GAAG,CAAC,qBAAkB,CACtBP,SAAS,CAAC,eAAe,CAC1B,CACF,cACDjB,KAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC9BrB,IAAA,WACEmB,SAAS,CAAC,qBAAqB,CAC/BY,KAAK,CAAC,qBAAqB,CAC3BX,OAAO,CAAGS,CAAC,EAAKA,CAAC,CAACG,eAAe,CAAC,CAAE,CAAAX,QAAA,cAEpCrB,IAAA,CAACb,OAAO,GAAE,CAAC,CACL,CAAC,CACR,CAAAsB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEwB,eAAe,gBACvBjC,IAAA,WACEmB,SAAS,CAAC,sBAAsB,CAChCC,OAAO,CAAGS,CAAC,EAAK,CACdA,CAAC,CAACG,eAAe,CAAC,CAAC,CACnBrB,WAAW,CAACF,OAAO,CAAC,CACtB,CAAE,CACFsB,KAAK,CAAC,eAAe,CAAAV,QAAA,cAErBrB,IAAA,CAACX,SAAS,GAAE,CAAC,CACP,CACT,EACE,CAAC,EACH,CAAC,cAENa,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAE,QAAA,eAC3BrB,IAAA,OAAImB,SAAS,CAAC,cAAc,CAAAE,QAAA,CAAE,CAAAZ,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEkB,GAAG,GAAI,kBAAkB,CAAK,CAAC,cACtE3B,IAAA,MAAGmB,SAAS,CAAC,eAAe,CAAAE,QAAA,CAAE3B,WAAW,CAACe,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEG,MAAM,CAAC,CAAI,CAAC,cAE/DZ,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAE,QAAA,CAC3BZ,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEyB,UAAU,EAAIzB,OAAO,CAACyB,UAAU,CAAGzB,OAAO,CAAC0B,IAAI,cACvDjC,KAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC9BnB,KAAA,SAAMiB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,EAAEZ,OAAO,CAAC0B,IAAI,CAAC,MAAI,EAAM,CAAC,cAC1DjC,KAAA,SAAMiB,SAAS,CAAC,YAAY,CAAAE,QAAA,EAAEZ,OAAO,CAACyB,UAAU,CAAC,MAAI,EAAM,CAAC,EACzD,CAAC,cAENhC,KAAA,SAAMiB,SAAS,CAAC,OAAO,CAAAE,QAAA,EAAE,CAAAZ,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE0B,IAAI,GAAI,CAAC,CAAC,MAAI,EAAM,CACvD,CACE,CAAC,EACH,CAAC,EAEH,CAAC,CAEV,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEC,KAAM,CAAC,CAAGtD,SAAS,CAAC,CAAC,CAC7B,KAAM,CAACuD,QAAQ,CAAEC,WAAW,CAAC,CAAG3D,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC4D,OAAO,CAAEC,UAAU,CAAC,CAAG7D,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC8D,MAAM,CAAEC,SAAS,CAAC,CAAG/D,QAAQ,CAAC,WAAW,CAAC,CACjD,KAAM,CAACgE,UAAU,CAAEC,aAAa,CAAC,CAAGjE,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACkE,WAAW,CAAEC,cAAc,CAAC,CAAGnE,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACoE,UAAU,CAAEC,aAAa,CAAC,CAAGrE,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAACsE,cAAc,CAAEC,iBAAiB,CAAC,CAAGvE,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACwE,eAAe,CAAEC,kBAAkB,CAAC,CAAGzE,QAAQ,CAAC,IAAI,CAAC,CAE5D,KAAM,CAAE0E,SAAU,CAAC,CAAG9D,OAAO,CAAC,CAAC,CAC/B,KAAM,CAAE+D,IAAI,CAAEC,eAAgB,CAAC,CAAG/D,OAAO,CAAC,CAAC,CAE3C;AACA,KAAM,CAAAgE,WAAW,CAAG,CAClBC,KAAK,CAAE,CACL3B,KAAK,CAAE,qBAAqB,CAC5B4B,WAAW,CAAE,iDAAiD,CAC9DC,KAAK,CAAE,IAAI,CACXC,KAAK,CAAE,SACT,CAAC,CACDC,KAAK,CAAE,CACL/B,KAAK,CAAE,qBAAqB,CAC5B4B,WAAW,CAAE,wCAAwC,CACrDC,KAAK,CAAE,IAAI,CACXC,KAAK,CAAE,SACT,CAAC,CACDE,MAAM,CAAE,CACNhC,KAAK,CAAE,sBAAsB,CAC7B4B,WAAW,CAAE,oCAAoC,CACjDC,KAAK,CAAE,IAAI,CACXC,KAAK,CAAE,SACT,CAAC,CACDG,KAAK,CAAE,CACLjC,KAAK,CAAE,wBAAwB,CAC/B4B,WAAW,CAAE,uEAAuE,CACpFC,KAAK,CAAE,OAAO,CACdC,KAAK,CAAE,SAAS,CAChBI,QAAQ,CAAE,gEAAgE,CAC1EC,SAAS,CAAE,OACb,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGV,WAAW,CAACpB,KAAK,CAAC,EAAIoB,WAAW,CAACC,KAAK,CAE5D7E,SAAS,CAAC,IAAM,CACduF,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,CAAC/B,KAAK,CAAEK,MAAM,CAAEE,UAAU,CAAEE,WAAW,CAAC,CAAC,CAE5C,KAAM,CAAAsB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF3B,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAA4B,MAAM,CAAG,CACbC,IAAI,CAAExB,WAAW,CACjByB,KAAK,CAAE,EAAE,CACTC,GAAG,CAAE9B,MAAM,CACXL,KAAK,CAAEA,KACT,CAAC,CAED,GAAIO,UAAU,CAAEyB,MAAM,CAACI,SAAS,CAAG7B,UAAU,CAE7C,KAAM,CAAA8B,QAAQ,CAAG,KAAM,CAAA5E,GAAG,CAAC6E,GAAG,CAAC,WAAW,CAAE,CAC1CN,MAAM,CACNO,OAAO,CAAE,IACX,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAGH,QAAQ,CAACG,IAAI,CAC1B,KAAM,CAAAC,QAAQ,CAAGD,IAAI,CAACC,QAAQ,EAAI,EAAE,CAEpC;AACA,KAAM,CAAAC,mBAAmB,CAAGD,QAAQ,CAACE,MAAM,CAACvE,OAAO,EAAI,CACrD,GAAIA,OAAO,CAACwE,OAAO,EAAIC,KAAK,CAACC,OAAO,CAAC1E,OAAO,CAACwE,OAAO,CAAC,CAAE,CACrD,MAAO,CAAAxE,OAAO,CAACwE,OAAO,CAACG,IAAI,CAACC,MAAM,EAAIA,MAAM,CAACC,KAAK,CAAG,CAAC,CAAC,CACzD,CACA,MAAO,KAAI,CAAE;AACf,CAAC,CAAC,CAEF/C,WAAW,CAACwC,mBAAmB,CAAC,CAChC9B,aAAa,CAACsC,IAAI,CAACC,IAAI,CAAC,CAACX,IAAI,CAACY,KAAK,EAAI,CAAC,EAAI,EAAE,CAAC,CAAC,CAElD,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yCAAyC,CAAEA,KAAK,CAAC,CAC/DnG,KAAK,CAACmG,KAAK,CAAC,wCAAwC,CAAC,CACrDnD,WAAW,CAAC,EAAE,CAAC,CACjB,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAmD,gBAAgB,CAAIC,KAAK,EAAK,CAClClD,SAAS,CAACkD,KAAK,CAAC,CAChB9C,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAED,KAAM,CAAA+C,YAAY,CAAIjE,CAAC,EAAK,CAC1BA,CAAC,CAACkE,cAAc,CAAC,CAAC,CAClBhD,cAAc,CAAC,CAAC,CAAC,CACjBqB,aAAa,CAAC,CAAC,CACjB,CAAC,CAED,KAAM,CAAA4B,eAAe,CAAG,KAAAA,CAAOvF,OAAO,CAAEwF,YAAY,CAAEC,aAAa,GAAK,CACtEP,OAAO,CAACQ,GAAG,CAAC,8BAA8B,CAAE,CAC1C1F,OAAO,CAAEA,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEkB,GAAG,CACrBsE,YAAY,CACZC,aACF,CAAC,CAAC,CAEF,GAAI,CACF,KAAM,CAAAE,MAAM,CAAG,KAAM,CAAA9C,SAAS,CAAC7C,OAAO,CAACS,GAAG,CAAE,CAAC,CAAE+E,YAAY,CAAEC,aAAa,CAAC,CAC3E,GAAIE,MAAM,CAACC,OAAO,CAAE,CAClB9G,KAAK,CAAC8G,OAAO,IAAApF,MAAA,CAAIR,OAAO,CAACkB,GAAG,0BAAqB,CAAC,CACpD,CACF,CAAE,MAAO+D,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC1DnG,KAAK,CAACmG,KAAK,CAAC,mCAAmC,CAAC,CAClD,CACF,CAAC,CAED,KAAM,CAAAY,eAAe,CAAI7F,OAAO,EAAK,CACnC4C,kBAAkB,CAAC5C,OAAO,CAAC,CAC3B0C,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED,KAAM,CAAAoD,gBAAgB,CAAIjC,IAAI,EAAK,CACjCvB,cAAc,CAACuB,IAAI,CAAC,CACpBxD,MAAM,CAAC0F,QAAQ,CAAC,CAAEC,GAAG,CAAE,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CACjD,CAAC,CAED,GAAIlE,OAAO,CAAE,CACX,mBACExC,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5BnB,KAAA,QAAKiB,SAAS,CAAC,mBAAmB,CAAAE,QAAA,eAChCrB,IAAA,QAAKmB,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvCnB,IAAA,MAAAqB,QAAA,CAAG,4BAA0B,CAAG,CAAC,EAC9B,CAAC,CACH,CAAC,CAEV,CAEA,mBACEnB,KAAA,CAACN,YAAY,EAAC+G,IAAI,CAAC,YAAY,CAAAtF,QAAA,eAC7BnB,KAAA,QAAKiB,SAAS,kBAAAF,MAAA,CAAmBoB,KAAK,GAAK,OAAO,CAAG,YAAY,CAAG,EAAE,CAAG,CAAAhB,QAAA,EAEtEgB,KAAK,GAAK,OAAO,cAChBnC,KAAA,QAAKiB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,eACjCnB,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5BrB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAM,CAAC,cACrCnB,IAAA,QAAKmB,SAAS,CAAC,gBAAgB,CAAM,CAAC,EACnC,CAAC,cACNnB,IAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAE,QAAA,cACxBrB,IAAA,QAAKmB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,cACjCnB,KAAA,QAAKiB,SAAS,CAAC,uBAAuB,CAAAE,QAAA,eACpCnB,KAAA,OAAIiB,SAAS,CAAC,aAAa,CAAAE,QAAA,eACzBrB,IAAA,SAAMmB,SAAS,CAAC,aAAa,CAAAE,QAAA,CAAE8C,YAAY,CAACP,KAAK,CAAO,CAAC,cACzD5D,IAAA,SAAMmB,SAAS,CAAC,YAAY,CAAAE,QAAA,CAAE8C,YAAY,CAACpC,KAAK,CAAO,CAAC,EACtD,CAAC,cACL/B,IAAA,QAAKmB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,cAC7BrB,IAAA,MAAAqB,QAAA,CAAI8C,YAAY,CAACR,WAAW,CAAI,CAAC,CAC9B,CAAC,cACNzD,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7BnB,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5BrB,IAAA,SAAMmB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,CAAC,QAAC,CAAM,CAAC,cAC7CrB,IAAA,SAAAqB,QAAA,CAAM,aAAW,CAAM,CAAC,EACrB,CAAC,cACNnB,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5BrB,IAAA,SAAMmB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,CAAC,cAAE,CAAM,CAAC,cAC9CrB,IAAA,SAAAqB,QAAA,CAAM,cAAS,CAAM,CAAC,EACnB,CAAC,cACNnB,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5BrB,IAAA,SAAMmB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,CAAC,cAAE,CAAM,CAAC,cAC9CrB,IAAA,SAAAqB,QAAA,CAAM,WAAS,CAAM,CAAC,EACnB,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,cAENnB,KAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC9BnB,KAAA,CAACpB,IAAI,EAAC8H,EAAE,CAAC,GAAG,CAACzF,SAAS,CAAC,mBAAmB,CAAAE,QAAA,eACxCrB,IAAA,CAACV,WAAW,GAAE,CAAC,wBAEjB,EAAM,CAAC,cACPU,IAAA,OAAAqB,QAAA,CAAK8C,YAAY,CAACpC,KAAK,CAAK,CAAC,cAC7B/B,IAAA,MAAAqB,QAAA,CAAI8C,YAAY,CAACR,WAAW,CAAI,CAAC,EAC9B,CACN,cAEDzD,KAAA,QAAKiB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,eAEjCnB,KAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC9BrB,IAAA,QAAKmB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,cAC7BrB,IAAA,OAAAqB,QAAA,CAAI,SAAO,CAAI,CAAC,CACb,CAAC,cAENrB,IAAA,SAAM6G,QAAQ,CAAEf,YAAa,CAAC3E,SAAS,CAAC,aAAa,CAAAE,QAAA,cACnDnB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAE,QAAA,eAC3BrB,IAAA,CAAChB,QAAQ,GAAE,CAAC,cACZgB,IAAA,UACE8G,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,qCAAqC,CACjDlB,KAAK,CAAEjD,UAAW,CAClBoE,QAAQ,CAAGnF,CAAC,EAAKgB,aAAa,CAAChB,CAAC,CAACC,MAAM,CAAC+D,KAAK,CAAE,CAChD,CAAC,EACC,CAAC,CACF,CAAC,cAEP3F,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7BrB,IAAA,OAAAqB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdrB,IAAA,WAAQ6F,KAAK,CAAExD,KAAM,CAAC4E,QAAQ,MAAA5F,QAAA,cAC5BnB,KAAA,WAAQ2F,KAAK,CAAExD,KAAM,CAAAhB,QAAA,EAAE8C,YAAY,CAACP,KAAK,CAAC,GAAC,CAACO,YAAY,CAACpC,KAAK,CAACmF,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAS,CAAC,CAChF,CAAC,EACN,CAAC,cAENhH,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7BrB,IAAA,OAAAqB,QAAA,CAAI,cAAS,CAAI,CAAC,cAClBnB,KAAA,WAAAmB,QAAA,eACErB,IAAA,WAAQ6F,KAAK,CAAC,EAAE,CAAAxE,QAAA,CAAC,0BAAqB,CAAQ,CAAC,cAC/CrB,IAAA,WAAQ6F,KAAK,CAAC,QAAQ,CAAAxE,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCrB,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAxE,QAAA,CAAC,MAAI,CAAQ,CAAC,CACjCgB,KAAK,GAAK,OAAO,eAChBnC,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACErB,IAAA,WAAQ6F,KAAK,CAAC,UAAU,CAAAxE,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CrB,IAAA,WAAQ6F,KAAK,CAAC,SAAS,CAAAxE,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCrB,IAAA,WAAQ6F,KAAK,CAAC,SAAS,CAAAxE,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCrB,IAAA,WAAQ6F,KAAK,CAAC,SAAS,CAAAxE,QAAA,CAAC,SAAO,CAAQ,CAAC,EACxC,CACH,EACK,CAAC,EACN,CAAC,cAENnB,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7BrB,IAAA,OAAAqB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfnB,KAAA,WAAAmB,QAAA,eACErB,IAAA,WAAQ6F,KAAK,CAAC,EAAE,CAAAxE,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cAC5CrB,IAAA,WAAQ6F,KAAK,CAAC,QAAQ,CAAAxE,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChC,CAAC,EACN,CAAC,cAENnB,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7BrB,IAAA,OAAAqB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbnB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAE,QAAA,eAC3BrB,IAAA,UACE8G,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,KAAK,CAClB,CAAC,cACF/G,IAAA,SAAAqB,QAAA,CAAM,GAAC,CAAM,CAAC,cACdrB,IAAA,UACE8G,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,KAAK,CAClB,CAAC,EACC,CAAC,EACH,CAAC,cAEN7G,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7BrB,IAAA,OAAAqB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfnB,KAAA,WAAAmB,QAAA,eACErB,IAAA,WAAQ6F,KAAK,CAAC,EAAE,CAAAxE,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cAC5CrB,IAAA,WAAQ6F,KAAK,CAAC,IAAI,CAAAxE,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9BrB,IAAA,WAAQ6F,KAAK,CAAC,GAAG,CAAAxE,QAAA,CAAC,GAAC,CAAQ,CAAC,cAC5BrB,IAAA,WAAQ6F,KAAK,CAAC,GAAG,CAAAxE,QAAA,CAAC,GAAC,CAAQ,CAAC,cAC5BrB,IAAA,WAAQ6F,KAAK,CAAC,GAAG,CAAAxE,QAAA,CAAC,GAAC,CAAQ,CAAC,cAC5BrB,IAAA,WAAQ6F,KAAK,CAAC,IAAI,CAAAxE,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9BrB,IAAA,WAAQ6F,KAAK,CAAC,KAAK,CAAAxE,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC1B,CAAC,EACN,CAAC,cAENnB,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7BrB,IAAA,OAAAqB,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBnB,KAAA,WAAAmB,QAAA,eACErB,IAAA,WAAQ6F,KAAK,CAAC,EAAE,CAAAxE,QAAA,CAAC,qBAAmB,CAAQ,CAAC,cAC7CrB,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAxE,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCrB,IAAA,WAAQ6F,KAAK,CAAC,OAAO,CAAAxE,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpCrB,IAAA,WAAQ6F,KAAK,CAAC,OAAO,CAAAxE,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpCrB,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAxE,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCrB,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAxE,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCrB,IAAA,WAAQ6F,KAAK,CAAC,OAAO,CAAAxE,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpCrB,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAxE,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCrB,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAxE,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC5B,CAAC,EACN,CAAC,EACH,CAAC,cAGNnB,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5BnB,KAAA,QAAKiB,SAAS,CAAC,kBAAkB,CAAAE,QAAA,eAC/BnB,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5BrB,IAAA,CAACd,MAAM,GAAE,CAAC,cACVgB,KAAA,WACE2F,KAAK,CAAEnD,MAAO,CACdsE,QAAQ,CAAGnF,CAAC,EAAK+D,gBAAgB,CAAC/D,CAAC,CAACC,MAAM,CAAC+D,KAAK,CAAE,CAAAxE,QAAA,eAElDrB,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAxE,QAAA,CAAC,SAAO,CAAQ,CAAC,cACrCrB,IAAA,WAAQ6F,KAAK,CAAC,OAAO,CAAAxE,QAAA,CAAC,SAAO,CAAQ,CAAC,cACtCrB,IAAA,WAAQ6F,KAAK,CAAC,MAAM,CAAAxE,QAAA,CAAC,gBAAc,CAAQ,CAAC,cAC5CrB,IAAA,WAAQ6F,KAAK,CAAC,OAAO,CAAAxE,QAAA,CAAC,qBAAgB,CAAQ,CAAC,cAC/CrB,IAAA,WAAQ6F,KAAK,CAAC,WAAW,CAAAxE,QAAA,CAAC,iBAAY,CAAQ,CAAC,cAC/CrB,IAAA,WAAQ6F,KAAK,CAAC,YAAY,CAAAxE,QAAA,CAAC,cAAY,CAAQ,CAAC,EAC1C,CAAC,EACN,CAAC,cAENnB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAE,QAAA,EAC1B,CAAAiB,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEf,MAAM,GAAI,CAAC,CAAC,2BACvB,cAAAvB,IAAA,UAAOmH,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEvD,KAAK,CAAE,MAAM,CAAEwD,QAAQ,CAAE,OAAQ,CAAE,CAAAhG,QAAA,CAAC,8CAEtE,CAAO,CAAC,EACL,CAAC,EACH,CAAC,cAENrB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAE,QAAA,CAC3BiB,QAAQ,CAACf,MAAM,CAAG,CAAC,CAClBe,QAAQ,CAACgF,GAAG,CAAC7G,OAAO,eAClBT,IAAA,CAACK,WAAW,EAEVI,OAAO,CAAEA,OAAQ,CACjBC,WAAW,CAAEsF,eAAgB,CAC7BrF,WAAW,CAAE2F,eAAgB,EAHxB7F,OAAO,CAACS,GAId,CACF,CAAC,cAEFlB,IAAA,QAAKmB,SAAS,CAAC,aAAa,CAAAE,QAAA,cAC1BnB,KAAA,QAAKiB,SAAS,CAAC,qBAAqB,CAAAE,QAAA,eAClCrB,IAAA,OAAAqB,QAAA,CAAI,yBAAoB,CAAI,CAAC,cAC7BrB,IAAA,MAAAqB,QAAA,CAAG,4DAA0D,CAAG,CAAC,cACjErB,IAAA,CAAClB,IAAI,EAAC8H,EAAE,CAAC,GAAG,CAACzF,SAAS,CAAC,kBAAkB,CAAAE,QAAA,CAAC,uBAE1C,CAAM,CAAC,EACJ,CAAC,CACH,CACN,CACE,CAAC,CAGL2B,UAAU,CAAG,CAAC,eACb9C,KAAA,QAAKiB,SAAS,CAAC,YAAY,CAAAE,QAAA,eACzBrB,IAAA,WACEoB,OAAO,CAAEA,CAAA,GAAMmF,gBAAgB,CAACzD,WAAW,CAAG,CAAC,CAAE,CACjDmE,QAAQ,CAAEnE,WAAW,GAAK,CAAE,CAC5B3B,SAAS,CAAC,gBAAgB,CAAAE,QAAA,CAC3B,iBAED,CAAQ,CAAC,CAER6D,KAAK,CAACqC,IAAI,CAAC,CAAEhG,MAAM,CAAEyB,UAAW,CAAC,CAAE,CAACwE,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAAG,CAAC,CAAC,CAACH,GAAG,CAAChD,IAAI,eAC3DtE,IAAA,WAEEoB,OAAO,CAAEA,CAAA,GAAMmF,gBAAgB,CAACjC,IAAI,CAAE,CACtCnD,SAAS,mBAAAF,MAAA,CAAoB6B,WAAW,GAAKwB,IAAI,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAAjD,QAAA,CAEnEiD,IAAI,EAJAA,IAKC,CACT,CAAC,cAEFtE,IAAA,WACEoB,OAAO,CAAEA,CAAA,GAAMmF,gBAAgB,CAACzD,WAAW,CAAG,CAAC,CAAE,CACjDmE,QAAQ,CAAEnE,WAAW,GAAKE,UAAW,CACrC7B,SAAS,CAAC,gBAAgB,CAAAE,QAAA,CAC3B,SAED,CAAQ,CAAC,EACN,CACN,EACE,CAAC,EACH,CAAC,EACH,CAAC,CAGL6B,cAAc,EAAIE,eAAe,eAChCpD,IAAA,QAAKmB,SAAS,CAAC,kBAAkB,CAAAE,QAAA,cAC/BnB,KAAA,QAAKiB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,eACjCrB,IAAA,WACEmB,SAAS,CAAC,kBAAkB,CAC5BC,OAAO,CAAEA,CAAA,GAAM+B,iBAAiB,CAAC,KAAK,CAAE,CAAA9B,QAAA,CACzC,MAED,CAAQ,CAAC,cACTrB,IAAA,CAACH,oBAAoB,EACnBY,OAAO,CAAE2C,eAAgB,CACzBsE,OAAO,CAAEA,CAAA,GAAMvE,iBAAiB,CAAC,KAAK,CAAE,CACzC,CAAC,EACC,CAAC,CACH,CACN,EACW,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAf,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}