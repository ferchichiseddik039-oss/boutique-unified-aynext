{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{FaHeart,FaShare,FaStar,FaShoppingCart,FaTruck,FaShieldAlt,FaUndo}from'react-icons/fa';import{toast}from'react-toastify';import{useCart}from'../contexts/CartContext';import{useAuth}from'../contexts/AuthContext';import{formatBrand,formatCategory}from'../utils/formatUtils';import'../styles/ProductDetail.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductDetail=()=>{var _product$images$activ,_product$images$activ2,_product$tailles,_product$tailles$find;const{id}=useParams();const navigate=useNavigate();const[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);const[selectedSize,setSelectedSize]=useState('');const[selectedColor,setSelectedColor]=useState('');const[quantity,setQuantity]=useState(1);const[activeImage,setActiveImage]=useState(0);const[relatedProducts,setRelatedProducts]=useState([]);const{addToCart}=useCart();const{user}=useAuth();useEffect(()=>{fetchProduct();},[id]);const fetchProduct=async()=>{try{setLoading(true);const response=await fetch(\"/api/products/\".concat(id));const data=await response.json();if(response.ok){setProduct(data);// Charger les produits similaires\nfetchRelatedProducts(data.categorie,data.marque);}else{toast.error('Produit non trouvé');navigate('/products');}}catch(error){toast.error('Erreur lors du chargement du produit');navigate('/products');}finally{setLoading(false);}};const fetchRelatedProducts=async(category,brand)=>{try{const response=await fetch(\"/api/products?category=\".concat(category,\"&brand=\").concat(brand,\"&limit=4\"));const data=await response.json();if(response.ok){setRelatedProducts(data.products.filter(p=>p._id!==id));}}catch(error){console.error('Erreur lors du chargement des produits similaires');}};const handleAddToCart=async()=>{if(!user){toast.error('Veuillez vous connecter pour ajouter au panier');return;}if(!selectedSize||!selectedColor){toast.error('Veuillez sélectionner une taille et une couleur');return;}const result=await addToCart(product._id,quantity,selectedSize,selectedColor);if(!result.success){// Le toast d'erreur est déjà affiché dans CartContext\nconsole.error('Erreur ajout au panier:',result.message);}};const handleOrderNow=async()=>{if(!user){toast.error('Veuillez vous connecter pour passer une commande');return;}if(!selectedSize||!selectedColor){toast.error('Veuillez sélectionner une taille et une couleur');return;}// Ajouter au panier puis rediriger vers la page de commande\nconst result=await addToCart(product._id,quantity,selectedSize,selectedColor);if(result.success){// Rediriger vers la page de commande\nnavigate('/cart');}};const handleSizeChange=size=>{setSelectedSize(size);};const handleColorChange=color=>{setSelectedColor(color);};const handleQuantityChange=newQuantity=>{if(newQuantity>=1&&newQuantity<=10){setQuantity(newQuantity);}};const handleImageClick=index=>{setActiveImage(index);};const handleShare=()=>{if(navigator.share){navigator.share({title:product.nom,text:product.description,url:window.location.href});}else{navigator.clipboard.writeText(window.location.href);toast.success('Lien copié dans le presse-papiers !');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement du produit...\"})]});}if(!product){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Produit non trouv\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Le produit que vous recherchez n'existe pas.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/products'),className:\"btn-primary\",children:\"Retour aux produits\"})]});}const availableSizes=product.tailles?product.tailles.filter(taille=>taille.stock>0):[];const availableColors=product.couleurs?product.couleurs.map(couleur=>couleur.nom):[];const finalPrice=product.prixPromo||product.prix;const discount=product.prixPromo?Math.round((product.prix-product.prixPromo)/product.prix*100):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-gallery\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_product$images$activ=product.images[activeImage])===null||_product$images$activ===void 0?void 0:_product$images$activ.url)||'/placeholder-product.jpg',alt:((_product$images$activ2=product.images[activeImage])===null||_product$images$activ2===void 0?void 0:_product$images$activ2.alt)||product.nom,onError:e=>{e.target.src='/placeholder-product.jpg';}}),product.prixPromo&&/*#__PURE__*/_jsxs(\"div\",{className:\"discount-badge\",children:[\"-\",discount,\"%\"]})]}),product.images&&product.images.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail-images\",children:product.images.map((image,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail \".concat(index===activeImage?'active':''),onClick:()=>handleImageClick(index),children:/*#__PURE__*/_jsx(\"img\",{src:(image===null||image===void 0?void 0:image.url)||image,alt:(image===null||image===void 0?void 0:image.alt)||\"\".concat(product.nom,\" - Image \").concat(index+1),onError:e=>{e.target.src='/placeholder-product.jpg';}})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"product-title\",children:product.nom}),/*#__PURE__*/_jsx(\"p\",{className:\"product-brand\",children:formatBrand(product.marque)}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-rating\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stars\",children:[1,2,3,4,5].map(star=>/*#__PURE__*/_jsx(FaStar,{className:star<=4?'star filled':'star'},star))}),/*#__PURE__*/_jsx(\"span\",{className:\"rating-text\",children:\"4.0 (128 avis)\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-price\",children:product.prixPromo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"original-price\",children:[product.prix,\" TND\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"final-price\",children:[product.prixPromo,\" TND\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"discount-text\",children:[\"\\xC9conomisez \",product.prix-product.prixPromo,\" TND\"]})]}):/*#__PURE__*/_jsxs(\"span\",{className:\"final-price\",children:[product.prix,\" TND\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:product.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Taille\"}),/*#__PURE__*/_jsx(\"div\",{className:\"size-options\",children:availableSizes.map(taille=>/*#__PURE__*/_jsx(\"button\",{className:\"size-option \".concat(selectedSize===taille.nom?'selected':'',\" \").concat(taille.stock===0?'out-of-stock':''),onClick:()=>handleSizeChange(taille.nom),disabled:taille.stock===0,children:taille.nom},taille.nom))}),selectedSize&&/*#__PURE__*/_jsxs(\"p\",{className:\"stock-info\",children:[\"Stock disponible: \",((_product$tailles=product.tailles)===null||_product$tailles===void 0?void 0:(_product$tailles$find=_product$tailles.find(t=>t.nom===selectedSize))===null||_product$tailles$find===void 0?void 0:_product$tailles$find.stock)||0,\" unit\\xE9(s)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Couleur\"}),/*#__PURE__*/_jsx(\"div\",{className:\"color-options\",children:(product.couleurs||[]).map(couleur=>/*#__PURE__*/_jsx(\"button\",{className:\"color-option \".concat(selectedColor===couleur.nom?'selected':''),onClick:()=>handleColorChange(couleur.nom),style:{backgroundColor:couleur.code},title:couleur.nom,children:selectedColor===couleur.nom&&/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\",children:\"\\u2713\"})},couleur.nom))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Quantit\\xE9\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-selector\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(quantity-1),disabled:quantity<=1,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(quantity+1),disabled:quantity>=10,children:\"+\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-main-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"order-now-btn primary\",onClick:handleOrderNow,disabled:!selectedSize||!selectedColor,children:[/*#__PURE__*/_jsx(FaShoppingCart,{}),\"Passer la commande\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-to-cart-btn secondary\",onClick:handleAddToCart,disabled:!selectedSize||!selectedColor,children:[/*#__PURE__*/_jsx(FaShoppingCart,{}),\"Ajouter au panier\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-secondary-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"wishlist-btn\",children:[/*#__PURE__*/_jsx(FaHeart,{}),\"Favoris\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"share-btn\",onClick:handleShare,children:[/*#__PURE__*/_jsx(FaShare,{}),\"Partager\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-features\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(FaTruck,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Livraison gratuite\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Pour toute commande sup\\xE9rieure \\xE0 50 TND\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(FaShieldAlt,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Garantie 30 jours\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Retour et \\xE9change sans frais\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(FaUndo,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Retour facile\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Retour sous 30 jours\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"D\\xE9tails du produit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"R\\xE9f\\xE9rence:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:product._id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Cat\\xE9gorie:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatCategory(product.categorie)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Marque:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatBrand(product.marque)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Mat\\xE9riau:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:\"100% Coton\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Entretien:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:\"Lavage \\xE0 30\\xB0C\"})]})]})]})]})]}),relatedProducts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"related-products\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Produits similaires\"}),/*#__PURE__*/_jsx(\"div\",{className:\"related-products-grid\",children:relatedProducts.map(product=>/*#__PURE__*/_jsx(RelatedProductCard,{product:product},product._id))})]})]});};// Composant produit similaire\nconst RelatedProductCard=_ref=>{var _product$images$,_product$images$2;let{product}=_ref;const navigate=useNavigate();return/*#__PURE__*/_jsxs(\"div\",{className:\"related-product-card\",onClick:()=>navigate(\"/product/\".concat(product._id)),children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:((_product$images$=product.images[0])===null||_product$images$===void 0?void 0:_product$images$.url)||'/placeholder-product.jpg',alt:((_product$images$2=product.images[0])===null||_product$images$2===void 0?void 0:_product$images$2.alt)||product.nom,onError:e=>{e.target.src='/placeholder-product.jpg';}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:product.nom}),/*#__PURE__*/_jsx(\"p\",{className:\"brand\",children:formatBrand(product.marque)}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:product.prixPromo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"original\",children:[product.prix,\" TND\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"promo\",children:[product.prixPromo,\" TND\"]})]}):/*#__PURE__*/_jsxs(\"span\",{children:[product.prix,\" TND\"]})})]})]});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","FaHeart","FaShare","FaStar","FaShoppingCart","FaTruck","FaShieldAlt","FaUndo","toast","useCart","useAuth","formatBrand","formatCategory","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetail","_product$images$activ","_product$images$activ2","_product$tailles","_product$tailles$find","id","navigate","product","setProduct","loading","setLoading","selectedSize","setSelectedSize","selectedColor","setSelectedColor","quantity","setQuantity","activeImage","setActiveImage","relatedProducts","setRelatedProducts","addToCart","user","fetchProduct","response","fetch","concat","data","json","ok","fetchRelatedProducts","categorie","marque","error","category","brand","products","filter","p","_id","console","handleAddToCart","result","success","message","handleOrderNow","handleSizeChange","size","handleColorChange","color","handleQuantityChange","newQuantity","handleImageClick","index","handleShare","navigator","share","title","nom","text","description","url","window","location","href","clipboard","writeText","className","children","onClick","availableSizes","tailles","taille","stock","availableColors","couleurs","map","couleur","finalPrice","prixPromo","prix","discount","Math","round","src","images","alt","onError","e","target","length","image","star","disabled","find","t","style","backgroundColor","code","RelatedProductCard","_ref","_product$images$","_product$images$2"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/frontend-vercel/src/pages/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FaHeart, FaShare, FaStar, FaShoppingCart, FaTruck, FaShieldAlt, FaUndo } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport { useCart } from '../contexts/CartContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { formatBrand, formatCategory } from '../utils/formatUtils';\nimport '../styles/ProductDetail.css';\n\nconst ProductDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [selectedSize, setSelectedSize] = useState('');\n  const [selectedColor, setSelectedColor] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [activeImage, setActiveImage] = useState(0);\n  const [relatedProducts, setRelatedProducts] = useState([]);\n\n  const { addToCart } = useCart();\n  const { user } = useAuth();\n\n  useEffect(() => {\n    fetchProduct();\n  }, [id]);\n\n  const fetchProduct = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/products/${id}`);\n      const data = await response.json();\n      \n      if (response.ok) {\n        setProduct(data);\n        // Charger les produits similaires\n        fetchRelatedProducts(data.categorie, data.marque);\n      } else {\n        toast.error('Produit non trouvé');\n        navigate('/products');\n      }\n    } catch (error) {\n      toast.error('Erreur lors du chargement du produit');\n      navigate('/products');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchRelatedProducts = async (category, brand) => {\n    try {\n      const response = await fetch(`/api/products?category=${category}&brand=${brand}&limit=4`);\n      const data = await response.json();\n      if (response.ok) {\n        setRelatedProducts(data.products.filter(p => p._id !== id));\n      }\n    } catch (error) {\n      console.error('Erreur lors du chargement des produits similaires');\n    }\n  };\n\n  const handleAddToCart = async () => {\n    if (!user) {\n      toast.error('Veuillez vous connecter pour ajouter au panier');\n      return;\n    }\n\n    if (!selectedSize || !selectedColor) {\n      toast.error('Veuillez sélectionner une taille et une couleur');\n      return;\n    }\n\n    const result = await addToCart(product._id, quantity, selectedSize, selectedColor);\n    if (!result.success) {\n      // Le toast d'erreur est déjà affiché dans CartContext\n      console.error('Erreur ajout au panier:', result.message);\n    }\n  };\n\n  const handleOrderNow = async () => {\n    if (!user) {\n      toast.error('Veuillez vous connecter pour passer une commande');\n      return;\n    }\n\n    if (!selectedSize || !selectedColor) {\n      toast.error('Veuillez sélectionner une taille et une couleur');\n      return;\n    }\n\n    // Ajouter au panier puis rediriger vers la page de commande\n    const result = await addToCart(product._id, quantity, selectedSize, selectedColor);\n    if (result.success) {\n      // Rediriger vers la page de commande\n      navigate('/cart');\n    }\n  };\n\n  const handleSizeChange = (size) => {\n    setSelectedSize(size);\n  };\n\n  const handleColorChange = (color) => {\n    setSelectedColor(color);\n  };\n\n  const handleQuantityChange = (newQuantity) => {\n    if (newQuantity >= 1 && newQuantity <= 10) {\n      setQuantity(newQuantity);\n    }\n  };\n\n  const handleImageClick = (index) => {\n    setActiveImage(index);\n  };\n\n  const handleShare = () => {\n    if (navigator.share) {\n      navigator.share({\n        title: product.nom,\n        text: product.description,\n        url: window.location.href\n      });\n    } else {\n      navigator.clipboard.writeText(window.location.href);\n      toast.success('Lien copié dans le presse-papiers !');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Chargement du produit...</p>\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"error-container\">\n        <h2>Produit non trouvé</h2>\n        <p>Le produit que vous recherchez n'existe pas.</p>\n        <button onClick={() => navigate('/products')} className=\"btn-primary\">\n          Retour aux produits\n        </button>\n      </div>\n    );\n  }\n\n  const availableSizes = product.tailles ? product.tailles.filter(taille => \n    taille.stock > 0\n  ) : [];\n\n  const availableColors = product.couleurs ? product.couleurs.map(couleur => couleur.nom) : [];\n  const finalPrice = product.prixPromo || product.prix;\n  const discount = product.prixPromo ? Math.round(((product.prix - product.prixPromo) / product.prix) * 100) : 0;\n\n  return (\n    <div className=\"product-detail-page\">\n      <div className=\"product-detail-container\">\n        {/* Galerie d'images */}\n        <div className=\"product-gallery\">\n          <div className=\"main-image\">\n            <img \n              src={product.images[activeImage]?.url || '/placeholder-product.jpg'} \n              alt={product.images[activeImage]?.alt || product.nom}\n              onError={(e) => {\n                e.target.src = '/placeholder-product.jpg';\n              }}\n            />\n            {product.prixPromo && (\n              <div className=\"discount-badge\">\n                -{discount}%\n              </div>\n            )}\n          </div>\n          \n          {product.images && product.images.length > 1 && (\n            <div className=\"thumbnail-images\">\n              {product.images.map((image, index) => (\n                <div\n                  key={index}\n                  className={`thumbnail ${index === activeImage ? 'active' : ''}`}\n                  onClick={() => handleImageClick(index)}\n                >\n                  <img \n                    src={image?.url || image} \n                    alt={image?.alt || `${product.nom} - Image ${index + 1}`}\n                    onError={(e) => {\n                      e.target.src = '/placeholder-product.jpg';\n                    }}\n                  />\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Informations produit */}\n        <div className=\"product-info\">\n          <div className=\"product-header\">\n            <h1 className=\"product-title\">{product.nom}</h1>\n            <p className=\"product-brand\">{formatBrand(product.marque)}</p>\n            \n            <div className=\"product-rating\">\n              <div className=\"stars\">\n                {[1, 2, 3, 4, 5].map(star => (\n                  <FaStar \n                    key={star} \n                    className={star <= 4 ? 'star filled' : 'star'} \n                  />\n                ))}\n              </div>\n              <span className=\"rating-text\">4.0 (128 avis)</span>\n            </div>\n          </div>\n\n          <div className=\"product-price\">\n            {product.prixPromo ? (\n              <>\n                <span className=\"original-price\">{product.prix} TND</span>\n                <span className=\"final-price\">{product.prixPromo} TND</span>\n                <span className=\"discount-text\">Économisez {product.prix - product.prixPromo} TND</span>\n              </>\n            ) : (\n              <span className=\"final-price\">{product.prix} TND</span>\n            )}\n          </div>\n\n          <div className=\"product-description\">\n            <h3>Description</h3>\n            <p>{product.description}</p>\n          </div>\n\n          {/* Sélection de taille */}\n          <div className=\"product-options\">\n            <div className=\"option-group\">\n              <h4>Taille</h4>\n              <div className=\"size-options\">\n                {availableSizes.map(taille => (\n                  <button\n                    key={taille.nom}\n                    className={`size-option ${selectedSize === taille.nom ? 'selected' : ''} ${taille.stock === 0 ? 'out-of-stock' : ''}`}\n                    onClick={() => handleSizeChange(taille.nom)}\n                    disabled={taille.stock === 0}\n                  >\n                    {taille.nom}\n                  </button>\n                ))}\n              </div>\n              {selectedSize && (\n                <p className=\"stock-info\">\n                  Stock disponible: {(product.tailles?.find(t => t.nom === selectedSize)?.stock) || 0} unité(s)\n                </p>\n              )}\n            </div>\n\n            {/* Sélection de couleur */}\n            <div className=\"option-group\">\n              <h4>Couleur</h4>\n              <div className=\"color-options\">\n                {(product.couleurs || []).map(couleur => (\n                  <button\n                    key={couleur.nom}\n                    className={`color-option ${selectedColor === couleur.nom ? 'selected' : ''}`}\n                    onClick={() => handleColorChange(couleur.nom)}\n                    style={{ backgroundColor: couleur.code }}\n                    title={couleur.nom}\n                  >\n                    {selectedColor === couleur.nom && <span className=\"checkmark\">✓</span>}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Quantité */}\n            <div className=\"option-group\">\n              <h4>Quantité</h4>\n              <div className=\"quantity-selector\">\n                <button \n                  onClick={() => handleQuantityChange(quantity - 1)}\n                  disabled={quantity <= 1}\n                >\n                  -\n                </button>\n                <span>{quantity}</span>\n                <button \n                  onClick={() => handleQuantityChange(quantity + 1)}\n                  disabled={quantity >= 10}\n                >\n                  +\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Actions principales */}\n          <div className=\"product-main-actions\">\n            <button\n              className=\"order-now-btn primary\"\n              onClick={handleOrderNow}\n              disabled={!selectedSize || !selectedColor}\n            >\n              <FaShoppingCart />\n              Passer la commande\n            </button>\n            \n            <button\n              className=\"add-to-cart-btn secondary\"\n              onClick={handleAddToCart}\n              disabled={!selectedSize || !selectedColor}\n            >\n              <FaShoppingCart />\n              Ajouter au panier\n            </button>\n          </div>\n\n          {/* Actions secondaires */}\n          <div className=\"product-secondary-actions\">\n            <button className=\"wishlist-btn\">\n              <FaHeart />\n              Favoris\n            </button>\n            \n            <button className=\"share-btn\" onClick={handleShare}>\n              <FaShare />\n              Partager\n            </button>\n          </div>\n\n          {/* Informations supplémentaires */}\n          <div className=\"product-features\">\n            <div className=\"feature\">\n              <FaTruck />\n              <div>\n                <h5>Livraison gratuite</h5>\n                <p>Pour toute commande supérieure à 50 TND</p>\n              </div>\n            </div>\n            \n            <div className=\"feature\">\n              <FaShieldAlt />\n              <div>\n                <h5>Garantie 30 jours</h5>\n                <p>Retour et échange sans frais</p>\n              </div>\n            </div>\n            \n            <div className=\"feature\">\n              <FaUndo />\n              <div>\n                <h5>Retour facile</h5>\n                <p>Retour sous 30 jours</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Détails techniques */}\n          <div className=\"product-details\">\n            <h3>Détails du produit</h3>\n            <div className=\"details-grid\">\n              <div className=\"detail-item\">\n                <span className=\"label\">Référence:</span>\n                <span className=\"value\">{product._id}</span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"label\">Catégorie:</span>\n                <span className=\"value\">{formatCategory(product.categorie)}</span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"label\">Marque:</span>\n                <span className=\"value\">{formatBrand(product.marque)}</span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"label\">Matériau:</span>\n                <span className=\"value\">100% Coton</span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"label\">Entretien:</span>\n                <span className=\"value\">Lavage à 30°C</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Produits similaires */}\n      {relatedProducts.length > 0 && (\n        <div className=\"related-products\">\n          <h2>Produits similaires</h2>\n          <div className=\"related-products-grid\">\n            {relatedProducts.map(product => (\n              <RelatedProductCard key={product._id} product={product} />\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Composant produit similaire\nconst RelatedProductCard = ({ product }) => {\n  const navigate = useNavigate();\n\n  return (\n    <div className=\"related-product-card\" onClick={() => navigate(`/product/${product._id}`)}>\n      <div className=\"product-image\">\n        <img \n          src={product.images[0]?.url || '/placeholder-product.jpg'} \n          alt={product.images[0]?.alt || product.nom}\n          onError={(e) => {\n            e.target.src = '/placeholder-product.jpg';\n          }}\n        />\n      </div>\n      <div className=\"product-info\">\n        <h4>{product.nom}</h4>\n        <p className=\"brand\">{formatBrand(product.marque)}</p>\n        <div className=\"price\">\n          {product.prixPromo ? (\n            <>\n              <span className=\"original\">{product.prix} TND</span>\n              <span className=\"promo\">{product.prixPromo} TND</span>\n            </>\n          ) : (\n            <span>{product.prix} TND</span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}